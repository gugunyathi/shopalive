{"version":3,"sources":["../../../../../../shopalive/shopalive/node_modules/%40coinbase/cdp-hooks/dist/esm/index183.js","../../../../../../shopalive/shopalive/node_modules/%40coinbase/cdp-hooks/dist/esm/index184.js"],"sourcesContent":["import { call as h } from \"./index46.js\";\nimport { OffchainLookupSenderMismatchError as w, OffchainLookupError as b, OffchainLookupResponseMalformedError as k } from \"./index184.js\";\nimport { HttpRequestError as m } from \"./index35.js\";\nimport { decodeErrorResult as g } from \"./index109.js\";\nimport { encodeAbiParameters as q } from \"./index146.js\";\nimport { isAddressEqual as E } from \"./index163.js\";\nimport { concat as L } from \"./index135.js\";\nimport { isHex as O } from \"./index167.js\";\nimport { localBatchGatewayUrl as R, localBatchGatewayRequest as x } from \"./index185.js\";\nimport { stringify as S } from \"./index125.js\";\nconst I = \"0x556f1830\", T = {\n  name: \"OffchainLookup\",\n  type: \"error\",\n  inputs: [\n    {\n      name: \"sender\",\n      type: \"address\"\n    },\n    {\n      name: \"urls\",\n      type: \"string[]\"\n    },\n    {\n      name: \"callData\",\n      type: \"bytes\"\n    },\n    {\n      name: \"callbackFunction\",\n      type: \"bytes4\"\n    },\n    {\n      name: \"extraData\",\n      type: \"bytes\"\n    }\n  ]\n};\nasync function J(c, { blockNumber: i, blockTag: p, data: a, to: o }) {\n  const { args: n } = g({\n    data: a,\n    abi: [T]\n  }), [r, s, f, e, t] = n, { ccipRead: u } = c, d = u && typeof u?.request == \"function\" ? u.request : A;\n  try {\n    if (!E(o, r))\n      throw new w({ sender: r, to: o });\n    const l = s.includes(R) ? await x({\n      data: f,\n      ccipRequest: d\n    }) : await d({ data: f, sender: r, urls: s }), { data: y } = await h(c, {\n      blockNumber: i,\n      blockTag: p,\n      data: L([\n        e,\n        q([{ type: \"bytes\" }, { type: \"bytes\" }], [l, t])\n      ]),\n      to: o\n    });\n    return y;\n  } catch (l) {\n    throw new b({\n      callbackSelector: e,\n      cause: l,\n      data: a,\n      extraData: t,\n      sender: r,\n      urls: s\n    });\n  }\n}\nasync function A({ data: c, sender: i, urls: p }) {\n  let a = new Error(\"An unknown error occurred.\");\n  for (let o = 0; o < p.length; o++) {\n    const n = p[o], r = n.includes(\"{data}\") ? \"GET\" : \"POST\", s = r === \"POST\" ? { data: c, sender: i } : void 0, f = r === \"POST\" ? { \"Content-Type\": \"application/json\" } : {};\n    try {\n      const e = await fetch(n.replace(\"{sender}\", i.toLowerCase()).replace(\"{data}\", c), {\n        body: JSON.stringify(s),\n        headers: f,\n        method: r\n      });\n      let t;\n      if (e.headers.get(\"Content-Type\")?.startsWith(\"application/json\") ? t = (await e.json()).data : t = await e.text(), !e.ok) {\n        a = new m({\n          body: s,\n          details: t?.error ? S(t.error) : e.statusText,\n          headers: e.headers,\n          status: e.status,\n          url: n\n        });\n        continue;\n      }\n      if (!O(t)) {\n        a = new k({\n          result: t,\n          url: n\n        });\n        continue;\n      }\n      return t;\n    } catch (e) {\n      a = new m({\n        body: s,\n        details: e.message,\n        url: n\n      });\n    }\n  }\n  throw a;\n}\nexport {\n  A as ccipRequest,\n  J as offchainLookup,\n  T as offchainLookupAbiItem,\n  I as offchainLookupSignature\n};\n","import { stringify as m } from \"./index125.js\";\nimport { BaseError as a } from \"./index104.js\";\nimport { getUrl as t } from \"./index116.js\";\nclass l extends a {\n  constructor({ callbackSelector: r, cause: e, data: n, extraData: f, sender: c, urls: o }) {\n    super(e.shortMessage || \"An error occurred while fetching for an offchain result.\", {\n      cause: e,\n      metaMessages: [\n        ...e.metaMessages || [],\n        e.metaMessages?.length ? \"\" : [],\n        \"Offchain Gateway Call:\",\n        o && [\n          \"  Gateway URL(s):\",\n          ...o.map((d) => `    ${t(d)}`)\n        ],\n        `  Sender: ${c}`,\n        `  Data: ${n}`,\n        `  Callback selector: ${r}`,\n        `  Extra data: ${f}`\n      ].flat(),\n      name: \"OffchainLookupError\"\n    });\n  }\n}\nclass u extends a {\n  constructor({ result: r, url: e }) {\n    super(\"Offchain gateway response is malformed. Response data must be a hex value.\", {\n      metaMessages: [\n        `Gateway URL: ${t(e)}`,\n        `Response: ${m(r)}`\n      ],\n      name: \"OffchainLookupResponseMalformedError\"\n    });\n  }\n}\nclass g extends a {\n  constructor({ sender: r, to: e }) {\n    super(\"Reverted sender address does not match target contract address (`to`).\", {\n      metaMessages: [\n        `Contract address: ${e}`,\n        `OffchainLookup sender address: ${r}`\n      ],\n      name: \"OffchainLookupSenderMismatchError\"\n    });\n  }\n}\nexport {\n  l as OffchainLookupError,\n  u as OffchainLookupResponseMalformedError,\n  g as OffchainLookupSenderMismatchError\n};\n"],"names":[],"mappings":"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","ignoreList":[0,1]}