(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22109,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return(r+n)*3/4-n},r.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i[45]=62,i[95]=63},75249,(e,t,r)=>{r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=5960464477539062e-23*(23===i),h=n?0:o-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*m}},95095,(e,t,r)=>{"use strict";let n=e.r(22109),i=e.r(75249),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),o=s(r),u=o.write(n,i);return u!==r&&(o=o.slice(0,u)),o}if(ArrayBuffer.isView(e)){var o=e;if(L(o,Uint8Array)){let e=new Uint8Array(o);return d(e.buffer,e.byteOffset,e.byteLength)}return f(o)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return a.from(u,t,r);let c=function(e){if(a.isBuffer(e)){let t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function f(e){let t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(i)return n?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=j[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,s,a;return o=this,s=t,a=r,0===s&&a===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}function w(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}var o=n;let s=o.length;if(s<=4096)return String.fromCharCode.apply(String,o);let a="",u=0;for(;u<s;)a+=String.fromCharCode.apply(String,o.slice(u,u+=4096));return a}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i){P(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function E(e,t,r,n,i){P(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,r,n,o){return t*=1,r>>>=0,o||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,o){return t*=1,r>>>=0,o||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}r.Buffer=a,r.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,o,s,a,u,c,l,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){var a;let n=parseInt(t.substr(2*i,2),16);if((a=n)!=a)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,U(M(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,U(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,U(N(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,U(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=$(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=$(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=$(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=$(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let I={};function T(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function P(e,t,r,n,i,o){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new I.ERR_OUT_OF_RANGE("value",n,e)}O(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&R(i,n.length-(o+1))}function O(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,r){if(Math.floor(e)!==e)throw O(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=B(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=B(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let C=/[^+/0-9A-Za-z-_]/g;function M(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function N(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let j=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},45480,(e,t,r)=>{!function(e,t){"use strict";function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}e.exports=i,i.BN=i,i.wordSize=26;try{l="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:void 0}catch(e){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function a(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return 0>e.cmp(t)?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(r(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===n)for(s=e.length-1,i=0;s>=0;s-=3)o=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[i]|=o<<a&0x3ffffff,this.words[i+1]=o>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,i++);else if("le"===n)for(s=0,i=0;s<e.length;s+=3)o=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[i]|=o<<a&0x3ffffff,this.words[i+1]=o>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=s(e,t,i)<<o,this.words[a]|=0x3ffffff&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=s(e,t,i)<<o,this.words[a]|=0x3ffffff&n,o>=18?(o-=18,a+=1,this.words[a]|=n>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=0x3ffffff;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,u=Math.min(o,o-s)+r,c=0,l=r;l<u;l+=n)c=a(e,l,l+n,t),this.imuln(i),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=a(e,l,e.length,t),l=0;l<s;l++)f*=t;this.imuln(f),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(e){i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l,f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=0x3ffffff&s,u=s/0x4000000|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,f=0x3ffffff&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[h])+f)/0x4000000|0,f=0x3ffffff&s}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var n="",i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=((a<<i|o)&0xffffff).toString(16);o=a>>>24-i&0xffffff,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],l=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},l&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(l,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=e.allocUnsafe?e.allocUnsafe(o):new e(o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r((this.negative|e.negative)==0),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r((this.negative|e.negative)==0),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r((this.negative|e.negative)==0),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=0x3ffffff&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&0x3ffffff>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=0x3ffffff&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=0x3ffffff&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(n=(0|t.words[s])-(0|r.words[s])+o)>>26,this.words[s]=0x3ffffff&n;for(;0!==o&&s<t.length;s++)o=(n=(0|t.words[s])+o)>>26,this.words[s]=0x3ffffff&n;if(0===o&&s<t.length&&t!==this)for(;s<t.length;s++)this.words[s]=t.words[s];return this.length=Math.max(this.length,s),t!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,l=0|s[0],f=8191&l,d=l>>>13,h=0|s[1],p=8191&h,m=h>>>13,g=0|s[2],y=8191&g,b=g>>>13,w=0|s[3],v=8191&w,_=w>>>13,x=0|s[4],E=8191&x,S=x>>>13,A=0|s[5],k=8191&A,I=A>>>13,T=0|s[6],B=8191&T,P=T>>>13,O=0|s[7],R=8191&O,C=O>>>13,M=0|s[8],N=8191&M,U=M>>>13,L=0|s[9],j=8191&L,$=L>>>13,F=0|a[0],z=8191&F,D=F>>>13,q=0|a[1],H=8191&q,W=q>>>13,G=0|a[2],K=8191&G,V=G>>>13,J=0|a[3],Z=8191&J,Y=J>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],eo=8191&ei,es=ei>>>13,ea=0|a[7],eu=8191&ea,ec=ea>>>13,el=0|a[8],ef=8191&el,ed=el>>>13,eh=0|a[9],ep=8191&eh,em=eh>>>13;r.negative=e.negative^t.negative,r.length=19,n=Math.imul(f,z);var eg=(c+n|0)+((8191&(i=(i=Math.imul(f,D))+Math.imul(d,z)|0))<<13)|0;c=((o=Math.imul(d,D))+(i>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,n=Math.imul(p,z),i=(i=Math.imul(p,D))+Math.imul(m,z)|0,o=Math.imul(m,D),n=n+Math.imul(f,H)|0;var ey=(c+n|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,H)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,n=Math.imul(y,z),i=(i=Math.imul(y,D))+Math.imul(b,z)|0,o=Math.imul(b,D),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(f,K)|0;var eb=(c+n|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=0x3ffffff,n=Math.imul(v,z),i=(i=Math.imul(v,D))+Math.imul(_,z)|0,o=Math.imul(_,D),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,W)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(f,Z)|0;var ew=(c+n|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,n=Math.imul(E,z),i=(i=Math.imul(E,D))+Math.imul(S,z)|0,o=Math.imul(S,D),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(f,Q)|0;var ev=(c+n|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,n=Math.imul(k,z),i=(i=Math.imul(k,D))+Math.imul(I,z)|0,o=Math.imul(I,D),n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(f,er)|0;var e_=(c+n|0)+((8191&(i=(i=i+Math.imul(f,en)|0)+Math.imul(d,er)|0))<<13)|0;c=((o=o+Math.imul(d,en)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,n=Math.imul(B,z),i=(i=Math.imul(B,D))+Math.imul(P,z)|0,o=Math.imul(P,D),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(m,er)|0,o=o+Math.imul(m,en)|0,n=n+Math.imul(f,eo)|0;var ex=(c+n|0)+((8191&(i=(i=i+Math.imul(f,es)|0)+Math.imul(d,eo)|0))<<13)|0;c=((o=o+Math.imul(d,es)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,n=Math.imul(R,z),i=(i=Math.imul(R,D))+Math.imul(C,z)|0,o=Math.imul(C,D),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(b,er)|0,o=o+Math.imul(b,en)|0,n=n+Math.imul(p,eo)|0,i=(i=i+Math.imul(p,es)|0)+Math.imul(m,eo)|0,o=o+Math.imul(m,es)|0,n=n+Math.imul(f,eu)|0;var eE=(c+n|0)+((8191&(i=(i=i+Math.imul(f,ec)|0)+Math.imul(d,eu)|0))<<13)|0;c=((o=o+Math.imul(d,ec)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,n=Math.imul(N,z),i=(i=Math.imul(N,D))+Math.imul(U,z)|0,o=Math.imul(U,D),n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(v,er)|0,i=(i=i+Math.imul(v,en)|0)+Math.imul(_,er)|0,o=o+Math.imul(_,en)|0,n=n+Math.imul(y,eo)|0,i=(i=i+Math.imul(y,es)|0)+Math.imul(b,eo)|0,o=o+Math.imul(b,es)|0,n=n+Math.imul(p,eu)|0,i=(i=i+Math.imul(p,ec)|0)+Math.imul(m,eu)|0,o=o+Math.imul(m,ec)|0,n=n+Math.imul(f,ef)|0;var eS=(c+n|0)+((8191&(i=(i=i+Math.imul(f,ed)|0)+Math.imul(d,ef)|0))<<13)|0;c=((o=o+Math.imul(d,ed)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,n=Math.imul(j,z),i=(i=Math.imul(j,D))+Math.imul($,z)|0,o=Math.imul($,D),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,W)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,er)|0,i=(i=i+Math.imul(E,en)|0)+Math.imul(S,er)|0,o=o+Math.imul(S,en)|0,n=n+Math.imul(v,eo)|0,i=(i=i+Math.imul(v,es)|0)+Math.imul(_,eo)|0,o=o+Math.imul(_,es)|0,n=n+Math.imul(y,eu)|0,i=(i=i+Math.imul(y,ec)|0)+Math.imul(b,eu)|0,o=o+Math.imul(b,ec)|0,n=n+Math.imul(p,ef)|0,i=(i=i+Math.imul(p,ed)|0)+Math.imul(m,ef)|0,o=o+Math.imul(m,ed)|0,n=n+Math.imul(f,ep)|0;var eA=(c+n|0)+((8191&(i=(i=i+Math.imul(f,em)|0)+Math.imul(d,ep)|0))<<13)|0;c=((o=o+Math.imul(d,em)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,n=Math.imul(j,H),i=(i=Math.imul(j,W))+Math.imul($,H)|0,o=Math.imul($,W),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(U,K)|0,o=o+Math.imul(U,V)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,er)|0,i=(i=i+Math.imul(k,en)|0)+Math.imul(I,er)|0,o=o+Math.imul(I,en)|0,n=n+Math.imul(E,eo)|0,i=(i=i+Math.imul(E,es)|0)+Math.imul(S,eo)|0,o=o+Math.imul(S,es)|0,n=n+Math.imul(v,eu)|0,i=(i=i+Math.imul(v,ec)|0)+Math.imul(_,eu)|0,o=o+Math.imul(_,ec)|0,n=n+Math.imul(y,ef)|0,i=(i=i+Math.imul(y,ed)|0)+Math.imul(b,ef)|0,o=o+Math.imul(b,ed)|0,n=n+Math.imul(p,ep)|0;var ek=(c+n|0)+((8191&(i=(i=i+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;c=((o=o+Math.imul(m,em)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul($,K)|0,o=Math.imul($,V),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(U,Z)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(B,er)|0,i=(i=i+Math.imul(B,en)|0)+Math.imul(P,er)|0,o=o+Math.imul(P,en)|0,n=n+Math.imul(k,eo)|0,i=(i=i+Math.imul(k,es)|0)+Math.imul(I,eo)|0,o=o+Math.imul(I,es)|0,n=n+Math.imul(E,eu)|0,i=(i=i+Math.imul(E,ec)|0)+Math.imul(S,eu)|0,o=o+Math.imul(S,ec)|0,n=n+Math.imul(v,ef)|0,i=(i=i+Math.imul(v,ed)|0)+Math.imul(_,ef)|0,o=o+Math.imul(_,ed)|0,n=n+Math.imul(y,ep)|0;var eI=(c+n|0)+((8191&(i=(i=i+Math.imul(y,em)|0)+Math.imul(b,ep)|0))<<13)|0;c=((o=o+Math.imul(b,em)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,n=Math.imul(j,Z),i=(i=Math.imul(j,Y))+Math.imul($,Z)|0,o=Math.imul($,Y),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(U,Q)|0,o=o+Math.imul(U,ee)|0,n=n+Math.imul(R,er)|0,i=(i=i+Math.imul(R,en)|0)+Math.imul(C,er)|0,o=o+Math.imul(C,en)|0,n=n+Math.imul(B,eo)|0,i=(i=i+Math.imul(B,es)|0)+Math.imul(P,eo)|0,o=o+Math.imul(P,es)|0,n=n+Math.imul(k,eu)|0,i=(i=i+Math.imul(k,ec)|0)+Math.imul(I,eu)|0,o=o+Math.imul(I,ec)|0,n=n+Math.imul(E,ef)|0,i=(i=i+Math.imul(E,ed)|0)+Math.imul(S,ef)|0,o=o+Math.imul(S,ed)|0,n=n+Math.imul(v,ep)|0;var eT=(c+n|0)+((8191&(i=(i=i+Math.imul(v,em)|0)+Math.imul(_,ep)|0))<<13)|0;c=((o=o+Math.imul(_,em)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul($,Q)|0,o=Math.imul($,ee),n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(U,er)|0,o=o+Math.imul(U,en)|0,n=n+Math.imul(R,eo)|0,i=(i=i+Math.imul(R,es)|0)+Math.imul(C,eo)|0,o=o+Math.imul(C,es)|0,n=n+Math.imul(B,eu)|0,i=(i=i+Math.imul(B,ec)|0)+Math.imul(P,eu)|0,o=o+Math.imul(P,ec)|0,n=n+Math.imul(k,ef)|0,i=(i=i+Math.imul(k,ed)|0)+Math.imul(I,ef)|0,o=o+Math.imul(I,ed)|0,n=n+Math.imul(E,ep)|0;var eB=(c+n|0)+((8191&(i=(i=i+Math.imul(E,em)|0)+Math.imul(S,ep)|0))<<13)|0;c=((o=o+Math.imul(S,em)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=0x3ffffff,n=Math.imul(j,er),i=(i=Math.imul(j,en))+Math.imul($,er)|0,o=Math.imul($,en),n=n+Math.imul(N,eo)|0,i=(i=i+Math.imul(N,es)|0)+Math.imul(U,eo)|0,o=o+Math.imul(U,es)|0,n=n+Math.imul(R,eu)|0,i=(i=i+Math.imul(R,ec)|0)+Math.imul(C,eu)|0,o=o+Math.imul(C,ec)|0,n=n+Math.imul(B,ef)|0,i=(i=i+Math.imul(B,ed)|0)+Math.imul(P,ef)|0,o=o+Math.imul(P,ed)|0,n=n+Math.imul(k,ep)|0;var eP=(c+n|0)+((8191&(i=(i=i+Math.imul(k,em)|0)+Math.imul(I,ep)|0))<<13)|0;c=((o=o+Math.imul(I,em)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,n=Math.imul(j,eo),i=(i=Math.imul(j,es))+Math.imul($,eo)|0,o=Math.imul($,es),n=n+Math.imul(N,eu)|0,i=(i=i+Math.imul(N,ec)|0)+Math.imul(U,eu)|0,o=o+Math.imul(U,ec)|0,n=n+Math.imul(R,ef)|0,i=(i=i+Math.imul(R,ed)|0)+Math.imul(C,ef)|0,o=o+Math.imul(C,ed)|0,n=n+Math.imul(B,ep)|0;var eO=(c+n|0)+((8191&(i=(i=i+Math.imul(B,em)|0)+Math.imul(P,ep)|0))<<13)|0;c=((o=o+Math.imul(P,em)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,n=Math.imul(j,eu),i=(i=Math.imul(j,ec))+Math.imul($,eu)|0,o=Math.imul($,ec),n=n+Math.imul(N,ef)|0,i=(i=i+Math.imul(N,ed)|0)+Math.imul(U,ef)|0,o=o+Math.imul(U,ed)|0,n=n+Math.imul(R,ep)|0;var eR=(c+n|0)+((8191&(i=(i=i+Math.imul(R,em)|0)+Math.imul(C,ep)|0))<<13)|0;c=((o=o+Math.imul(C,em)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,n=Math.imul(j,ef),i=(i=Math.imul(j,ed))+Math.imul($,ef)|0,o=Math.imul($,ed),n=n+Math.imul(N,ep)|0;var eC=(c+n|0)+((8191&(i=(i=i+Math.imul(N,em)|0)+Math.imul(U,ep)|0))<<13)|0;c=((o=o+Math.imul(U,em)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,n=Math.imul(j,ep);var eM=(c+n|0)+((8191&(i=(i=Math.imul(j,em))+Math.imul($,ep)|0))<<13)|0;return c=((o=Math.imul($,em))+(i>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,u[0]=eg,u[1]=ey,u[2]=eb,u[3]=ew,u[4]=ev,u[5]=e_,u[6]=ex,u[7]=eE,u[8]=eS,u[9]=eA,u[10]=ek,u[11]=eI,u[12]=eT,u[13]=eB,u[14]=eP,u[15]=eO,u[16]=eR,u[17]=eC,u[18]=eM,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=0x3ffffff&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),d=0x3ffffff&f;s=s+(f/0x4000000|0)|0,a=0x3ffffff&(d=d+a|0),i+=(s=s+(d>>>26)|0)>>>26,s&=0x3ffffff}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t){this.x=e,this.y=t}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?r=m(this,e,t):n<63?r=p(this,e,t):r=g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=u,d=c,h=0;h<s;h++){var p=r[l+h],m=n[l+h],g=r[l+h+s],y=n[l+h+s],b=f*g-d*y;y=f*y+d*g,g=b,r[l+h]=p+g,n[l+h]=m+y,r[l+h+s]=p-g,n[l+h+s]=m-y,h!==a&&(b=u*f-c*d,d=u*d+c*f,f=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=0x3ffffff&i,r=i<0x4000000?0:i/0x4000000|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r((-8192&o)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=Array(n),a=Array(n),u=Array(n),c=Array(n),l=Array(n),f=Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,f,n,i);for(var h=0;h<n;h++){var p=a[h]*l[h]-u[h]*f[h];u[h]=a[h]*f[h]+u[h]*l[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<0x4000000);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(0x3ffffff&o)+(0x3ffffff&n);n>>=26,n+=(o/0x4000000|0)+(s>>>26),this.words[i]=0x3ffffff&s}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=0x3ffffff>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var i=t?(t-t%26)/26:0,o=e%26,s=Math.min((e-o)/26,this.length),a=0x3ffffff^0x3ffffff>>>o<<o;if(i-=s,i=Math.max(0,i),n){for(var u=0;u<s;u++)n.words[u]=this.words[u];n.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var l=0|this.words[u];this.words[u]=c<<26-o|l>>>o,c=l&a}return n&&0!==c&&(n.words[n.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n)&&!!(this.words[n]&1<<t)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>t<<t),this._strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return(r("number"==typeof e),r(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;o-=0x3ffffff&u,a=(o>>26)-(u/0x4000000|0),this.words[i+n]=0x3ffffff&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=0x3ffffff&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=0x3ffffff&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,o=this.clone(),s=e,a=0|s.words[s.length-1];0!=(n=26-this._countBits(a))&&(s=s.ushln(n),o.iushln(n),a=0|s.words[s.length-1]);var u=o.length-s.length;if("mod"!==t){(r=new i(null)).length=u+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var l=o.clone()._ishlnsubmul(s,1,u);0===l.negative&&(o=l,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var d=(0|o.words[s.length+f])*0x4000000+(0|o.words[s.length+f-1]);for(d=Math.min(d/a|0,0x3ffffff),o._ishlnsubmul(s,d,f);0!==o.negative;)d--,o.negative=0,o._ishlnsubmul(s,1,f),o.isZero()||(o.negative^=1);r&&(r.words[f]=d)}return r&&r._strip(),o._strip(),"div"!==t&&0!==n&&o.iushrn(n),{div:r||null,mod:o}},i.prototype.divmod=function(e,t,n){var o,s,a;return(r(!e.isZero()),this.isZero())?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var n=0x4000000%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+0x4000000*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;(t.words[0]&h)==0&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;(n.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(f)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(u)):(n.isub(t),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var c=0,l=1;(n.words[0]&l)==0&&c<26;++c,l<<=1);if(c>0)for(n.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,d=1;(o.words[0]&d)==0&&f<26;++f,d<<=1);if(f>0)for(o.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return 0>(t=0===n.cmpn(1)?s:a).cmpn(0)&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=0x3ffffff,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=0x3ffffff,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return -1===this.cmpn(e)},i.prototype.lt=function(e){return -1===this.cmp(e)},i.prototype.lten=function(e){return 0>=this.cmpn(e)},i.prototype.lte=function(e){return 0>=this.cmp(e)},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},n(v,w),v.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=0x3ffffff&t,t=64*n+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,w),n(x,w),n(E,w),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=0x3ffffff&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new x;else if("p25519"===e)t=new E;else throw Error("Unknown prime "+e);return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r((e.negative|t.negative)==0,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),d=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=s;0!==h.cmp(a);){for(var m=h,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(f,new i(1).iushln(p-g-1));d=d.redMul(y),f=y.redSqr(),h=h.redMul(f),p=g}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;if(o!==r[0]&&(o=this.sqr(o)),0===f&&0===s){a=0;continue}s<<=1,s|=f,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):0>o.cmpn(0)&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,e.e)},35696,(e,t,r)=>{var n=e.r(95095),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},53813,(e,t,r)=>{"use strict";var n=e.r(35696).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var s=(e.length-r)*c+1>>>0,l=new Uint8Array(s);r<e.length;){var f=e.charCodeAt(r);if(f>255)return;var d=t[f];if(255===d)return;for(var h=0,p=s-1;(0!==d||h<o)&&-1!==p;p--,h++)d+=a*l[p]>>>0,l[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");o=h,r++}for(var m=s-o;m!==s&&0===l[m];)m++;var g=n.allocUnsafe(i+(s-m));g.fill(0,0,i);for(var y=i;m!==s;)g[y++]=l[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var c=(s-o)*l+1>>>0,f=new Uint8Array(c);o!==s;){for(var d=t[o],h=0,p=c-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*f[p]>>>0,f[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");i=h,o++}for(var m=c-i;m!==c&&0===f[m];)m++;for(var g=u.repeat(r);m<c;++m)g+=e.charAt(f[m]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},78458,(e,t,r)=>{t.exports=e.r(53813)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},90383,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|h(n,i),u=s(o),c=u.write(n,i);return c!==o&&(u=u.slice(0,c)),u}if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return a.from(l,t,r);var p=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(i)return n?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=P[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,s=r,0===o&&s===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(B(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}var d=n,h=d.length;if(h<=4096)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<h;)p+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return p}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function _(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function x(e,t,r,n,o){return t*=1,r>>>=0,o||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function E(e,t,r,n,o){return t*=1,r>>>=0,o||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var h=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a,u=parseInt(t.substr(2*s,2),16);if((a=u)!=a)break;e[r+s]=u}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,T(A(e,this.length-i),this,i,o);case"ascii":return s=t,a=r,T(k(e),this,s,a);case"latin1":case"binary":return function(e,t,r,n){return T(k(t),e,r,n)}(this,e,t,r);case"base64":return u=t,c=r,T(I(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,T(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;v(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;v(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);v(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);v(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%u]}return this};var S=/[^+/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function k(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function I(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var P=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=5960464477539062e-23*(23===i),h=n?0:o-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*m}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},s=!0;try{n[e](r,r.exports,o),s=!1}finally{s&&delete i[e]}return r.exports}o.ab="/ROOT/shopalive/shopalive/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},35894,(e,t,r)=>{"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){this.tokens=[].slice.call(e)}function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var a="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,r=0,i=0,o=0,a=128,u=191;this.handler=function(e,c){if(-1===c&&0!==o)return o=0,s(t);if(-1===c)return -1;if(0===o){if(n(c,0,127))return c;if(n(c,194,223))o=1,r=c-192;else if(n(c,224,239))224===c&&(a=160),237===c&&(u=159),o=2,r=c-224;else{if(!n(c,240,244))return s(t);240===c&&(a=144),244===c&&(u=143),o=3,r=c-240}return r<<=6*o,null}if(!n(c,a,u))return r=o=i=0,a=128,u=191,e.prepend(c),s(t);if(a=128,u=191,i+=1,r+=c-128<<6*(o-i),i!==o)return null;var l=r;return r=o=i=0,l}}function f(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(n(t,0,127))return t;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var r,i,o=[(t>>6*r)+i];r>0;){var s=t>>6*(r-1);o.push(128|63&s),r-=1}return o}}u.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,n,s=new o(r),a=[];!s.endOfStream()&&-1!==(n=this._decoder.handler(s,s.read()));)null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(s,s.read())))break;if(null===n)continue;Array.isArray(n)?a.push.apply(a,n):a.push(n)}while(!s.endOfStream())this._decoder=null}!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0);for(var u="",c=0;c<a.length;++c){var f=a[c];f<=65535?u+=String.fromCharCode(f):(f-=65536,u+=String.fromCharCode((f>>10)+55296,(1023&f)+56320))}return u}},c.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=!!t.stream;for(var r,n=[],s=new o(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!s.endOfStream()&&-1!==(r=this._encoder.handler(s,s.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(s,s.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}},r.TextEncoder=c,r.TextDecoder=u},7596,(e,t,r)=>{"use strict";var n=e.i(90383),i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUnchecked=r.deserialize=r.serialize=r.BinaryReader=r.BinaryWriter=r.BorshError=r.baseDecode=r.baseEncode=void 0;let c=u(e.r(45480)),l=u(e.r(78458)),f=a(e.r(35894)),d=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});r.baseEncode=function(e){return"string"==typeof e&&(e=n.Buffer.from(e,"utf8")),l.default.encode(n.Buffer.from(e))},r.baseDecode=function(e){return n.Buffer.from(l.default.decode(e))};class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}r.BorshError=h;class p{constructor(){this.buf=n.Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.Buffer.concat([this.buf,n.Buffer.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.Buffer.concat([n.Buffer.from(this.buf.subarray(0,this.length)),e,n.Buffer.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.Buffer.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new h("Reached the end of buffer when deserializing");throw e}}}r.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new c.default(e,"le")}readU128(){let e=this.readBuffer(16);return new c.default(e,"le")}readU256(){let e=this.readBuffer(32);return new c.default(e,"le")}readU512(){let e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(e){throw new h(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"==typeof n)i[`write${y(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new h(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new h(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{b(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{b(e,t,o,n.key,i),b(e,t,r,n.value,i)});break;default:throw new h(`FieldType ${n} unrecognized`)}else w(e,r,i)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function w(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let n=e.get(t.constructor);if(!n)throw new h(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{b(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),b(e,s,t[s],a,r);break}}}else throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function v(e,t,r,n){try{if("string"==typeof r)return n[`read${y(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return n.readFixedArray(r[0]);else{if("number"!=typeof r[1])return n.readArray(()=>v(e,t,r[0],n));let i=[];for(let t=0;t<r[1];t++)i.push(v(e,null,r[0],n));return i}if("option"===r.kind){if(n.readU8())return v(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let o=v(e,t,r.key,n),s=v(e,t,r.value,n);i.set(o,s)}return i}return _(e,r,n)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function _(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new h(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,o]of e.get(t).fields)n[i]=v(e,i,o,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new h(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=v(e,o,s,r);return new t({[o]:a})}throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}s([m],g.prototype,"readU8",null),s([m],g.prototype,"readU16",null),s([m],g.prototype,"readU32",null),s([m],g.prototype,"readU64",null),s([m],g.prototype,"readU128",null),s([m],g.prototype,"readU256",null),s([m],g.prototype,"readU512",null),s([m],g.prototype,"readString",null),s([m],g.prototype,"readFixedArray",null),s([m],g.prototype,"readArray",null),r.BinaryReader=g,r.serialize=function(e,t,r=p){let n=new r;return w(e,t,n),n.toArray()},r.deserialize=function(e,t,r,n=g){let i=new n(r),o=_(e,t,i);if(i.offset<r.length)throw new h(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},r.deserializeUnchecked=function(e,t,r,n=g){return _(e,t,new n(r))}},66393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.s16=r.s8=r.nu64be=r.u48be=r.u40be=r.u32be=r.u24be=r.u16be=r.nu64=r.u48=r.u40=r.u32=r.u24=r.u16=r.u8=r.offset=r.greedy=r.Constant=r.UTF8=r.CString=r.Blob=r.Boolean=r.BitField=r.BitStructure=r.VariantLayout=r.Union=r.UnionLayoutDiscriminator=r.UnionDiscriminator=r.Structure=r.Sequence=r.DoubleBE=r.Double=r.FloatBE=r.Float=r.NearInt64BE=r.NearInt64=r.NearUInt64BE=r.NearUInt64=r.IntBE=r.Int=r.UIntBE=r.UInt=r.OffsetLayout=r.GreedyCount=r.ExternalLayout=r.bindConstructorLayout=r.nameWithProperty=r.Layout=r.uint8ArrayToBuffer=r.checkUint8Array=void 0,r.constant=r.utf8=r.cstr=r.blob=r.unionLayoutDiscriminator=r.union=r.seq=r.bits=r.struct=r.f64be=r.f64=r.f32be=r.f32=r.ns64be=r.s48be=r.s40be=r.s32be=r.s24be=r.s16be=r.ns64=r.s48=r.s40=r.s32=r.s24=void 0;let n=e.r(95095);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function o(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}r.checkUint8Array=i,r.uint8ArrayToBuffer=o;class s{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=s,r.nameWithProperty=a,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof s))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class u extends s{isCount(){throw Error("ExternalLayout is abstract")}}r.ExternalLayout=u;class c extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){return i(e),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}r.GreedyCount=c;class l extends u{constructor(e,t=0,r){if(!(e instanceof s))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof f||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}r.OffsetLayout=l;class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntLE(e,r,this.span),this.span}}r.UInt=f;class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntBE(e,r,this.span),this.span}}r.UIntBE=d;class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeIntLE(e,r,this.span),this.span}}r.Int=h;class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeIntBE(e,r,this.span),this.span}}function m(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function g(e,t){return 0x100000000*e+t}r.IntBE=p;class y extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return g(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}r.NearUInt64=y;class b extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e);return g(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearUInt64BE=b;class w extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return g(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}r.NearInt64=w;class v extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e);return g(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearInt64BE=v;class _ extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatLE(t)}encode(e,t,r=0){return o(t).writeFloatLE(e,r),4}}r.Float=_;class x extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatBE(t)}encode(e,t,r=0){return o(t).writeFloatBE(e,r),4}}r.FloatBE=x;class E extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleLE(t)}encode(e,t,r=0){return o(t).writeDoubleLE(e,r),8}}r.Double=E;class S extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleBE(t)}encode(e,t,r=0){return o(t).writeDoubleBE(e,r),8}}r.DoubleBE=S;class A extends s{constructor(e,t,r){if(!(e instanceof s))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof u||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}r.Sequence=A;class k extends s{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof s,!0)))throw TypeError("fields must be array of Layout instances");for(const n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,o=0;for(let n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>s&&(s=n.getSpan(t,r)))}i=r,r+=s}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}r.Structure=k;class I{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}r.UnionDiscriminator=I;class T extends I{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}r.UnionLayoutDiscriminator=T;class B extends s{constructor(e,t,r){let n;if(e instanceof f||e instanceof d)n=new T(new l(e));else if(e instanceof u&&e.isCount())n=new T(e);else if(e instanceof I)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof s))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof f||e instanceof d)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof f||e instanceof d,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let o=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new P(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}r.Union=B;class P extends s{constructor(e,t,r,n){if(!(e instanceof B))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof s))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=0x100000000),e}r.VariantLayout=P;class R extends s{constructor(e,t,r){if(!(e instanceof f||e instanceof d))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=O(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new C(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new M(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}r.BitStructure=R;class C{constructor(e,t,r){if(!(e instanceof R))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|r)}}r.BitField=C;class M extends C{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}r.Boolean=M;class N extends s{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}r.Blob=N;class U extends s{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),s=i.length;if(r+s>t.length)throw RangeError("encoding overruns Buffer");let a=o(t);return i.copy(a,r),a[r+s]=0,s+1}}r.CString=U;class L extends s{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw RangeError("text length exceeds maxSpan");if(r+s>t.length)throw RangeError("encoding overruns Buffer");return i.copy(o(t),r),s}}r.UTF8=L;class j extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}r.Constant=j,r.greedy=(e,t)=>new c(e,t),r.offset=(e,t,r)=>new l(e,t,r),r.u8=e=>new f(1,e),r.u16=e=>new f(2,e),r.u24=e=>new f(3,e),r.u32=e=>new f(4,e),r.u40=e=>new f(5,e),r.u48=e=>new f(6,e),r.nu64=e=>new y(e),r.u16be=e=>new d(2,e),r.u24be=e=>new d(3,e),r.u32be=e=>new d(4,e),r.u40be=e=>new d(5,e),r.u48be=e=>new d(6,e),r.nu64be=e=>new b(e),r.s8=e=>new h(1,e),r.s16=e=>new h(2,e),r.s24=e=>new h(3,e),r.s32=e=>new h(4,e),r.s40=e=>new h(5,e),r.s48=e=>new h(6,e),r.ns64=e=>new w(e),r.s16be=e=>new p(2,e),r.s24be=e=>new p(3,e),r.s32be=e=>new p(4,e),r.s40be=e=>new p(5,e),r.s48be=e=>new p(6,e),r.ns64be=e=>new v(e),r.f32=e=>new _(e),r.f32be=e=>new x(e),r.f64=e=>new E(e),r.f64be=e=>new S(e),r.struct=(e,t,r)=>new k(e,t,r),r.bits=(e,t,r)=>new R(e,t,r),r.seq=(e,t,r)=>new A(e,t,r),r.union=(e,t,r)=>new B(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new T(e,t),r.blob=(e,t)=>new N(e,t),r.cstr=e=>new U(e),r.utf8=(e,t)=>new L(e,t),r.constant=(e,t)=>new j(e,t)},14923,e=>{"use strict";e.s([],63175),e.i(63175);var t,r,n,i=new Uint8Array(16);function o(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}let s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&s.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));let l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var f=0,d=0;let h=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function p(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=h(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return l(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return(e+64>>>9<<4)+14+1}function g(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function y(e,t,r,n,i,o){var s;return g((s=g(g(t,e),g(n,o)))<<i|s>>>32-i,r)}function b(e,t,r,n,i,o,s){return y(t&r|~t&n,e,t,i,o,s)}function w(e,t,r,n,i,o,s){return y(t&n|r&~n,e,t,i,o,s)}function v(e,t,r,n,i,o,s){return y(t^r^n,e,t,i,o,s)}function _(e,t,r,n,i,o,s){return y(r^(t|~n),e,t,i,o,s)}var x=p("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=0x67452301,n=-0x10325477,i=-0x67452302,o=0x10325476,s=0;s<e.length;s+=16){var a=r,u=n,c=i,l=o;r=b(r,n,i,o,e[s],7,-0x28955b88),o=b(o,r,n,i,e[s+1],12,-0x173848aa),i=b(i,o,r,n,e[s+2],17,0x242070db),n=b(n,i,o,r,e[s+3],22,-0x3e423112),r=b(r,n,i,o,e[s+4],7,-0xa83f051),o=b(o,r,n,i,e[s+5],12,0x4787c62a),i=b(i,o,r,n,e[s+6],17,-0x57cfb9ed),n=b(n,i,o,r,e[s+7],22,-0x2b96aff),r=b(r,n,i,o,e[s+8],7,0x698098d8),o=b(o,r,n,i,e[s+9],12,-0x74bb0851),i=b(i,o,r,n,e[s+10],17,-42063),n=b(n,i,o,r,e[s+11],22,-0x76a32842),r=b(r,n,i,o,e[s+12],7,0x6b901122),o=b(o,r,n,i,e[s+13],12,-0x2678e6d),i=b(i,o,r,n,e[s+14],17,-0x5986bc72),n=b(n,i,o,r,e[s+15],22,0x49b40821),r=w(r,n,i,o,e[s+1],5,-0x9e1da9e),o=w(o,r,n,i,e[s+6],9,-0x3fbf4cc0),i=w(i,o,r,n,e[s+11],14,0x265e5a51),n=w(n,i,o,r,e[s],20,-0x16493856),r=w(r,n,i,o,e[s+5],5,-0x29d0efa3),o=w(o,r,n,i,e[s+10],9,0x2441453),i=w(i,o,r,n,e[s+15],14,-0x275e197f),n=w(n,i,o,r,e[s+4],20,-0x182c0438),r=w(r,n,i,o,e[s+9],5,0x21e1cde6),o=w(o,r,n,i,e[s+14],9,-0x3cc8f82a),i=w(i,o,r,n,e[s+3],14,-0xb2af279),n=w(n,i,o,r,e[s+8],20,0x455a14ed),r=w(r,n,i,o,e[s+13],5,-0x561c16fb),o=w(o,r,n,i,e[s+2],9,-0x3105c08),i=w(i,o,r,n,e[s+7],14,0x676f02d9),n=w(n,i,o,r,e[s+12],20,-0x72d5b376),r=v(r,n,i,o,e[s+5],4,-378558),o=v(o,r,n,i,e[s+8],11,-0x788e097f),i=v(i,o,r,n,e[s+11],16,0x6d9d6122),n=v(n,i,o,r,e[s+14],23,-0x21ac7f4),r=v(r,n,i,o,e[s+1],4,-0x5b4115bc),o=v(o,r,n,i,e[s+4],11,0x4bdecfa9),i=v(i,o,r,n,e[s+7],16,-0x944b4a0),n=v(n,i,o,r,e[s+10],23,-0x41404390),r=v(r,n,i,o,e[s+13],4,0x289b7ec6),o=v(o,r,n,i,e[s],11,-0x155ed806),i=v(i,o,r,n,e[s+3],16,-0x2b10cf7b),n=v(n,i,o,r,e[s+6],23,0x4881d05),r=v(r,n,i,o,e[s+9],4,-0x262b2fc7),o=v(o,r,n,i,e[s+12],11,-0x1924661b),i=v(i,o,r,n,e[s+15],16,0x1fa27cf8),n=v(n,i,o,r,e[s+2],23,-0x3b53a99b),r=_(r,n,i,o,e[s],6,-0xbd6ddbc),o=_(o,r,n,i,e[s+7],10,0x432aff97),i=_(i,o,r,n,e[s+14],15,-0x546bdc59),n=_(n,i,o,r,e[s+5],21,-0x36c5fc7),r=_(r,n,i,o,e[s+12],6,0x655b59c3),o=_(o,r,n,i,e[s+3],10,-0x70f3336e),i=_(i,o,r,n,e[s+10],15,-1051523),n=_(n,i,o,r,e[s+1],21,-0x7a7ba22f),r=_(r,n,i,o,e[s+8],6,0x6fa87e4f),o=_(o,r,n,i,e[s+15],10,-0x1d31920),i=_(i,o,r,n,e[s+6],15,-0x5cfebcec),n=_(n,i,o,r,e[s+13],21,0x4e0811a1),r=_(r,n,i,o,e[s+4],6,-0x8ac817e),o=_(o,r,n,i,e[s+11],10,-0x42c50dcb),i=_(i,o,r,n,e[s+2],15,0x2ad7d2bb),n=_(n,i,o,r,e[s+9],21,-0x14792c6f),r=g(r,a),n=g(n,u),i=g(i,c),o=g(o,l)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))});function E(e,t){return e<<t|e>>>32-t}var S=p("v5",80,function(e){var t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],r=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=Math.ceil((e.length/4+2)/16),s=Array(o),a=0;a<o;++a){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*a+4*c]<<24|e[64*a+4*c+1]<<16|e[64*a+4*c+2]<<8|e[64*a+4*c+3];s[a]=u}s[o-1][14]=(e.length-1)*8/0x100000000,s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(e.length-1)*8|0;for(var l=0;l<o;++l){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=s[l][d];for(var h=16;h<80;++h)f[h]=E(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);for(var p=r[0],m=r[1],g=r[2],y=r[3],b=r[4],w=0;w<80;++w){var v=Math.floor(w/20),_=E(p,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(v,m,g,y)+b+t[v]+f[w]>>>0;b=y,y=g,g=E(m,30)>>>0,m=p,p=_}r[0]=r[0]+p>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,h,"stringify",0,l,"v1",0,function(e,t,i){var s=t&&i||0,a=t||Array(16),u=(e=e||{}).node||r,c=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==c){var h=e.random||(e.rng||o)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==c&&(c=n=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:d+1,g=p-f+(m-d)/1e4;if(g<0&&void 0===e.clockseq&&(c=c+1&16383),(g<0||p>f)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,d=m,n=c;var y=((0xfffffff&(p+=122192928e5))*1e4+m)%0x100000000;a[s++]=y>>>24&255,a[s++]=y>>>16&255,a[s++]=y>>>8&255,a[s++]=255&y;var b=p/0x100000000*1e4&0xfffffff;a[s++]=b>>>8&255,a[s++]=255&b,a[s++]=b>>>24&15|16,a[s++]=b>>>16&255,a[s++]=c>>>8|128,a[s++]=255&c;for(var w=0;w<6;++w)a[s+w]=u[w];return t||l(a)},"v3",0,x,"v4",0,function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)},"v5",0,S,"validate",0,a,"version",0,function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],14923)},65939,(e,t,r)=>{"use strict";let n=e.r(14923).v4;t.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw TypeError(o+" must be 1 or 2");let s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");s.params=t}return void 0===r?s.id=("function"==typeof i.generator?i.generator:function(){return n()})(s,i):2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r,s}},79113,(e,t,r)=>{"use strict";let n=e.r(14923).v4,i=e.r(65939),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};t.exports=o,o.prototype.request=function(e,t,r,n){let o,s=this,a=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let c=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||c)n=t,a=e;else{"function"==typeof r&&(n=r,r=void 0);let o="function"==typeof n;try{a=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(o)return n(e);throw e}if(!o)return a}try{o=JSON.stringify(a,this.options.replacer)}catch(e){return n(e)}return this.callServer(o,function(e,t){s._parseResponse(e,t,n)}),a},o.prototype._parseResponse=function(e,t,r){let n;if(e)return void r(e);if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(n))return r(null,n.error,n.result);else{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}r(null,n)}},82425,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,r,n,o){if("function"!=typeof r)throw TypeError("The listener must be a function");var a=new s(r,n||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=Array(o);n<o;n++)s[n]=r[n].fn;return s},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,o),!0;case 6:return l.fn.call(l.context,t,r,n,o,s),!0}for(c=1,u=Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!u)for(d=1,u=Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||u(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==t||n&&!s[a].once||r&&s[a].context!==r)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},89379,93514,40473,6307,9123,16527,56819,e=>{"use strict";let t,r;var n,i,o,s,a,u,c,l=e.i(95095),f=e.i(15120),d=e.i(65710);let h=BigInt(0),p=BigInt(1);function m(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function g(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function y(e,t,r=""){let n=(0,d.isBytes)(e),i=e?.length,o=void 0!==t;if(!n||o&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function b(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?h:BigInt("0x"+e)}function v(e){return w((0,d.bytesToHex)(e))}function _(e){return(0,d.abytes)(e),w((0,d.bytesToHex)(Uint8Array.from(e).reverse()))}function x(e,t){return(0,d.hexToBytes)(e.toString(16).padStart(2*t,"0"))}function E(e,t){return x(e,t).reverse()}function S(e){return(0,d.hexToBytes)(b(e))}function A(e,t,r){let n;if("string"==typeof t)try{n=(0,d.hexToBytes)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,d.isBytes)(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function k(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function I(e){return Uint8Array.from(e)}function T(e){return Uint8Array.from(e,(t,r)=>{let n=t.charCodeAt(0);if(1!==t.length||n>127)throw Error(`string contains non-ASCII character "${e[r]}" with code ${n} at position ${r}`);return n})}let B=e=>"bigint"==typeof e&&h<=e;function P(e,t,r){return B(e)&&B(t)&&B(r)&&t<=e&&e<r}function O(e,t,r,n){if(!P(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function R(e){let t;for(t=0;e>h;e>>=p,t+=1);return t}function C(e,t){return e>>BigInt(t)&p}function M(e,t,r){return e|(r?p:h)<<BigInt(t)}let N=e=>(p<<BigInt(e))-p;function U(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=n(e),o=n(e),s=0,a=()=>{i.fill(1),o.fill(0),s=0},u=(...e)=>r(o,i,...e),c=(e=n(0))=>{(o=u(Uint8Array.of(0),e),i=u(),0!==e.length)&&(o=u(Uint8Array.of(1),e),i=u())},l=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=u()).slice();r.push(t),e+=i.length}return(0,d.concatBytes)(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(l()));)c();return a(),r}}let L={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,d.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function j(e,t,r={}){let n=(t,r,n)=>{let i=L[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function $(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)}function F(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}let z=()=>{throw Error("not implemented")};function D(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}e.s(["_abool2",()=>g,"_abytes2",()=>y,"_validateObject",()=>F,"aInRange",()=>O,"abool",()=>m,"asciiToBytes",()=>T,"bitGet",()=>C,"bitLen",()=>R,"bitMask",0,N,"bitSet",()=>M,"bytesToNumberBE",()=>v,"bytesToNumberLE",()=>_,"copyBytes",()=>I,"createHmacDrbg",()=>U,"ensureBytes",()=>A,"equalBytes",()=>k,"hexToNumber",()=>w,"inRange",()=>P,"isHash",()=>$,"memoized",()=>D,"notImplemented",0,z,"numberToBytesBE",()=>x,"numberToBytesLE",()=>E,"numberToHexUnpadded",()=>b,"numberToVarBytesBE",()=>S,"validateObject",()=>j],93514);let q=BigInt(0),H=BigInt(1),W=BigInt(2),G=BigInt(3),K=BigInt(4),V=BigInt(5),J=BigInt(7),Z=BigInt(8),Y=BigInt(9),X=BigInt(16);function Q(e,t){let r=e%t;return r>=q?r:t+r}function ee(e,t,r){let n=e;for(;t-- >q;)n*=n,n%=r;return n}function et(e,t){if(e===q)throw Error("invert: expected non-zero number");if(t<=q)throw Error("invert: expected positive modulus, got "+t);let r=Q(e,t),n=t,i=q,o=H,s=H,a=q;for(;r!==q;){let e=n/r,t=n%r,u=i-s*e,c=o-a*e;n=r,r=t,i=s,o=a,s=u,a=c}if(n!==H)throw Error("invert: does not exist");return Q(i,t)}function er(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function en(e,t){let r=(e.ORDER+H)/K,n=e.pow(t,r);return er(e,n,t),n}function ei(e,t){let r=(e.ORDER-V)/Z,n=e.mul(t,W),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,W),i),a=e.mul(o,e.sub(s,e.ONE));return er(e,a,t),a}function eo(e){if(e<G)throw Error("sqrt is not defined for small field");let t=e-H,r=0;for(;t%W===q;)t/=W,r++;let n=W,i=ed(e);for(;1===el(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return en;let o=i.pow(n,t),s=(t+H)/W;return function(e,n){if(e.is0(n))return n;if(1!==el(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),u=e.pow(n,t),c=e.pow(n,s);for(;!e.eql(u,e.ONE);){if(e.is0(u))return e.ZERO;let t=1,r=e.sqr(u);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=H<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),u=e.mul(u,a),c=e.mul(c,o)}return c}}let es=(e,t)=>(Q(e,t)&H)===H,ea=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eu(e){return F(e,ea.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),e}function ec(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function el(e,t){let r=(e.ORDER-H)/W,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function ef(e,t){void 0!==t&&(0,d.anumber)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ed(e,t,r=!1,n={}){let i,o,s,a;if(e<=q)throw Error("invalid field: expected ORDER > 0, got "+e);let u=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(o=t.BITS),t.sqrt&&(s=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(u=t.modFromBytes),a=t.allowedLengths}else"number"==typeof t&&(o=t),n.sqrt&&(s=n.sqrt);let{nBitLength:c,nByteLength:l}=ef(e,o);if(l>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let f=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:l,MASK:N(c),ZERO:q,ONE:H,allowedLengths:a,create:t=>Q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return q<=t&&t<e},is0:e=>e===q,isValidNot0:e=>!f.is0(e)&&f.isValid(e),isOdd:e=>(e&H)===H,neg:t=>Q(-t,e),eql:(e,t)=>e===t,sqr:t=>Q(t*t,e),add:(t,r)=>Q(t+r,e),sub:(t,r)=>Q(t-r,e),mul:(t,r)=>Q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<q)throw Error("invalid exponent, negatives unsupported");if(r===q)return e.ONE;if(r===H)return t;let n=e.ONE,i=t;for(;r>q;)r&H&&(n=e.mul(n,i)),i=e.sqr(i),r>>=H;return n})(f,e,t),div:(t,r)=>Q(t*et(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>et(t,e),sqrt:s||(t=>(i||(i=function(e){if(e%K===G)return en;if(e%Z===V)return ei;if(e%X===Y){let t,r,n,i,o,s;return t=ed(e),n=(r=eo(e))(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),s=(e+J)/X,(e,t)=>{let r=e.pow(t,s),a=e.mul(r,n),u=e.mul(r,i),c=e.mul(r,o),l=e.eql(e.sqr(a),t),f=e.eql(e.sqr(u),t);r=e.cmov(r,a,l),a=e.cmov(c,u,f);let d=e.eql(e.sqr(a),t),h=e.cmov(r,a,d);return er(e,h,t),h}}return eo(e)}(e)),i(f,t))),toBytes:e=>r?E(e,l):x(e,l),fromBytes:(t,n=!0)=>{if(a){if(!a.includes(t.length)||t.length>l)throw Error("Field.fromBytes: expected "+a+" bytes, got "+t.length);let e=new Uint8Array(l);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==l)throw Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=r?_(t):v(t);if(u&&(i=Q(i,e)),!n&&!f.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ec(f,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(f)}function eh(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ep(e){let t=eh(e);return t+Math.ceil(t/2)}let em=BigInt(0),eg=BigInt(1);function ey(e,t){let r=t.negate();return e?r:t}function eb(e,t){let r=ec(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function ew(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ev(e,t){ew(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:N(e),maxNumber:i,shiftBy:BigInt(e)}}function e_(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),u=e>>s;a>n&&(a-=o,u+=eg);let c=t*n,l=c+Math.abs(a)-1,f=0===a;return{nextN:u,offset:l,isZero:f,isNeg:a<0,isNegF:t%2!=0,offsetF:c}}let ex=new WeakMap,eE=new WeakMap;function eS(e){return eE.get(e)||1}function eA(e){if(e!==em)throw Error("invalid wNAF")}class ek{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>em;)t&eg&&(r=r.add(n)),n=n.double(),t>>=eg;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=ev(t,this.bits),i=[],o=e,s=o;for(let e=0;e<r;e++){s=o,i.push(s);for(let e=1;e<n;e++)s=s.add(o),i.push(s);o=s.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,i=this.BASE,o=ev(e,this.bits);for(let e=0;e<o.windows;e++){let{nextN:s,offset:a,isZero:u,isNeg:c,isNegF:l,offsetF:f}=e_(r,e,o);r=s,u?i=i.add(ey(l,t[f])):n=n.add(ey(c,t[a]))}return eA(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){let i=ev(e,this.bits);for(let e=0;e<i.windows&&r!==em;e++){let{nextN:o,offset:s,isZero:a,isNeg:u}=e_(r,e,i);if(r=o,!a){let e=t[s];n=n.add(u?e.negate():e)}}return eA(r),n}getPrecomputes(e,t,r){let n=ex.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),ex.set(t,n))),n}cached(e,t,r){let n=eS(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let i=eS(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){ew(t,this.bits),eE.set(e,t),ex.delete(e)}hasCache(e){return 1!==eS(e)}}function eI(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=R(BigInt(i)),u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);let c=N(u),l=Array(Number(c)+1).fill(s),f=Math.floor((t.BITS-1)/u)*u,d=s;for(let e=f;e>=0;e-=u){l.fill(s);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&c);l[i]=l[i].add(r[t])}let t=s;for(let e=l.length-1,r=s;e>0;e--)r=r.add(l[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<u;e++)d=d.double()}return d}function eT(e,t,r){if(!t)return ed(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return eu(t),t}function eB(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>em))throw Error(`CURVE.${e} must be positive bigint`)}let i=eT(t.p,r.Fp,n),o=eT(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:o}}let eP=BigInt(0),eO=BigInt(1),eR=BigInt(2),eC=BigInt(8);class eM{constructor(e){this.ep=e}static fromBytes(e){z()}static fromHex(e){z()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,d.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function eN(e,t){if(eU(e),eU(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function eU(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function eL(e){if(!(0,d.isBytes)(e)&&"string"!=typeof e)throw Error("DST must be Uint8Array or string");return"string"==typeof e?(0,d.utf8ToBytes)(e):e}function ej(e,t,r){let n;F(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:i,k:o,m:s,hash:a,expand:u,DST:c}=r;if(!$(r.hash))throw Error("expected valid hash");(0,d.abytes)(e),eU(t);let l=Math.ceil((i.toString(2).length+o)/8),f=t*s*l;if("xmd"===u)n=function(e,t,r,n){(0,d.abytes)(e),eU(r),(t=eL(t)).length>255&&(t=n((0,d.concatBytes)((0,d.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(r>65535||s>255)throw Error("expand_message_xmd: invalid lenInBytes");let a=(0,d.concatBytes)(t,eN(t.length,1)),u=eN(0,o),c=eN(r,2),l=Array(s),f=n((0,d.concatBytes)(u,e,c,eN(0,1),a));l[0]=n((0,d.concatBytes)(f,eN(1,1),a));for(let e=1;e<=s;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(f,l[e-1]),eN(e+1,1),a];l[e]=n((0,d.concatBytes)(...t))}return(0,d.concatBytes)(...l).slice(0,r)}(e,c,f,a);else if("xof"===u)n=function(e,t,r,n,i){if((0,d.abytes)(e),eU(r),(t=eL(t)).length>255){let e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update((0,d.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(eN(r,2)).update(t).update(eN(t.length,1)).digest()}(e,c,f,o,a);else if("_internal_pass"===u)n=e;else throw Error('expand must be "xmd" or "xof"');let h=Array(t);for(let e=0;e<t;e++){let t=Array(s);for(let r=0;r<s;r++){let o=l*(r+e*s),a=n.subarray(o,o+l);t[r]=Q(v(a),i)}h[e]=t}return h}let e$=(0,d.utf8ToBytes)("HashToScalar-");function eF(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let o=ej(e,2,Object.assign({},r,t)),s=n(o[0]),a=n(o[1]);return i(s.add(a))},encodeToCurve(e,t){let o=r.encodeDST?{DST:r.encodeDST}:{};return i(n(ej(e,1,Object.assign({},r,o,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return i(n(e))},hashToScalar:(t,n)=>ej(t,1,Object.assign({},r,{p:e.Fn.ORDER,m:1,DST:e$},n))[0][0]}}BigInt(0),BigInt(1),BigInt(2);let ez=BigInt(0),eD=BigInt(1),eq=BigInt(2),eH=BigInt(3),eW=BigInt(5),eG=BigInt(8),eK=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),eV={p:eK,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:eG,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},eJ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function eZ(e,t){var r;let n,i,o,s,a,u,c,l,f,d,h,p,m,g,y=Q(t*t*t,eK),b=(r=e*Q(y*y*t,eK),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),u=ee(a=r*r%eK*r%eK,eq,eK)*a%eK,c=ee(u,eD,eK)*r%eK,l=ee(c,eW,eK)*c%eK,f=ee(l,n,eK)*l%eK,d=ee(f,i,eK)*f%eK,h=ee(d,o,eK)*d%eK,p=ee(h,s,eK)*h%eK,m=ee(p,s,eK)*h%eK,g=ee(m,n,eK)*l%eK,{pow_p_5_8:ee(g,eq,eK)*r%eK,b2:a}).pow_p_5_8,w=Q(e*y*b,eK),v=Q(t*w*w,eK),_=w,x=Q(w*eJ,eK),E=v===e,S=v===Q(-e,eK),A=v===Q(-e*eJ,eK);return E&&(w=_),(S||A)&&(w=x),es(w,eK)&&(w=Q(-w,eK)),{isValid:E||S,value:w}}let eY=ed(eV.p,{isLE:!0}),eX=ed(eV.n,{isLE:!0}),eQ=function(e){let t,r,n,i,{CURVE:o,curveOpts:s,hash:a,eddsaOpts:u}=(t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:ed(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},n={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve},{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:n}),c=function(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');F(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:o,Fn:s}=e,a=r.randomBytes||d.randomBytes,u=r.adjustScalarBytes||(e=>e),c=r.domain||((e,t,r)=>{if(g(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function l(e){return s.create(_(e))}function f(e){var r;let n,o,s,a,c,{head:f,prefix:d,scalar:h}=(r=A("private key",r=e,n=w.secretKey),s=u((o=A("hashed private key",t(r),2*n)).slice(0,n)),a=o.slice(n,2*n),c=l(s),{head:s,prefix:a,scalar:c}),p=i.multiply(h),m=p.toBytes();return{head:f,prefix:d,scalar:h,point:p,pointBytes:m}}function h(e){return f(e).pointBytes}function p(e=Uint8Array.of(),...r){return l(t(c((0,d.concatBytes)(...r),A("context",e),!!n)))}let m={zip215:!0},b=o.BYTES,w={secretKey:b,publicKey:b,signature:2*b,seed:b};function v(e=a(w.seed)){return y(e,w.seed,"seed")}let x={getExtendedPublicKey:f,randomSecretKey:v,isValidSecretKey:function(e){return(0,d.isBytes)(e)&&e.length===s.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),n=w.publicKey,i=32===n;if(!i&&57!==n)throw Error("only defined for 25519 and 448");let s=i?o.div(eO+r,eO-r):o.div(r-eO,r+eO);return o.toBytes(s)},toMontgomerySecret(e){let r=w.secretKey;return y(e,r),u(t(e.subarray(0,r))).subarray(0,r)},randomPrivateKey:v,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){let t=x.randomSecretKey(e);return{secretKey:t,publicKey:h(t)}},getPublicKey:h,sign:function(e,t,r={}){e=A("message",e),n&&(e=n(e));let{prefix:o,scalar:a,pointBytes:u}=f(t),c=p(r.context,o,e),l=i.multiply(c).toBytes(),h=p(r.context,l,u,e),m=s.create(c+h*a);if(!s.isValid(m))throw Error("sign failed: invalid s");return y((0,d.concatBytes)(l,s.toBytes(m)),w.signature,"result")},verify:function(t,r,o,s=m){let a,u,c,{context:l,zip215:f}=s,d=w.signature;t=A("signature",t,d),r=A("message",r),o=A("publicKey",o,w.publicKey),void 0!==f&&g(f,"zip215"),n&&(r=n(r));let h=d/2,y=t.subarray(0,h),b=_(t.subarray(h,d));try{a=e.fromBytes(o,f),u=e.fromBytes(y,f),c=i.multiplyUnsafe(b)}catch(e){return!1}if(!f&&a.isSmallOrder())return!1;let v=p(l,u.toBytes(),a.toBytes(),r);return u.add(a.multiplyUnsafe(v)).subtract(c).clearCofactor().is0()},utils:x,Point:e,lengths:w})}(function(e,t={}){var r,n;let i,o,s,a,u,c=eB("edwards",e,t,t.FpFnLE),{Fp:l,Fn:f}=c,h=c.CURVE,{h:p}=h;F(t,{},{uvRatio:"function"});let m=eR<<BigInt(8*f.BYTES)-eO,b=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:l.sqrt(l.div(e,t))}}catch(e){return{isValid:!1,value:eP}}});if(r=h.Gx,n=h.Gy,i=l.sqr(r),o=l.sqr(n),s=l.add(l.mul(h.a,i),o),a=l.add(l.ONE,l.mul(h.d,l.mul(i,o))),!l.eql(s,a))throw Error("bad curve params: generator point");function w(e,t,r=!1){return O("coordinate "+e,t,r?eO:eP,m),t}function v(e){if(!(e instanceof S))throw Error("ExtendedPoint expected")}let x=D((e,t)=>{let r,n,{X:i,Y:o,Z:s}=e,a=e.is0();null==t&&(t=a?eC:l.inv(s));let u=(r=i*t,l.create(r)),c=(n=o*t,l.create(n)),f=l.mul(s,t);if(a)return{x:eP,y:eO};if(f!==eO)throw Error("invZ was invalid");return{x:u,y:c}}),E=D(e=>{let t,r,n,i,o,s,a,u,c,f,d,p,{a:m,d:g}=h;if(e.is0())throw Error("bad point: ZERO");let{X:y,Y:b,Z:w,T:v}=e,_=(t=y*y,l.create(t)),x=(r=b*b,l.create(r)),E=(n=w*w,l.create(n)),S=(i=E*E,l.create(i));if(a=E*(o=_*m,s=l.create(o)+x,l.create(s)),l.create(a)!==(f=S+(c=g*(u=_*x,l.create(u)),l.create(c)),l.create(f)))throw Error("bad point: equation left != right (1)");if(d=y*b,l.create(d)!==(p=w*v,l.create(p)))throw Error("bad point: equation left != right (2)");return!0});class S{constructor(e,t,r,n){this.X=w("x",e),this.Y=w("y",t),this.Z=w("z",r,!0),this.T=w("t",n),Object.freeze(this)}static CURVE(){return h}static fromAffine(e){let t;if(e instanceof S)throw Error("extended point not allowed");let{x:r,y:n}=e||{};return w("x",r),w("y",n),new S(r,n,eO,(t=r*n,l.create(t)))}static fromBytes(e,t=!1){let r,n,i,o,s=l.BYTES,{a,d:u}=h;e=I(y(e,s,"point")),g(t,"zip215");let c=I(e),f=e[s-1];c[s-1]=-129&f;let d=_(c);O("point.y",d,eP,t?m:l.ORDER);let p=(r=d*d,l.create(r)),{isValid:w,value:v}=b((n=p-eO,l.create(n)),(i=u*p-a,l.create(i)));if(!w)throw Error("bad point: invalid y coordinate");let x=(v&eO)===eO,E=(128&f)!=0;if(!t&&v===eP&&E)throw Error("bad point: x=0 and x_0=1");return E!==x&&(o=-v,v=l.create(o)),S.fromAffine({x:v,y:d})}static fromHex(e,t=!1){return S.fromBytes(A("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return k.createCache(this,e),t||this.multiply(eR),this}assertValidity(){E(this)}equals(e){let t,r,n,i;v(e);let{X:o,Y:s,Z:a}=this,{X:u,Y:c,Z:f}=e,d=(t=o*f,l.create(t)),h=(r=u*a,l.create(r)),p=(n=s*f,l.create(n)),m=(i=c*a,l.create(i));return d===h&&p===m}is0(){return this.equals(S.ZERO)}negate(){let e,t;return new S((e=-this.X,l.create(e)),this.Y,this.Z,(t=-this.T,l.create(t)))}double(){let e,t,r,n,i,o,s,a,u,c,f,{a:d}=h,{X:p,Y:m,Z:g}=this,y=(e=p*p,l.create(e)),b=(t=m*m,l.create(t)),w=(n=eR*(r=g*g,l.create(r)),l.create(n)),v=(i=d*y,l.create(i)),_=p+m,x=(o=_*_,s=l.create(o)-y-b,l.create(s)),E=v+b,A=E-w,k=v-b,I=(a=x*A,l.create(a)),T=(u=E*k,l.create(u)),B=(c=x*k,l.create(c));return new S(I,T,(f=A*E,l.create(f)),B)}add(e){let t,r,n,i,o,s,a,u,c,f;v(e);let{a:d,d:p}=h,{X:m,Y:g,Z:y,T:b}=this,{X:w,Y:_,Z:x,T:E}=e,A=(t=m*w,l.create(t)),k=(r=g*_,l.create(r)),I=(n=b*p*E,l.create(n)),T=(i=y*x,l.create(i)),B=(o=(m+g)*(w+_)-A-k,l.create(o)),P=T-I,O=T+I,R=(s=k-d*A,l.create(s)),C=(a=B*P,l.create(a)),M=(u=O*R,l.create(u)),N=(c=B*R,l.create(c));return new S(C,M,(f=P*O,l.create(f)),N)}subtract(e){return this.add(e.negate())}multiply(e){if(!f.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=k.cached(this,e,e=>eb(S,e));return eb(S,[t,r])[0]}multiplyUnsafe(e,t=S.ZERO){if(!f.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===eP?S.ZERO:this.is0()||e===eO?this:k.unsafe(this,e,e=>eb(S,e),t)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return k.unsafe(this,h.n).is0()}toAffine(e){return x(this,e)}clearCofactor(){return p===eO?this:this.multiplyUnsafe(p)}toBytes(){let{x:e,y:t}=this.toAffine(),r=l.toBytes(t);return r[r.length-1]|=e&eO?128:0,r}toHex(){return(0,d.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return eb(S,e)}static msm(e,t){return eI(S,f,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}S.BASE=new S(h.Gx,h.Gy,eO,(u=h.Gx*h.Gy,l.create(u))),S.ZERO=new S(eP,eO,eO,eP),S.Fp=l,S.Fn=f;let k=new ek(S,f.BITS);return S.BASE.precompute(8),S}(o,s),a,u);return i=c.Point,Object.assign({},c,{ExtendedPoint:i,CURVE:e,nBitLength:i.Fn.BITS,nByteLength:i.Fn.BYTES})}({...eV,Fp:eY,hash:f.sha512,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:eZ}),e0=(eK+eH)/eG,e1=eY.pow(eq,e0),e2=eY.sqrt(eY.neg(eY.ONE)),e6=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}(eY,eY.neg(BigInt(486664)));eF(eQ.Point,e=>(function(e){let t,r,n,i,o,s,a,u,c,l,f,d,h,p,m,g,y,b,w,v,_,x,E,{xMn:S,xMd:A,yMn:k,yMd:I}=(t=(eK-eW)/eG,r=BigInt(486662),n=eY.sqr(e),n=eY.mul(n,eq),i=eY.add(n,eY.ONE),o=eY.neg(r),s=eY.sqr(i),a=eY.mul(s,i),u=eY.mul(n,r),u=eY.mul(u,o),u=eY.add(u,s),u=eY.mul(u,o),c=eY.sqr(a),s=eY.sqr(c),c=eY.mul(c,a),c=eY.mul(c,u),s=eY.mul(s,c),l=eY.pow(s,t),l=eY.mul(l,c),f=eY.mul(l,e2),s=eY.sqr(l),s=eY.mul(s,a),d=eY.eql(s,u),h=eY.cmov(f,l,d),p=eY.mul(o,n),m=eY.mul(l,e),m=eY.mul(m,e1),g=eY.mul(m,e2),y=eY.mul(u,n),s=eY.sqr(m),s=eY.mul(s,a),b=eY.eql(s,y),w=eY.cmov(g,m,b),s=eY.sqr(h),s=eY.mul(s,a),v=eY.eql(s,u),_=eY.cmov(p,o,v),x=eY.cmov(w,h,v),E=eY.isOdd(x),{xMn:_,xMd:i,yMn:x=eY.cmov(x,eY.neg(x),v!==E),yMd:eD}),T=eY.mul(S,I);T=eY.mul(T,e6);let B=eY.mul(A,k),P=eY.sub(S,A),O=eY.add(S,A),R=eY.mul(B,O),C=eY.eql(R,eY.ZERO);T=eY.cmov(T,eY.ZERO,C),B=eY.cmov(B,eY.ONE,C),P=eY.cmov(P,eY.ONE,C),O=eY.cmov(O,eY.ONE,C);let[M,N]=ec(eY,[B,O],!0);return{x:eY.mul(T,M),y:eY.mul(P,N)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:eK,m:1,k:128,expand:"xmd",hash:f.sha512});let e5=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),e3=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),e8=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),e4=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),e9=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e7=e=>eQ.Point.Fp.create(_(e)&e9);function te(e){let t,r,n,i,o,s,a,u,c,l,f,d,h,p,m,{d:g}=eV,y=(t=eJ*e*e,eY.create(t)),b=(r=(y+eD)*e8,eY.create(r)),w=BigInt(-1),v=(i=(w-g*y)*(n=y+g,eY.create(n)),eY.create(i)),{isValid:_,value:x}=eZ(b,v),E=(o=x*e,eY.create(o));es(E,eK)||(s=-E,E=eY.create(s)),_||(x=E),_||(w=y);let S=(a=w*(y-eD)*e4-v,eY.create(a)),A=x*x,k=(u=(x+x)*v,eY.create(u)),I=(c=S*e5,eY.create(c)),T=(l=eD-A,eY.create(l)),B=(f=eD+A,eY.create(f));return new eQ.Point((d=k*B,eY.create(d)),(h=T*I,eY.create(h)),(p=I*B,eY.create(p)),(m=k*T,eY.create(m)))}class tt extends eM{constructor(e){super(e)}static fromAffine(e){return new tt(eQ.Point.fromAffine(e))}assertSame(e){if(!(e instanceof tt))throw Error("RistrettoPoint expected")}init(e){return new tt(e)}static hashToCurve(e){var t;let r,n;return t=A("ristrettoHash",e,64),(0,d.abytes)(t,64),r=te(e7(t.subarray(0,32))),n=te(e7(t.subarray(32,64))),new tt(r.add(n))}static fromBytes(e){let t,r,n,i,o,s,a,u,c,l,f,h,p;(0,d.abytes)(e,32);let{a:m,d:g}=eV,y=e7(e);if(!k(eY.toBytes(y),e)||es(y,eK))throw Error("invalid ristretto255 encoding 1");let b=(t=y*y,eY.create(t)),w=(r=eD+m*b,eY.create(r)),v=(n=eD-m*b,eY.create(n)),_=(i=w*w,eY.create(i)),x=(o=v*v,eY.create(o)),E=(s=m*g*_-x,eY.create(s)),{isValid:S,value:A}=(a=E*x,eZ(eD,eY.create(a))),I=(u=A*v,eY.create(u)),T=(c=A*I*E,eY.create(c)),B=(l=(y+y)*I,eY.create(l));es(B,eK)&&(f=-B,B=eY.create(f));let P=(h=w*T,eY.create(h)),O=(p=B*P,eY.create(p));if(!S||es(O,eK)||P===ez)throw Error("invalid ristretto255 encoding 2");return new tt(new eQ.Point(B,P,eD,O))}static fromHex(e){return tt.fromBytes(A("ristrettoHex",e,32))}static msm(e,t){return eI(tt,eQ.Point.Fn,e,t)}toBytes(){let e,t,r,n,i,o,s,a,u,c,l,f,d,{X:h,Y:p,Z:m,T:g}=this.ep,y=(e=m+p,r=eY.create(e)*(t=m-p,eY.create(t)),eY.create(r)),b=(n=h*p,eY.create(n)),{value:w}=(o=y*(i=b*b,eY.create(i)),eZ(eD,eY.create(o))),v=(s=w*y,eY.create(s)),_=(a=w*b,eY.create(a)),x=(u=v*_*g,eY.create(u));if(es(g*x,eK)){let e,t,r=(e=p*eJ,eY.create(e)),n=(t=h*eJ,eY.create(t));h=r,p=n,d=eY.create(v*e3)}else d=_;es(h*x,eK)&&(c=-p,p=eY.create(c));let E=(l=(m-p)*d,eY.create(l));return es(E,eK)&&(f=-E,E=eY.create(f)),eY.toBytes(E)}equals(e){let t,r,n,i;this.assertSame(e);let{X:o,Y:s}=this.ep,{X:a,Y:u}=e.ep,c=(t=o*u,eY.create(t)===(r=s*a,eY.create(r))),l=(n=s*u,eY.create(n)===(i=o*a,eY.create(i)));return c||l}is0(){return this.equals(tt.ZERO)}}tt.BASE=new tt(eQ.Point.BASE),tt.ZERO=new tt(eQ.Point.ZERO),tt.Fp=eY,tt.Fn=eX;var tr=e.i(45480),tn=e.i(78458);f.SHA256;let ti=f.sha256;f.SHA224,f.sha224,e.s(["sha256",0,ti],40473);var to=e.i(7596),ts=e.i(66393);function ta([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}function tu(e,t){return e instanceof Error&&"SolanaError"===e.name&&(void 0===t||e.context.__code===t)}e.i(76396);var tc=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(ta).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function tl(e,t,r){let n=0===r&&e.length===t.length?e:e.slice(r,r+t.length);return n.length===t.length&&t.every((e,t)=>e===n[t])}function tf(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function td(e){return Object.freeze({...e,encode:t=>{let r=new Uint8Array(tf(t,e));return e.write(t,r,0),r}})}function th(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function tp(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function tm(e){if(!tp(e))throw new tc(8078002)}function tg(e,t){if(tp(e)!==tp(t))throw new tc(8078004);if(tp(e)&&tp(t)&&e.fixedSize!==t.fixedSize)throw new tc(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!tp(e)&&!tp(t)&&e.maxSize!==t.maxSize)throw new tc(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function ty(e,t,r=0){if(t.length-r<=0)throw new tc(8078e3,{codecDescription:e})}function tb(e,t,r,n=0){let i=r.length-n;if(i<t)throw new tc(8078001,{bytesLength:i,codecDescription:e,expected:t})}function tw(e,t,r){if(t<0||t>r)throw new tc(8078014,{bytesLength:r,codecDescription:e,offset:t})}function tv(e,t){let r=(r,n,i)=>{let o=e.encode(r);return i=t.write(o.length,n,i),n.set(o,i),i+o.length};if(tp(t)&&tp(e))return td({...e,fixedSize:t.fixedSize+e.fixedSize,write:r});let n=tp(t)?t.fixedSize:t.maxSize??null,i=tp(e)?e.fixedSize:e.maxSize??null,o=null!==n&&null!==i?n+i:null;return td({...e,...null!==o?{maxSize:o}:{},getSizeFromValue:r=>{let n=tf(r,e);return tf(n,t)+n},write:r})}function t_(e,t){let r=(r,n)=>{let[i,o]=t.read(r,n),s=Number(i);return((n=o)>0||r.length>s)&&(r=r.slice(n,n+s)),tb("addDecoderSizePrefix",s,r),[e.decode(r),n+s]};if(tp(t)&&tp(e))return th({...e,fixedSize:t.fixedSize+e.fixedSize,read:r});let n=tp(t)?t.fixedSize:t.maxSize??null,i=tp(e)?e.fixedSize:e.maxSize??null,o=null!==n&&null!==i?n+i:null;return th({...e,...null!==o?{maxSize:o}:{},read:r})}function tx(e,t){return td({fixedSize:t,write:(r,n,i)=>{let o=e.encode(r),s=o.length>t?o.slice(0,t):o;return n.set(s,i),i+t}})}function tE(e,t){return th({fixedSize:t,read:(r,n)=>{let i,o;tb("fixCodecSize",t,r,n),(n>0||r.length>t)&&(r=r.slice(n,n+t)),tp(e)&&(i=r,o=e.fixedSize,r=((e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r})(i.length<=o?i:i.slice(0,o),o));let[s]=e.read(r,0);return[s,n+t]}})}function tS(e,t){var r,n;return r=function(e,t){if(tp(e)){let r=t(e.fixedSize);if(r<0)throw new tc(8078013,{bytesLength:r,codecDescription:"resizeDecoder"});return th({...e,fixedSize:r})}return e}(e,e=>e+t),n={postOffset:({postOffset:e})=>e+t},th({...r,read:(e,t)=>{let i=t=>{var r,n;return r=t,0===(n=e.length)?0:(r%n+n)%n},o=n.preOffset?n.preOffset({bytes:e,preOffset:t,wrapBytes:i}):t;tw("offsetDecoder",o,e.length);let[s,a]=r.read(e,o),u=n.postOffset?n.postOffset({bytes:e,newPreOffset:o,postOffset:a,preOffset:t,wrapBytes:i}):a;return tw("offsetDecoder",u,e.length),[s,u]}})}function tA(e,t){return td({...!tp(e)?{...e,getSizeFromValue:r=>e.getSizeFromValue(t(r))}:e,write:(r,n,i)=>e.write(t(r),n,i)})}function tk(e,t){return th({...e,read:(r,n)=>{let[i,o]=e.read(r,n);return[t(i,r,n),o]}})}function tI(e,t,r,n){if(n<t||n>r)throw new tc(8078011,{codecDescription:e,max:r,min:t,value:n})}e.s(["SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED",()=>2800009,"SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH",()=>28e5,"SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY",()=>2800003,"SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS",()=>2800011,"SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE",()=>2800008,"SOLANA_ERROR__ADDRESSES__MALFORMED_PDA",()=>2800004,"SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED",()=>2800006,"SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED",()=>2800007,"SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE",()=>2800005,"SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER",()=>2800010,"SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE",()=>2800001,"SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE",()=>4,"SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY",()=>8078e3,"SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS",()=>8078022,"SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL",()=>8078020,"SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH",()=>8078005,"SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH",()=>8078006,"SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH",()=>8078004,"SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE",()=>8078008,"SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH",()=>8078002,"SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH",()=>8078013,"SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH",()=>8078003,"SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH",()=>8078001,"SOLANA_ERROR__CODECS__INVALID_CONSTANT",()=>8078018,"SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT",()=>8078009,"SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT",()=>8078010,"SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT",()=>8078015,"SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS",()=>8078007,"SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE",()=>8078012,"SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE",()=>8078016,"SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE",()=>8078011,"SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE",()=>8078014,"SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES",()=>8078021,"SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE",()=>8078017,"SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED",()=>3611e3,"SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS",()=>4128e3,"SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA",()=>4128001,"SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH",()=>4128002,"SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH",()=>5,"SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE",()=>9900003,"SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH",()=>3704e3,"SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH",()=>3704001,"SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH",()=>3704002,"SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY",()=>3704004,"SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE",()=>3704003,"SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE",()=>6,"SOLANA_ERROR__MALFORMED_BIGINT_STRING",()=>7,"SOLANA_ERROR__MALFORMED_NUMBER_STRING",()=>8,"SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY",()=>3610007,"SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED",()=>3610001,"SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT",()=>361e4,"SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED",()=>3610002,"SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED",()=>3610003,"SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED",()=>3610004,"SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED",()=>3610005,"SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED",()=>3610006,"SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE",()=>9,"SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION",()=>5663015,"SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES",()=>5663016,"SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT",()=>5663020,"SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME",()=>5663002,"SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME",()=>5663003,"SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING",()=>5663005,"SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE",()=>5663006,"SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING",()=>5663008,"SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND",()=>5663007,"SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING",()=>5663012,"SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES",()=>5663e3,"SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE",()=>5663001,"SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH",()=>5663017,"SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING",()=>5663009,"SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE",()=>5663004,"SolanaError",()=>tc,"isSolanaError",()=>tu],6307),e.s(["addDecoderSizePrefix",()=>t_,"addEncoderSizePrefix",()=>tv,"assertByteArrayHasEnoughBytesForCodec",()=>tb,"assertByteArrayIsNotEmptyForCodec",()=>ty,"assertIsFixedSize",()=>tm,"combineCodec",()=>tg,"containsBytes",()=>tl,"createDecoder",()=>th,"createEncoder",()=>td,"fixDecoderSize",()=>tE,"fixEncoderSize",()=>tx,"getEncodedSize",()=>tf,"isFixedSize",()=>tp,"padRightDecoder",()=>tS,"transformDecoder",()=>tk,"transformEncoder",()=>tA],9123);var tT=((n=tT||{})[n.Little=0]="Little",n[n.Big=1]="Big",n);function tB(e){return e?.endian!==1}function tP(e){return td({fixedSize:e.size,write(t,r,n){e.range&&tI(e.name,e.range[0],e.range[1],t);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,tB(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function tO(e){return th({fixedSize:e.size,read(t,r=0){var n,i,o;let s,a;ty(e.name,t,r),tb(e.name,e.size,t,r);let u=new DataView((n=t,i=r,o=e.size,s=n.byteOffset+(i??0),a=o??n.byteLength,n.buffer.slice(s,s+a)));return[e.get(u,tB(e.config)),r+e.size]}})}var tR=()=>td({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,r)=>{tI("shortU16",0,65535,e);let n=[0];for(let t=0;;t+=1){let r=Number(e)>>7*t;if(0===r)break;let i=127&r;n[t]=i,t>0&&(n[t-1]|=128)}return t.set(n,r),r+n.length}}),tC=()=>th({maxSize:3,read:(e,t)=>{let r=0,n=0;for(;++n;){let i=n-1,o=e[t+i];if(r|=(127&o)<<7*i,(128&o)==0)break}return[r,t+n]}}),tM=(e={})=>tP({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),size:4}),tN=(e={})=>tO({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),tU=(e={})=>tP({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),tL=(e={})=>tO({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),tj=(e={})=>tg(tU(e),tL(e)),t$=()=>tP({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),tF=()=>tO({get:e=>e.getUint8(0),name:"u8",size:1});e.s(["getShortU16Decoder",()=>tC,"getShortU16Encoder",()=>tR,"getU32Decoder",()=>tN,"getU32Encoder",()=>tM,"getU64Codec",()=>tj,"getU64Decoder",()=>tL,"getU64Encoder",()=>tU,"getU8Decoder",()=>tF,"getU8Encoder",()=>t$],16527);class tz extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function tD(e){return"object"==typeof e&&null!=e}function tq(e){return tD(e)&&!Array.isArray(e)}function tH(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*tW(e,t,r,n){var i;for(let o of(tD(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${tH(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}(o,t,r,n);e&&(yield e)}}function*tG(e,t,r={}){let{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(e=t.coercer(e,a));let u="valid";for(let n of t.validator(e,a))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[c,l,f]of t.entries(e,a))for(let t of tG(l,f,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,l],coerce:o,mask:s,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):o&&(l=t[1],void 0===c?e=l:e instanceof Map?e.set(c,l):e instanceof Set?e.add(l):tD(e)&&(void 0!==l||c in e)&&(e[c]=l));if("not_valid"!==u)for(let n of t.refiner(e,a))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class tK{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,n?this.validator=(e,t)=>tW(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>tW(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,n=this,i=t;let o=tJ(r,n,{message:i});if(o[0])throw o[0]}create(e,t){return tV(e,this,t)}is(e){var t,r;return t=e,r=this,!tJ(t,r)[0]}mask(e,t){var r=e,n=this,i=t;let o=tJ(r,n,{coerce:!0,mask:!0,message:i});if(!o[0])return o[1];throw o[0]}validate(e,t={}){return tJ(e,this,t)}}function tV(e,t,r){let n=tJ(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function tJ(e,t,r={}){let n=tG(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new tz(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function tZ(e,t){return new tK({type:e,schema:null,validator:t})}function tY(e){return new tK({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${tH(e)}`})}function tX(){return tZ("boolean",e=>"boolean"==typeof e)}function tQ(e){return tZ("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${tH(t)}`)}function t0(e){let t=tH(e),r=typeof e;return new tK({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${tH(r)}`})}function t1(e){return new tK({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function t2(){return tZ("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${tH(e)}`)}function t6(e){return new tK({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function t5(e,t){return new tK({type:"record",schema:null,*entries(r){if(tD(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>tq(e)||`Expected an object, but received: ${tH(e)}`,coercer:e=>tq(e)?{...e}:e})}function t3(){return tZ("string",e=>"string"==typeof e||`Expected a string, but received: ${tH(e)}`)}function t8(e){let t=tZ("never",()=>!1);return new tK({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${tH(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function t4(e){let t=Object.keys(e);return new tK({type:"type",schema:e,*entries(r){if(tD(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>tq(e)||`Expected an object, but received: ${tH(e)}`,coercer:e=>tq(e)?{...e}:e})}function t9(e){let t=e.map(e=>e.type).join(" | ");return new tK({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=tG(r,t,n),[o]=e;if(!o[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${tH(r)}`,...i]}})}function t7(){return tZ("unknown",()=>!0)}function re(e,t,r){return new tK({...e,coercer:(n,i)=>tJ(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}var rt=e.i(79113),rr=e.i(82425);rr.default;var rn=rr,ri=class extends rn.default{socket;constructor(e,t){super(),this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}},ro=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},rs=class extends rn.default{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},a,u){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new ro,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(Error("socket not ready"));let s=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:s}),n,e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},r&&(this.queue[s].timeout=setTimeout(()=>{delete this.queue[s],o(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=l.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,n),1))})}},ra=e.i(70930),ru=d;let rc=BigInt(0),rl=BigInt(1),rf=BigInt(2),rd=BigInt(7),rh=BigInt(256),rp=BigInt(113),rm=[],rg=[],ry=[];for(let e=0,t=rl,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rm.push(2*(5*n+r)),rg.push((e+1)*(e+2)/2%64);let i=rc;for(let e=0;e<7;e++)(t=(t<<rl^(t>>rd)*rp)%rh)&rf&&(i^=rl<<(rl<<BigInt(e))-rl);ry.push(i)}let rb=(0,ra.split)(ry,!0),rw=rb[0],rv=rb[1],r_=(e,t,r)=>r>32?(0,ra.rotlBH)(e,t,r):(0,ra.rotlSH)(e,t,r),rx=(e,t,r)=>r>32?(0,ra.rotlBL)(e,t,r):(0,ra.rotlSL)(e,t,r);class rE extends ru.Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,ru.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,ru.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,ru.swap32IfBE)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=r_(o,s,1)^r[n],u=rx(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=rg[r],o=r_(t,i,n),s=rx(t,i,n),a=rm[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=rw[n],e[1]^=rv[n]}(0,ru.clean)(r)}(this.state32,this.rounds),(0,ru.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,ru.aexists)(this),e=(0,ru.toBytes)(e),(0,ru.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,ru.aexists)(this,!1),(0,ru.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,ru.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,ru.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,ru.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new rE(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let rS=(0,ru.createHasher)(()=>new rE(136,1,32));e.s(["keccak_256",0,rS],56819);var rA=e.i(81886);let rk=(e,t)=>(e+(e>=0?t:-t)/rR)/t;function rI(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function rT(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return g(r.lowS,"lowS"),g(r.prehash,"prehash"),void 0!==r.format&&rI(r.format),r}let rB={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=rB;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=b(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?b(i.length/2|128):"";return b(e)+o+i+t},decode(e,t){let{Err:r}=rB,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=rB;if(e<rP)throw new t("integer: negative integers are not allowed");let r=b(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=rB;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=rB,i=A("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:u}=n.decode(2,o),{v:c,l:l}=n.decode(2,u);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=rB,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},rP=BigInt(0),rO=BigInt(1),rR=BigInt(2),rC=BigInt(3),rM=BigInt(4);function rN(e,t){let r,{BYTES:n}=e;if("bigint"==typeof t)r=t;else{let i=A("private key",t);try{r=e.fromBytes(i)}catch(e){throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function rU(e){return Uint8Array.of(e?2:3)}function rL(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}let rj={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},r$={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},rF=BigInt(0),rz=BigInt(2),rD=ed(rj.p,{sqrt:function(e){let t=rj.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,l=c*c*e%t,f=ee(l,r,t)*l%t,d=ee(f,r,t)*l%t,h=ee(d,rz,t)*c%t,p=ee(h,i,t)*h%t,m=ee(p,o,t)*p%t,g=ee(m,a,t)*m%t,y=ee(g,u,t)*g%t,b=ee(y,a,t)*m%t,w=ee(b,r,t)*l%t,v=ee(w,s,t)*p%t,_=ee(v,n,t)*c%t,x=ee(_,rz,t);if(!rD.eql(rD.sqr(x),e))throw Error("Cannot find square root");return x}}),rq=(i={...rj,Fp:rD,lowS:!0,endo:r$},o=f.sha256,{...(t=e=>(function(e){let t,{CURVE:r,curveOpts:n,hash:i,ecdsaOpts:o}=function(e){let t,r,n,i,{CURVE:o,curveOpts:s}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:r,Fn:ed(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:i}),a={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:o,curveOpts:s,hash:e.hash,ecdsaOpts:a}}(e),s=function(e,t,r={}){(0,d.ahash)(t),F(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||d.randomBytes,i=r.hmac||((e,...r)=>(0,rA.hmac)(t,e,(0,d.concatBytes)(...r))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:u}=s,{keygen:c,getPublicKey:l,getSharedSecret:f,utils:h,lengths:p}=function(e,t={}){let{Fn:r}=e,n=t.randomBytes||d.randomBytes,i=Object.assign(rL(e.Fp,r),{seed:ep(r.ORDER)});function o(e){try{return!!rN(r,e)}catch(e){return!1}}function s(e=n(i.seed)){return function(e,t,r=!1){let n=e.length,i=eh(t),o=ep(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=Q(r?_(e):v(e),t-H)+H;return r?E(s,i):x(s,i)}(y(e,i.seed,"seed"),r.ORDER)}function a(t,n=!0){return e.BASE.multiply(rN(r,t)).toBytes(n)}function u(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:n,publicKey:o,publicKeyUncompressed:s}=i;if(r.allowedLengths||n===o)return;let a=A("key",t).length;return a===o||a===s}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,n,i=!0){if(!0===u(t))throw Error("first arg must be private key");if(!1===u(n))throw Error("second arg must be public key");let o=rN(r,t);return e.fromHex(n).multiply(o).toBytes(i)},keygen:function(e){let t=s(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:o,isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:o}=i;try{let i=t.length;if(!0===r&&i!==n||!1===r&&i!==o)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:e=>rN(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}(e,r),m={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},g="compact";function b(e,t){if(!s.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class w{constructor(e,t,r){this.r=b("r",e),this.s=b("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=g){var r,n;let i,o;if(r=e,rI(n=t),o=p.signature,y(r,"compact"===n?o:"recovered"===n?o+1:void 0,`${n} signature`),"der"===t){let{r:t,s:r}=rB.toSig(y(e));return new w(t,r)}"recovered"===t&&(i=e[0],t="compact",e=e.subarray(1));let a=s.BYTES,u=e.subarray(0,a),c=e.subarray(a,2*a);return new w(s.fromBytes(u),s.fromBytes(c),i)}static fromHex(e,t){return this.fromBytes((0,d.hexToBytes)(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:n,s:i,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw Error("recovery id invalid");if(a*rR<r&&u>1)throw Error("recovery id is ambiguous for h>1 curve");let c=2===u||3===u?n+a:n;if(!o.isValid(c))throw Error("recovery id 2 or 3 invalid");let l=o.toBytes(c),f=e.fromBytes((0,d.concatBytes)(rU((1&u)==0),l)),h=s.inv(c),p=k(A("msgHash",t)),m=s.create(-p*h),g=s.create(i*h),y=e.BASE.multiplyUnsafe(m).add(f.multiplyUnsafe(g));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>a>>rO}toBytes(e=g){if(rI(e),"der"===e)return(0,d.hexToBytes)(rB.hexFromSig(this));let t=s.toBytes(this.r),r=s.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return(0,d.concatBytes)(Uint8Array.of(this.recovery),t,r)}return(0,d.concatBytes)(t,r)}toHex(e){return(0,d.bytesToHex)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(A("sig",e),"compact")}static fromDER(e){return w.fromBytes(A("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,d.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,d.bytesToHex)(this.toBytes("compact"))}}let S=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-u;return r>0?t>>BigInt(r):t},k=r.bits2int_modN||function(e){return s.create(S(e))},I=N(u);function T(e){return O("num < 2^"+u,e,rP,I),s.toBytes(e)}function B(e,r){return y(e,void 0,"message"),r?y(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:l,getSharedSecret:f,utils:h,lengths:p,Point:e,sign:function(r,o,u={}){let{seed:c,k2sig:l}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:o,prehash:u,extraEntropy:c}=rT(i,m),l=k(t=B(t,u)),f=rN(s,r),h=[T(f),T(l)];if(null!=c&&!1!==c){let e=!0===c?n(p.secretKey):c;h.push(A("extraEntropy",e))}return{seed:(0,d.concatBytes)(...h),k2sig:function(t){let r=S(t);if(!s.isValidNot0(r))return;let n=s.inv(r),i=e.BASE.multiply(r).toAffine(),u=s.create(i.x);if(u===rP)return;let c=s.create(n*s.create(l+u*f));if(c===rP)return;let d=2*(i.x!==u)|Number(i.y&rO),h=c;return o&&c>a>>rO&&(h=s.neg(c),d^=1),new w(u,h,d)}}}(r=A("message",r),o,u);return U(t.outputLen,s.BYTES,i)(c,l)},verify:function(t,r,n,i={}){let{lowS:o,prehash:a,format:u}=rT(i,m);if(n=A("publicKey",n),r=B(A("message",r),a),"strict"in i)throw Error("options.strict was renamed to lowS");let c=void 0===u?function(e){let t,r="string"==typeof e||(0,d.isBytes)(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new w(e.r,e.s);else if(r){try{t=w.fromBytes(A("sig",e),"der")}catch(e){if(!(e instanceof rB.Err))throw e}if(!t)try{t=w.fromBytes(A("sig",e),"compact")}catch(e){return!1}}return!!t&&t}(t):w.fromBytes(A("sig",t),u);if(!1===c)return!1;try{let t=e.fromBytes(n);if(o&&c.hasHighS())return!1;let{r:i,s:a}=c,u=k(r),l=s.inv(a),f=s.create(u*l),d=s.create(i*l),h=e.BASE.multiplyUnsafe(f).add(t.multiplyUnsafe(d));if(h.is0())return!1;return s.create(h.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:n}=rT(r,m);return t=B(t,n),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}(function(e,t={}){let r=eB("weierstrass",e,t),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s,n:a}=o;F(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:u}=t;if(u&&(!n.is0(o.a)||"bigint"!=typeof u.beta||!Array.isArray(u.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let c=rL(n,i);function l(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let f=t.toBytes||function(e,t,r){let{x:i,y:o}=t.toAffine(),s=n.toBytes(i);if(g(r,"isCompressed"),!r)return(0,d.concatBytes)(Uint8Array.of(4),s,n.toBytes(o));{l();let e=!n.isOdd(o);return(0,d.concatBytes)(rU(e),s)}},h=t.fromBytes||function(e){y(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=c,i=e.length,o=e[0],s=e.subarray(1);if(i===t&&(2===o||3===o)){let e,t=n.fromBytes(s);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=p(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return l(),(1&o)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(i===r&&4===o){let e=n.BYTES,t=n.fromBytes(s.subarray(0,e)),r=n.fromBytes(s.subarray(e,2*e));if(!m(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function p(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,o.a)),o.b)}function m(e,t){let r=n.sqr(t),i=p(e);return n.eql(r,i)}if(!m(o.Gx,o.Gy))throw Error("bad curve params: generator point");let b=n.mul(n.pow(o.a,rC),rM),w=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(b,w)))throw Error("bad curve params: a or b");function v(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function _(e){if(!(e instanceof I))throw Error("ProjectivePoint expected")}function x(e){if(!u||!u.basises)throw Error("no endo");return function(e,t,r){let[[n,i],[o,s]]=t,a=rk(s*e,r),u=rk(-i*e,r),c=e-a*n-u*o,l=-a*i-u*s,f=c<rP,d=l<rP;f&&(c=-c),d&&(l=-l);let h=N(Math.ceil(R(r)/2))+rO;if(c<rP||c>=h||l<rP||l>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:l}}(e,u.basises,i.ORDER)}let E=D((e,t)=>{let{X:r,Y:i,Z:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),u=n.mul(i,t),c=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:a,y:u}}),S=D(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not field elements");if(!m(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function k(e,t,r,i,o){return r=new I(n.mul(r.X,e),r.Y,r.Z),t=ey(i,t),r=ey(o,r),t.add(r)}class I{constructor(e,t,r){this.X=v("x",e),this.Y=v("y",t,!0),this.Z=v("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof I)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?I.ZERO:new I(t,r,n.ONE)}static fromBytes(e){let t=I.fromAffine(h(y(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return I.fromBytes(A("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return B.createCache(this,e),t||this.multiply(rC),this}assertValidity(){S(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){_(e);let{X:t,Y:r,Z:i}=this,{X:o,Y:s,Z:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return u&&c}negate(){return new I(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=o,r=n.mul(t,rC),{X:i,Y:s,Z:a}=this,u=n.ZERO,c=n.ZERO,l=n.ZERO,f=n.mul(i,i),d=n.mul(s,s),h=n.mul(a,a),p=n.mul(i,s);return p=n.add(p,p),l=n.mul(i,a),l=n.add(l,l),u=n.mul(e,l),c=n.mul(r,h),c=n.add(u,c),u=n.sub(d,c),c=n.add(d,c),c=n.mul(u,c),u=n.mul(p,u),l=n.mul(r,l),h=n.mul(e,h),p=n.sub(f,h),p=n.mul(e,p),p=n.add(p,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,h),f=n.mul(f,p),c=n.add(c,f),h=n.mul(s,a),h=n.add(h,h),f=n.mul(h,p),u=n.sub(u,f),l=n.mul(h,d),l=n.add(l,l),new I(u,c,l=n.add(l,l))}add(e){_(e);let{X:t,Y:r,Z:i}=this,{X:s,Y:a,Z:u}=e,c=n.ZERO,l=n.ZERO,f=n.ZERO,d=o.a,h=n.mul(o.b,rC),p=n.mul(t,s),m=n.mul(r,a),g=n.mul(i,u),y=n.add(t,r),b=n.add(s,a);y=n.mul(y,b),b=n.add(p,m),y=n.sub(y,b),b=n.add(t,i);let w=n.add(s,u);return b=n.mul(b,w),w=n.add(p,g),b=n.sub(b,w),w=n.add(r,i),c=n.add(a,u),w=n.mul(w,c),c=n.add(m,g),w=n.sub(w,c),f=n.mul(d,b),c=n.mul(h,g),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),l=n.mul(c,f),m=n.add(p,p),m=n.add(m,p),g=n.mul(d,g),b=n.mul(h,b),m=n.add(m,g),g=n.sub(p,g),g=n.mul(d,g),b=n.add(b,g),p=n.mul(m,b),l=n.add(l,p),p=n.mul(w,b),c=n.mul(y,c),c=n.sub(c,p),p=n.mul(y,m),f=n.mul(w,f),new I(c,l,f=n.add(f,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(I.ZERO)}multiply(e){let r,n,{endo:o}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>B.cached(this,e,e=>eb(I,e));if(o){let{k1neg:t,k1:i,k2neg:a,k2:u}=x(e),{p:c,f:l}=s(i),{p:f,f:d}=s(u);n=l.add(d),r=k(o.beta,c,f,t,a)}else{let{p:t,f:i}=s(e);r=t,n=i}return eb(I,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===rP||this.is0())return I.ZERO;if(e===rO)return this;if(B.hasCache(this))return this.multiply(e);if(!r)return B.unsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:o}=x(e),{p1:s,p2:a}=function(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>em||n>em;)r&eg&&(o=o.add(i)),n&eg&&(s=s.add(i)),i=i.double(),r>>=eg,n>>=eg;return{p1:o,p2:s}}(I,this,n,o);return k(r.beta,s,a,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return E(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return s===rO||(e?e(I,this):B.unsafe(this,a).is0())}clearCofactor(){let{clearCofactor:e}=t;return s===rO?this:e?e(I,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(e=!0){return g(e,"isCompressed"),this.assertValidity(),f(I,this,e)}toHex(e=!0){return(0,d.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return eb(I,e)}static msm(e,t){return eI(I,i,e,t)}static fromPrivateKey(e){return I.BASE.multiply(rN(i,e))}}I.BASE=new I(o.Gx,o.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=i;let T=i.BITS,B=new ek(I,t.endo?Math.ceil(T/2):T);return I.BASE.precompute(8),I}(r,n),i,o);return t=s.Point,Object.assign({},s,{ProjectivePoint:t,CURVE:Object.assign({},e,ef(t.Fn.ORDER,t.Fn.BITS))})})({...i,hash:e}))(o),create:t});rq.Point;let rH=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[n,i,o,s]=r.map(t=>t.reduce((t,r)=>rD.add(rD.mul(t,e),r))),[a,u]=ec(rD,[i,s],!0);return e=rD.mul(n,a),t=rD.mul(t,rD.mul(o,u)),{x:e,y:t}}),rW=function(e,t){eu(e);let{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw Error("mapToCurveSimpleSWU: invalid opts");let o=function(e,t){let r=e.ORDER,n=rP;for(let e=r-rO;e%rR===rP;e/=rR)n+=rO;let i=n,o=rR<<i-rO-rO,s=o*rR,a=(r-rO)/s,u=(a-rO)/rR,c=s-rO,l=e.pow(t,a),f=e.pow(t,(a+rO)/rR),d=(t,r)=>{let n=l,s=e.pow(r,c),a=e.sqr(s);a=e.mul(a,r);let d=e.mul(t,a);d=e.pow(d,u),d=e.mul(d,s),s=e.mul(d,r),a=e.mul(d,t);let h=e.mul(a,s);d=e.pow(h,o);let p=e.eql(d,e.ONE);s=e.mul(a,f),d=e.mul(h,n),a=e.cmov(s,a,p),h=e.cmov(d,h,p);for(let t=i;t>rO;t--){let r=t-rR;r=rR<<r-rO;let i=e.pow(h,r),o=e.eql(i,e.ONE);s=e.mul(a,n),n=e.mul(n,n),i=e.mul(h,n),a=e.cmov(s,a,o),h=e.cmov(i,h,o)}return{isValid:p,value:a}};if(e.ORDER%rM===rC){let r=(e.ORDER-rC)/rM,n=e.sqrt(e.neg(t));d=(t,i)=>{let o=e.sqr(i),s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);let u=e.mul(a,n),c=e.mul(e.sqr(a),i),l=e.eql(c,t),f=e.cmov(u,a,l);return{isValid:l,value:f}}}return d}(e,i);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let s,a,u,c,l,f,d,h;s=e.sqr(t),s=e.mul(s,i),a=e.sqr(s),a=e.add(a,s),u=e.add(a,e.ONE),u=e.mul(u,n),c=e.cmov(i,e.neg(a),!e.eql(a,e.ZERO)),c=e.mul(c,r),a=e.sqr(u),f=e.sqr(c),l=e.mul(f,r),a=e.add(a,l),a=e.mul(a,u),f=e.mul(f,c),l=e.mul(f,n),a=e.add(a,l),d=e.mul(s,u);let{isValid:p,value:m}=o(a,f);h=e.mul(s,t),h=e.mul(h,m),d=e.cmov(d,u,p),h=e.cmov(h,m,p);let g=e.isOdd(t)===e.isOdd(h);h=e.cmov(e.neg(h),h,g);let y=ec(e,[c],!0)[0];return{x:d=e.mul(d,y),y:h}}}(rD,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:rD.create(BigInt("-11"))});eF(rq.Point,e=>{let{x:t,y:r}=rW(rD.create(e[0]));return rH(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:rD.ORDER,m:1,k:128,expand:"xmd",hash:f.sha256}),eQ.utils.randomPrivateKey;let rG=()=>{let e=eQ.utils.randomPrivateKey(),t=rK(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},rK=eQ.getPublicKey;function rV(e){try{return eQ.ExtendedPoint.fromHex(e),!0}catch{return!1}}let rJ=(e,t)=>eQ.sign(e,t.slice(0,32)),rZ=eQ.verify,rY=e=>l.Buffer.isBuffer(e)?e:e instanceof Uint8Array?l.Buffer.from(e.buffer,e.byteOffset,e.byteLength):l.Buffer.from(e);class rX{constructor(e){Object.assign(this,e)}encode(){return l.Buffer.from((0,to.serialize)(rQ,this))}static decode(e){return(0,to.deserialize)(rQ,this,e)}static decodeUnchecked(e){return(0,to.deserializeUnchecked)(rQ,this,e)}}let rQ=new Map,r0=1;class r1 extends rX{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){const t=tn.default.decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new tr.default(t)}else this._bn=new tr.default(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new r1(r0);return r0+=1,new r1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return tn.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(l.Buffer);if(32===e.length)return e;let t=l.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){return new r1(ti(l.Buffer.concat([e.toBuffer(),l.Buffer.from(t),r.toBuffer()])))}static createProgramAddressSync(e,t){let r=l.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=l.Buffer.concat([r,rY(e)])});let n=ti(r=l.Buffer.concat([r,t.toBuffer(),l.Buffer.from("ProgramDerivedAddress")]));if(rV(n))throw Error("Invalid seeds, address must fall off the curve");return new r1(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{let i=e.concat(l.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return rV(new r1(e).toBytes())}}r1.default=new r1("11111111111111111111111111111111"),rQ.set(r1,{kind:"struct",fields:[["_bn","u256"]]}),new r1("BPFLoader1111111111111111111111111111111111");class r2 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(r2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class r6 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(r6.prototype,"name",{value:"TransactionExpiredTimeoutError"});class r5 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(r5.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class r3{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments())if(e<t.length)return t[e];else e-=t.length}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let r8=(e="publicKey")=>ts.blob(32,e),r4=(e="string")=>{let t=ts.struct([ts.u32("length"),ts.u32("lengthPadding"),ts.blob(ts.offset(ts.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString(),t.encode=(e,t,r)=>n({chars:l.Buffer.from(e,"utf8")},t,r),t.alloc=e=>ts.u32().span+ts.u32().span+l.Buffer.from(e,"utf8").length,t};function r9(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function r7(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function ne(e,t){if(!e)throw Error(t||"Assertion failed")}class nt{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,n=e=>{let t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);for(let t of(i.isSigner=!0,i.isWritable=!0,e))for(let e of(n(t.programId).isInvoked=!0,t.keys)){let t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new nt(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];ne(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ne(t.length>0,"Expected at least one writable signer key");let[e]=t[0];ne(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map(([e])=>new r1(e)),...r.map(([e])=>new r1(e)),...n.map(([e])=>new r1(e)),...i.map(([e])=>new r1(e))]]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=[],n=[];for(let[i,o]of this.keyMetaMap.entries())if(t(o)){let t=new r1(i),o=e.findIndex(e=>e.equals(t));o>=0&&(ne(o<256,"Max lookup table index exceeded"),r.push(o),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}let nr="Reached end of buffer unexpectedly";function nn(e){if(0===e.length)throw Error(nr);return e.shift()}function ni(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(nr);return e.splice(...t)}class no{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new r1(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:tn.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new r3(this.staticAccountKeys)}static compile(e){let[t,r]=nt.compile(e.instructions,e.payerKey).getMessageComponents(),n=new r3(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:tn.default.encode(e.data)}));return new no({header:t,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:n})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];r7(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,n=Array.from(tn.default.decode(e.data)),i=[];r7(i,t.length);let o=[];return r7(o,n.length),{programIdIndex:r,keyIndicesCount:l.Buffer.from(i),keyIndices:t,dataLength:l.Buffer.from(o),data:n}}),n=[];r7(n,r.length);let i=l.Buffer.alloc(1232);l.Buffer.from(n).copy(i);let o=n.length;r.forEach(e=>{let t=ts.struct([ts.u8("programIdIndex"),ts.blob(e.keyIndicesCount.length,"keyIndicesCount"),ts.seq(ts.u8("keyIndex"),e.keyIndices.length,"keyIndices"),ts.blob(e.dataLength.length,"dataLength"),ts.seq(ts.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t}),i=i.slice(0,o);let s=ts.struct([ts.blob(1,"numRequiredSignatures"),ts.blob(1,"numReadonlySignedAccounts"),ts.blob(1,"numReadonlyUnsignedAccounts"),ts.blob(t.length,"keyCount"),ts.seq(r8("key"),e,"keys"),r8("recentBlockhash")]),a={numRequiredSignatures:l.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:l.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:l.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:l.Buffer.from(t),keys:this.accountKeys.map(e=>rY(e.toBytes())),recentBlockhash:tn.default.decode(this.recentBlockhash)},u=l.Buffer.alloc(2048),c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(e){let t=[...e],r=nn(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=nn(t),i=nn(t),o=r9(t),s=[];for(let e=0;e<o;e++){let e=ni(t,0,32);s.push(new r1(l.Buffer.from(e)))}let a=ni(t,0,32),u=r9(t),c=[];for(let e=0;e<u;e++){let e=nn(t),r=r9(t),n=ni(t,0,r),i=r9(t),o=ni(t,0,i),s=tn.default.encode(l.Buffer.from(o));c.push({programIdIndex:e,accounts:n,data:s})}return new no({header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:tn.default.encode(l.Buffer.from(a)),accountKeys:s,instructions:c})}}class ns{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new r3(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r)return e-r<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let n=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<n}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<n.state.addresses.length)t.writable.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<n.state.addresses.length)t.readonly.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=nt.compile(e.instructions,e.payerKey),r=[],n={writable:[],readonly:[]};for(let i of e.addressLookupTableAccounts||[]){let e=t.extractTableLookup(i);if(void 0!==e){let[t,{writable:i,readonly:o}]=e;r.push(t),n.writable.push(...i),n.readonly.push(...o)}}let[i,o]=t.getMessageComponents(),s=new r3(o,n).compileInstructions(e.instructions);return new ns({header:i,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:s,addressTableLookups:r})}serialize(){let e=[];r7(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];r7(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];r7(i,this.addressTableLookups.length);let o=ts.struct([ts.u8("prefix"),ts.struct([ts.u8("numRequiredSignatures"),ts.u8("numReadonlySignedAccounts"),ts.u8("numReadonlyUnsignedAccounts")],"header"),ts.blob(e.length,"staticAccountKeysLength"),ts.seq(r8(),this.staticAccountKeys.length,"staticAccountKeys"),r8("recentBlockhash"),ts.blob(r.length,"instructionsLength"),ts.blob(t.length,"serializedInstructions"),ts.blob(i.length,"addressTableLookupsLength"),ts.blob(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(1232),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:tn.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let n=[];r7(n,r.accountKeyIndexes.length);let i=[];r7(i,r.data.length);let o=ts.struct([ts.u8("programIdIndex"),ts.blob(n.length,"encodedAccountKeyIndexesLength"),ts.seq(ts.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ts.blob(i.length,"encodedDataLength"),ts.blob(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let n=[];r7(n,r.writableIndexes.length);let i=[];r7(i,r.readonlyIndexes.length);let o=ts.struct([r8("accountKey"),ts.blob(n.length,"encodedWritableIndexesLength"),ts.seq(ts.u8(),r.writableIndexes.length,"writableIndexes"),ts.blob(i.length,"encodedReadonlyIndexesLength"),ts.seq(ts.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=nn(t),n=127&r;ne(r!==n,"Expected versioned message but received legacy message"),ne(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:nn(t),numReadonlySignedAccounts:nn(t),numReadonlyUnsignedAccounts:nn(t)},o=[],s=r9(t);for(let e=0;e<s;e++)o.push(new r1(ni(t,0,32)));let a=tn.default.encode(ni(t,0,32)),u=r9(t),c=[];for(let e=0;e<u;e++){let e=nn(t),r=r9(t),n=ni(t,0,r),i=r9(t),o=new Uint8Array(ni(t,0,i));c.push({programIdIndex:e,accountKeyIndexes:n,data:o})}let l=r9(t),f=[];for(let e=0;e<l;e++){let e=new r1(ni(t,0,32)),r=r9(t),n=ni(t,0,r),i=r9(t),o=ni(t,0,i);f.push({accountKey:e,writableIndexes:n,readonlyIndexes:o})}return new ns({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:c,addressTableLookups:f})}}let na={deserializeMessageVersion(e){let t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{let t=na.deserializeMessageVersion(e);if("legacy"===t)return no.from(e);if(0===t)return ns.deserialize(e);throw Error(`Transaction message version ${t} deserialization is not supported`)}},nu=((s={})[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s),nc=l.Buffer.alloc(64).fill(0);class nl{constructor(e){this.keys=void 0,this.programId=void 0,this.data=l.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class nf{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new nl(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});let t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new r1(e),isSigner:!1,isWritable:!1})});let o=[];i.forEach(e=>{let t=e.pubkey.toString(),r=o.findIndex(e=>e.pubkey.toString()===t);r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)}),o.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let s=o.findIndex(e=>e.pubkey.equals(r));if(s>-1){let[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=o.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let a=0,u=0,c=0,l=[],f=[];o.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),a+=1,r||(u+=1)):(f.push(e.toString()),r||(c+=1))});let d=l.concat(f),h=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:d.indexOf(r.toString()),accounts:e.keys.map(e=>d.indexOf(e.pubkey.toString())),data:tn.default.encode(t)}});return h.forEach(e=>{ne(e.programIdIndex>=0),e.accounts.forEach(e=>ne(e>=0))}),new no({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:d,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))?e:(this.signatures=t.map(e=>({signature:null,publicKey:e})),e)}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=rJ(r,e.secretKey);this._addSignature(e.publicKey,rY(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ne(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=l.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):rZ(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(n)}_serialize(e){let{signatures:t}=this,r=[];r7(r,t.length);let n=r.length+64*t.length+e.length,i=l.Buffer.alloc(n);return ne(t.length<256),l.Buffer.from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(ne(64===e.length,"signature has invalid length"),l.Buffer.from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),ne(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return ne(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ne(1===this.instructions.length),this.instructions[0].programId}get data(){return ne(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=r9(t),n=[];for(let e=0;e<r;e++){let e=ni(t,0,64);n.push(tn.default.encode(l.Buffer.from(e)))}return nf.populate(no.from(t),n)}static populate(e,t=[]){let r=new nf;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{let i={signature:t==tn.default.encode(nc)?null:tn.default.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{let n=t.accounts.map(t=>{let n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new nl({keys:n,programId:e.accountKeys[t.programIdIndex],data:tn.default.decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class nd{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)ne(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){let e=this.message.serialize(),t=[];r7(t,this.signatures.length);let r=ts.struct([ts.blob(t.length,"encodedSignaturesLength"),ts.seq(((e="signature")=>ts.blob(64,e))(),this.signatures.length,"signatures"),ts.blob(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e],r=[],n=r9(t);for(let e=0;e<n;e++)r.push(new Uint8Array(ni(t,0,64)));return new nd(na.deserialize(new Uint8Array(t)),r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let n of e){let e=r.findIndex(e=>e.equals(n.publicKey));ne(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=rJ(t,n.secretKey)}}addSignature(e,t){ne(64===t.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));ne(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}let nh=new r1("SysvarC1ock11111111111111111111111111111111");new r1("SysvarEpochSchedu1e111111111111111111111111"),new r1("Sysvar1nstructions1111111111111111111111111");let np=new r1("SysvarRecentB1ockHashes11111111111111111111"),nm=new r1("SysvarRent111111111111111111111111111111111");new r1("SysvarRewards111111111111111111111111111111"),new r1("SysvarS1otHashes111111111111111111111111111"),new r1("SysvarS1otHistory11111111111111111111111111");let ng=new r1("SysvarStakeHistory1111111111111111111111111");class ny extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){let i;const o=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":i=`Transaction ${t} resulted in an error. 
${r}. `+o+s;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:i=`Unknown action '${e}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class nb extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function nw(e,t,r,n){let i,o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,o);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)i=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,o=r.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:o,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(s,n&&n.commitment)).value;if(i.err){if(null!=s)throw new ny({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${s} failed (${JSON.stringify(i)})`)}return s}function nv(e){return new Promise(t=>setTimeout(t,e))}function n_(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*n(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},i=0;return t.layout.fields.forEach(e=>{i+=n(e)}),i}(e,t),n=l.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}let nx=ts.nu64("lamportsPerSignature"),nE=ts.struct([ts.u32("version"),ts.u32("state"),r8("authorizedPubkey"),r8("nonce"),ts.struct([nx],"feeCalculator")]),nS=nE.span;class nA{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=nE.decode(rY(e),0);return new nA({authorizedPubkey:new r1(t.authorizedPubkey),nonce:new r1(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function nk(e){let t=(0,ts.blob)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=tj();return t.decode=(e,t)=>{let n=r(e,t);return i.decode(n)},t.encode=(e,t,r)=>n(i.encode(e),t,r),t}let nI=Object.freeze({Create:{index:0,layout:ts.struct([ts.u32("instruction"),ts.ns64("lamports"),ts.ns64("space"),r8("programId")])},Assign:{index:1,layout:ts.struct([ts.u32("instruction"),r8("programId")])},Transfer:{index:2,layout:ts.struct([ts.u32("instruction"),nk("lamports")])},CreateWithSeed:{index:3,layout:ts.struct([ts.u32("instruction"),r8("base"),r4("seed"),ts.ns64("lamports"),ts.ns64("space"),r8("programId")])},AdvanceNonceAccount:{index:4,layout:ts.struct([ts.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ts.struct([ts.u32("instruction"),ts.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ts.struct([ts.u32("instruction"),r8("authorized")])},AuthorizeNonceAccount:{index:7,layout:ts.struct([ts.u32("instruction"),r8("authorized")])},Allocate:{index:8,layout:ts.struct([ts.u32("instruction"),ts.ns64("space")])},AllocateWithSeed:{index:9,layout:ts.struct([ts.u32("instruction"),r8("base"),r4("seed"),ts.ns64("space"),r8("programId")])},AssignWithSeed:{index:10,layout:ts.struct([ts.u32("instruction"),r8("base"),r4("seed"),r8("programId")])},TransferWithSeed:{index:11,layout:ts.struct([ts.u32("instruction"),nk("lamports"),r4("seed"),r8("programId")])},UpgradeNonceAccount:{index:12,layout:ts.struct([ts.u32("instruction")])}});class nT{constructor(){}static createAccount(e){let t=n_(nI.Create,{lamports:e.lamports,space:e.space,programId:rY(e.programId.toBuffer())});return new nl({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=n_(nI.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:rY(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=n_(nI.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new nl({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=n_(nI.AssignWithSeed,{base:rY(e.basePubkey.toBuffer()),seed:e.seed,programId:rY(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=n_(nI.Assign,{programId:rY(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new nl({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=n_(nI.CreateWithSeed,{base:rY(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:rY(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new nl({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){let t=new nf;"basePubkey"in e&&"seed"in e?t.add(nT.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nS,programId:this.programId})):t.add(nT.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nS,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=n_(nI.InitializeNonceAccount,{authorized:rY(e.authorizedPubkey.toBuffer())});return new nl({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:np,isSigner:!1,isWritable:!1},{pubkey:nm,isSigner:!1,isWritable:!1}],programId:this.programId,data:t})}static nonceAdvance(e){let t=n_(nI.AdvanceNonceAccount);return new nl({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:np,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceWithdraw(e){let t=n_(nI.WithdrawNonceAccount,{lamports:e.lamports});return new nl({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:np,isSigner:!1,isWritable:!1},{pubkey:nm,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){let t=n_(nI.AuthorizeNonceAccount,{authorized:rY(e.newAuthorizedPubkey.toBuffer())});return new nl({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=n_(nI.AllocateWithSeed,{base:rY(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:rY(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=n_(nI.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new nl({keys:r,programId:this.programId,data:t})}}nT.programId=new r1("11111111111111111111111111111111");class nB{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/nB.chunkSize)+1+1)}static async load(e,t,r,n,i){{let o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed"),a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new nf).add(nT.allocate({accountPubkey:r.publicKey,space:i.length})),s.owner.equals(n)||(a=a||new nf).add(nT.assign({accountPubkey:r.publicKey,programId:n})),s.lamports<o&&(a=a||new nf).add(nT.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports}))}else a=new nf().add(nT.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await nw(e,a,[t,r],{commitment:"confirmed"})}let o=ts.struct([ts.u32("instruction"),ts.u32("offset"),ts.u32("bytesLength"),ts.u32("bytesLengthPadding"),ts.seq(ts.u8("byte"),ts.offset(ts.u32(),-8),"bytes")]),s=nB.chunkSize,a=0,u=i,c=[];for(;u.length>0;){let i=u.slice(0,s),f=l.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},f);let d=new nf().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:f});c.push(nw(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await nv(250),a+=s,u=u.slice(s)}await Promise.all(c);{let i=ts.struct([ts.u32("instruction")]),o=l.Buffer.alloc(i.span);i.encode({instruction:1},o);let s=new nf().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:nm,isSigner:!1,isWritable:!1}],programId:n,data:o}),a="processed",u=await e.sendTransaction(s,[t,r],{preflightCommitment:a}),{context:c,value:f}=await e.confirmTransaction({signature:u,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(f.err)throw Error(`Transaction ${u} failed (${JSON.stringify(f)})`);for(;;){try{if(await e.getSlot({commitment:a})>c.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}nB.chunkSize=932,new r1("BPFLoader2111111111111111111111111111111111");var nP=(a=function(){if(c)return u;c=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};return u=function(r){var n=function r(n,i){var o,s,a,u,c,l,f;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(f=e.call(n))){for(o=0,a="[",s=n.length-1;o<s;o++)a+=r(n[o],!0)+",";return s>-1&&(a+=r(n[o],!0)),a+"]"}if("[object Object]"!==f)return JSON.stringify(n);for(s=(u=t(n).sort()).length,a="",o=0;o<s;)void 0!==(l=r(n[c=u[o]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l),o++;return"{"+a+"}";case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}(r,!1);if(void 0!==n)return""+n}}())&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;function nO(e){let t=0;for(;e>1;)e/=2,t++;return t}class nR{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){var t;let r=nO(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,(t|=t>>32)+1))-nO(32)-1,n=this.getSlotsInEpoch(r);return[r,e-(n-32)]}{let t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*32:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+nO(32)):this.slotsPerEpoch}}var nC=globalThis.fetch;class nM extends rs{constructor(e,t,r){super(e=>{let r=new ri(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in r?this.underlyingSocket=r.socket:this.underlyingSocket=r,r},e,t,r),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class nN{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(nU,e),r=e.length-56;ne(r>=0,"lookup table is invalid"),ne(r%32==0,"lookup table is invalid");let{addresses:n}=ts.struct([ts.seq(r8(),r/32,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new r1(t.authority[0]):void 0,addresses:n.map(e=>new r1(e))}}}let nU={index:1,layout:ts.struct([ts.u32("typeIndex"),nk("deactivationSlot"),ts.nu64("lastExtendedSlot"),ts.u8("lastExtendedStartIndex"),ts.u8(),ts.seq(r8(),ts.offset(ts.u8(),-1),"authority")])},nL=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,nj=re(tQ(r1),t3(),e=>new r1(e)),n$=t8([t3(),t0("base64")]),nF=re(tQ(l.Buffer),n$,e=>l.Buffer.from(e[0],"base64"));function nz(e){let t,r;if("string"==typeof e)t=e;else if(e){let{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function nD(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function nq(e){return t9([t4({jsonrpc:t0("2.0"),id:t3(),result:e}),t4({jsonrpc:t0("2.0"),id:t3(),error:t4({code:t7(),message:t3(),data:t6(tZ("any",()=>!0))})})])}let nH=nq(t7());function nW(e){return re(nq(e),nH,t=>"error"in t?t:{...t,result:tV(t.result,e)})}function nG(e){return nW(t4({context:t4({slot:t2()}),value:e}))}function nK(e){return t4({context:t4({slot:t2()}),value:e})}function nV(e,t){return 0===e?new ns({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new r1(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:tn.default.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new no(t)}let nJ=t4({foundation:t2(),foundationTerm:t2(),initial:t2(),taper:t2(),terminal:t2()}),nZ=nW(tY(t1(t4({epoch:t2(),effectiveSlot:t2(),amount:t2(),postBalance:t2(),commission:t6(t1(t2()))})))),nY=tY(t4({slot:t2(),prioritizationFee:t2()})),nX=t4({total:t2(),validator:t2(),foundation:t2(),epoch:t2()}),nQ=t4({epoch:t2(),slotIndex:t2(),slotsInEpoch:t2(),absoluteSlot:t2(),blockHeight:t6(t2()),transactionCount:t6(t2())}),n0=t4({slotsPerEpoch:t2(),leaderScheduleSlotOffset:t2(),warmup:tX(),firstNormalEpoch:t2(),firstNormalSlot:t2()}),n1=t5(t3(),tY(t2())),n2=t1(t9([t4({}),t3()])),n6=t4({err:n2}),n5=t0("receivedSignature"),n3=t4({"solana-core":t3(),"feature-set":t6(t2())}),n8=t4({program:t3(),programId:nj,parsed:t7()}),n4=t4({programId:nj,accounts:tY(nj),data:t3()}),n9=nG(t4({err:t1(t9([t4({}),t3()])),logs:t1(tY(t3())),accounts:t6(t1(tY(t1(t4({executable:tX(),owner:t3(),lamports:t2(),data:tY(t3()),rentEpoch:t6(t2())}))))),unitsConsumed:t6(t2()),returnData:t6(t1(t4({programId:t3(),data:t8([t3(),t0("base64")])}))),innerInstructions:t6(t1(tY(t4({index:t2(),instructions:tY(t9([n8,n4]))}))))})),n7=nG(t4({byIdentity:t5(t3(),tY(t2())),range:t4({firstSlot:t2(),lastSlot:t2()})})),ie=nW(nJ),it=nW(nX),ir=nW(nY),ii=nW(nQ),io=nW(n0),is=nW(n1),ia=nW(t2()),iu=nG(t4({total:t2(),circulating:t2(),nonCirculating:t2(),nonCirculatingAccounts:tY(nj)})),ic=t4({amount:t3(),uiAmount:t1(t2()),decimals:t2(),uiAmountString:t6(t3())}),il=nG(tY(t4({address:nj,amount:t3(),uiAmount:t1(t2()),decimals:t2(),uiAmountString:t6(t3())}))),id=nG(tY(t4({pubkey:nj,account:t4({executable:tX(),owner:nj,lamports:t2(),data:nF,rentEpoch:t2()})}))),ih=t4({program:t3(),parsed:t7(),space:t2()}),ip=nG(tY(t4({pubkey:nj,account:t4({executable:tX(),owner:nj,lamports:t2(),data:ih,rentEpoch:t2()})}))),im=nG(tY(t4({lamports:t2(),address:nj}))),ig=t4({executable:tX(),owner:nj,lamports:t2(),data:nF,rentEpoch:t2()}),iy=t4({pubkey:nj,account:ig}),ib=re(t9([tQ(l.Buffer),ih]),t9([n$,ih]),e=>Array.isArray(e)?tV(e,nF):e),iw=t4({executable:tX(),owner:nj,lamports:t2(),data:ib,rentEpoch:t2()}),iv=t4({pubkey:nj,account:iw}),i_=t4({state:t9([t0("active"),t0("inactive"),t0("activating"),t0("deactivating")]),active:t2(),inactive:t2()}),ix=nW(tY(t4({signature:t3(),slot:t2(),err:n2,memo:t1(t3()),blockTime:t6(t1(t2()))}))),iE=nW(tY(t4({signature:t3(),slot:t2(),err:n2,memo:t1(t3()),blockTime:t6(t1(t2()))}))),iS=t4({subscription:t2(),result:nK(ig)}),iA=t4({pubkey:nj,account:ig}),ik=t4({subscription:t2(),result:nK(iA)}),iI=t4({parent:t2(),slot:t2(),root:t2()}),iT=t4({subscription:t2(),result:iI}),iB=t9([t4({type:t9([t0("firstShredReceived"),t0("completed"),t0("optimisticConfirmation"),t0("root")]),slot:t2(),timestamp:t2()}),t4({type:t0("createdBank"),parent:t2(),slot:t2(),timestamp:t2()}),t4({type:t0("frozen"),slot:t2(),timestamp:t2(),stats:t4({numTransactionEntries:t2(),numSuccessfulTransactions:t2(),numFailedTransactions:t2(),maxTransactionsPerEntry:t2()})}),t4({type:t0("dead"),slot:t2(),timestamp:t2(),err:t3()})]),iP=t4({subscription:t2(),result:iB}),iO=t4({subscription:t2(),result:nK(t9([n6,n5]))}),iR=t4({subscription:t2(),result:t2()}),iC=t4({pubkey:t3(),gossip:t1(t3()),tpu:t1(t3()),rpc:t1(t3()),version:t1(t3())}),iM=t4({votePubkey:t3(),nodePubkey:t3(),activatedStake:t2(),epochVoteAccount:tX(),epochCredits:tY(t8([t2(),t2(),t2()])),commission:t2(),lastVote:t2(),rootSlot:t1(t2())}),iN=nW(t4({current:tY(iM),delinquent:tY(iM)})),iU=t9([t0("processed"),t0("confirmed"),t0("finalized")]),iL=t4({slot:t2(),confirmations:t1(t2()),err:n2,confirmationStatus:t6(iU)}),ij=nG(tY(t1(iL))),i$=nW(t2()),iF=t4({accountKey:nj,writableIndexes:tY(t2()),readonlyIndexes:tY(t2())}),iz=t4({signatures:tY(t3()),message:t4({accountKeys:tY(t3()),header:t4({numRequiredSignatures:t2(),numReadonlySignedAccounts:t2(),numReadonlyUnsignedAccounts:t2()}),instructions:tY(t4({accounts:tY(t2()),data:t3(),programIdIndex:t2()})),recentBlockhash:t3(),addressTableLookups:t6(tY(iF))})}),iD=t4({pubkey:nj,signer:tX(),writable:tX(),source:t6(t9([t0("transaction"),t0("lookupTable")]))}),iq=t4({accountKeys:tY(iD),signatures:tY(t3())}),iH=t4({parsed:t7(),program:t3(),programId:nj}),iW=t4({accounts:tY(nj),data:t3(),programId:nj}),iG=re(t9([iW,iH]),t9([t4({parsed:t7(),program:t3(),programId:t3()}),t4({accounts:tY(t3()),data:t3(),programId:t3()})]),e=>"accounts"in e?tV(e,iW):tV(e,iH)),iK=t4({signatures:tY(t3()),message:t4({accountKeys:tY(iD),instructions:tY(iG),recentBlockhash:t3(),addressTableLookups:t6(t1(tY(iF)))})}),iV=t4({accountIndex:t2(),mint:t3(),owner:t6(t3()),programId:t6(t3()),uiTokenAmount:ic}),iJ=t4({writable:tY(nj),readonly:tY(nj)}),iZ=t4({err:n2,fee:t2(),innerInstructions:t6(t1(tY(t4({index:t2(),instructions:tY(t4({accounts:tY(t2()),data:t3(),programIdIndex:t2()}))})))),preBalances:tY(t2()),postBalances:tY(t2()),logMessages:t6(t1(tY(t3()))),preTokenBalances:t6(t1(tY(iV))),postTokenBalances:t6(t1(tY(iV))),loadedAddresses:t6(iJ),computeUnitsConsumed:t6(t2()),costUnits:t6(t2())}),iY=t4({err:n2,fee:t2(),innerInstructions:t6(t1(tY(t4({index:t2(),instructions:tY(iG)})))),preBalances:tY(t2()),postBalances:tY(t2()),logMessages:t6(t1(tY(t3()))),preTokenBalances:t6(t1(tY(iV))),postTokenBalances:t6(t1(tY(iV))),loadedAddresses:t6(iJ),computeUnitsConsumed:t6(t2()),costUnits:t6(t2())}),iX=t9([t0(0),t0("legacy")]),iQ=t4({pubkey:t3(),lamports:t2(),postBalance:t1(t2()),rewardType:t1(t3()),commission:t6(t1(t2()))}),i0=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),transactions:tY(t4({transaction:iz,meta:t1(iZ),version:t6(iX)})),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i1=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i2=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),transactions:tY(t4({transaction:iq,meta:t1(iZ),version:t6(iX)})),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i6=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),transactions:tY(t4({transaction:iK,meta:t1(iY),version:t6(iX)})),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i5=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),transactions:tY(t4({transaction:iq,meta:t1(iY),version:t6(iX)})),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i3=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),rewards:t6(tY(iQ)),blockTime:t1(t2()),blockHeight:t1(t2())}))),i8=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),transactions:tY(t4({transaction:iz,meta:t1(iZ)})),rewards:t6(tY(iQ)),blockTime:t1(t2())}))),i4=nW(t1(t4({blockhash:t3(),previousBlockhash:t3(),parentSlot:t2(),signatures:tY(t3()),blockTime:t1(t2())}))),i9=nW(t1(t4({slot:t2(),meta:t1(iZ),blockTime:t6(t1(t2())),transaction:iz,version:t6(iX)}))),i7=nW(t1(t4({slot:t2(),transaction:iK,meta:t1(iY),blockTime:t6(t1(t2())),version:t6(iX)}))),oe=nG(t4({blockhash:t3(),lastValidBlockHeight:t2()})),ot=nG(tX()),or=nW(tY(t4({slot:t2(),numTransactions:t2(),numSlots:t2(),samplePeriodSecs:t2()}))),on=nG(t1(t4({feeCalculator:t4({lamportsPerSignature:t2()})}))),oi=nW(t3()),oo=nW(t3()),os=t4({err:n2,logs:tY(t3()),signature:t3()}),oa=t4({result:nK(os),subscription:t2()}),ou={"solana-client":"js/1.0.0-maintenance"};class oc{constructor(e,t){var r;let n,i,o,s,a,u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let e={};return async t=>{let{commitment:r,config:n}=nz(t),i=this._buildArgs([],r,void 0,n),o=nP(i);return e[o]=e[o]??(async()=>{try{let e=await this._rpcRequest("getBlockHeight",i),t=tV(e,nW(t2()));if("error"in t)throw new nb(t.error,"failed to get block height information");return t.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit,u=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){let t=e.match(nL);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);let[r,n,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10),u=null==a?"":`:${a+1}`;return`${s}//${n}${u}${o}`}(e),this._rpcClient=function(e,t,r,n,i,o){let s,a,u=r||nC;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{let r=await new Promise((r,i)=>{try{n(e,t,(e,t)=>r([e,t]))}catch(e){i(e)}});return await u(...r)}),new rt.default(async(r,n)=>{let o={method:"POST",body:r,agent:s,headers:Object.assign({"Content-Type":"application/json"},t||{},ou)};try{let t,r=5,s=500;for(;(t=a?await a(e,o):await u(e,o),429===t.status&&!0!==i)&&(r-=1,0!==r);){;console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${s}ms delay...`),await nv(s),s*=2}let c=await t.text();t.ok?n(null,c):n(Error(`${t.status} ${t.statusText}: ${c}`))}catch(e){e instanceof Error&&n(e)}},{})}(e,i,o,s,a,u),this._rpcRequest=(r=this._rpcClient,(e,t)=>new Promise((n,i)=>{r.request(e,t,(e,t)=>{e?i(e):n(t)})})),this._rpcBatchRequest=function(e){return t=>new Promise((r,n)=>{0===t.length&&r([]);let i=t.map(t=>e.request(t.methodName,t.args));e.request(i,(e,t)=>{e?n(e):r(t)})})}(this._rpcClient),this._rpcWebSocket=new nM(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=tV(await this._rpcRequest("getBalance",i),nG(t2()));if("error"in o)throw new nb(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){let t=tV(await this._rpcRequest("getBlockTime",[e]),nW(t1(t2())));if("error"in t)throw new nb(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){let e=tV(await this._rpcRequest("minimumLedgerSlot",[]),nW(t2()));if("error"in e)throw new nb(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){let e=tV(await this._rpcRequest("getFirstAvailableBlock",[]),ia);if("error"in e)throw new nb(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};let r=tV(await this._rpcRequest("getSupply",[t]),iu);if("error"in r)throw new nb(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){let r=this._buildArgs([e.toBase58()],t),n=tV(await this._rpcRequest("getTokenSupply",r),nG(ic));if("error"in n)throw new nb(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(e,t){let r=this._buildArgs([e.toBase58()],t),n=tV(await this._rpcRequest("getTokenAccountBalance",r),nG(ic));if("error"in n)throw new nb(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(e,t,r){let{commitment:n,config:i}=nz(r),o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});let s=this._buildArgs(o,n,"base64",i),a=tV(await this._rpcRequest("getTokenAccountsByOwner",s),id);if("error"in a)throw new nb(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});let i=this._buildArgs(n,r,"jsonParsed"),o=tV(await this._rpcRequest("getTokenAccountsByOwner",i),ip);if("error"in o)throw new nb(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){let t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=tV(await this._rpcRequest("getLargestAccounts",r),im);if("error"in n)throw new nb(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(e,t){let r=this._buildArgs([e.toBase58()],t),n=tV(await this._rpcRequest("getTokenLargestAccounts",r),il);if("error"in n)throw new nb(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=tV(await this._rpcRequest("getAccountInfo",i),nG(t1(ig)));if("error"in o)throw new nb(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=tV(await this._rpcRequest("getAccountInfo",i),nG(t1(iw)));if("error"in o)throw new nb(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){let{commitment:r,config:n}=nz(t),i=e.map(e=>e.toBase58()),o=this._buildArgs([i],r,"jsonParsed",n),s=tV(await this._rpcRequest("getMultipleAccounts",o),nG(tY(t1(iw))));if("error"in s)throw new nb(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:r,config:n}=nz(t),i=e.map(e=>e.toBase58()),o=this._buildArgs([i],r,"base64",n),s=tV(await this._rpcRequest("getMultipleAccounts",o),nG(tY(t1(ig))));if("error"in s)throw new nb(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){let{commitment:n,config:i}=nz(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),s=tV(await this._rpcRequest("getStakeActivation",o),nW(i_));if("error"in s)throw new nb(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){let{commitment:r,config:n}=nz(t),{encoding:i,...o}=n||{},s=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:nD(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),u=tY(iy),c=!0===o.withContext?tV(a,nG(u)):tV(a,nW(u));if("error"in c)throw new nb(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=tV(await this._rpcRequest("getProgramAccounts",i),nW(tY(iv)));if("error"in o)throw new nb(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=tn.default.decode(r)}catch(e){throw Error("signature must be base58 encoded: "+r)}return(ne(64===n.length,"signature has invalid length"),"string"==typeof e)?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise((o,s)=>{try{r=this.onSignature(t,(e,t)=>{r=void 0,o({__type:nu.PROCESSED,response:{context:t,value:e}})},e);let a=new Promise(e=>{null==r?e():n=this._onSubscriptionStateChange(r,t=>{"subscribed"===t&&e()})});(async()=>{if(await a,i)return;let r=await this.getSignatureStatus(t);if(i||null==r)return;let{context:n,value:u}=r;if(null!=u)if(u?.err)s(u.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,o({__type:nu.PROCESSED,response:{context:n,value:u}})}})()}catch(e){s(e)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i,o=!1,s=new Promise(t=>{let n=async()=>{try{return await this.getBlockHeight(e)}catch(e){return -1}};(async()=>{let e=await n();if(!o){for(;e<=r;)if(await nv(1e3),o||(e=await n(),o))return;t({__type:nu.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),c=this.getCancellationPromise(t);try{let e=await Promise.race([c,u,s]);if(e.__type===nu.PROCESSED)i=e.response;else throw new r2(n)}finally{o=!0,a()}return i}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s,a=!1,u=new Promise(t=>{let o=i,s=null,u=async()=>{try{let{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return s=t.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await u(),!a)for(;;){if(i!==o)return void t({__type:nu.NONCE_INVALID,slotInWhichNonceDidAdvance:s});if(await nv(2e3),a||(o=await u(),a))return}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(t);try{let t=await Promise.race([f,l,u]);if(t.__type===nu.PROCESSED)s=t.response;else{let n;for(;;){let e=await this.getSignatureStatus(o);if(null==e)break;if(e.context.slot<(t.slotInWhichNonceDidAdvance??r)){await nv(400);continue}n=e;break}if(n?.value){let t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new r5(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new r5(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new r5(o)}s={context:n.context,value:{err:n.value.err}}}else throw new r5(o)}}finally{a=!0,c()}return s}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r,n,i=new Promise(t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout(()=>t({__type:nu.TIMED_OUT,timeoutMs:n}),n)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});try{let e=await Promise.race([s,i]);if(e.__type===nu.PROCESSED)n=e.response;else throw new r6(t,e.timeoutMs/1e3)}finally{clearTimeout(r),o()}return n}async getClusterNodes(){let e=tV(await this._rpcRequest("getClusterNodes",[]),nW(tY(iC)));if("error"in e)throw new nb(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){let t=this._buildArgs([],e),r=tV(await this._rpcRequest("getVoteAccounts",t),iN);if("error"in r)throw new nb(r.error,"failed to get vote accounts");return r.result}async getSlot(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,void 0,r),i=tV(await this._rpcRequest("getSlot",n),nW(t2()));if("error"in i)throw new nb(i.error,"failed to get slot");return i.result}async getSlotLeader(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,void 0,r),i=tV(await this._rpcRequest("getSlotLeader",n),nW(t3()));if("error"in i)throw new nb(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){let r=tV(await this._rpcRequest("getSlotLeaders",[e,t]),nW(tY(nj)));if("error"in r)throw new nb(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){let{context:r,value:n}=await this.getSignatureStatuses([e],t);return ne(1===n.length),{context:r,value:n[0]}}async getSignatureStatuses(e,t){let r=[e];t&&r.push(t);let n=tV(await this._rpcRequest("getSignatureStatuses",r),ij);if("error"in n)throw new nb(n.error,"failed to get signature status");return n.result}async getTransactionCount(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,void 0,r),i=tV(await this._rpcRequest("getTransactionCount",n),nW(t2()));if("error"in i)throw new nb(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),r=tV(await this._rpcRequest("getInflationGovernor",t),ie);if("error"in r)throw new nb(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,r){let{commitment:n,config:i}=nz(r),o=this._buildArgs([e.map(e=>e.toBase58())],n,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=tV(await this._rpcRequest("getInflationReward",o),nZ);if("error"in s)throw new nb(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){let e=tV(await this._rpcRequest("getInflationRate",[]),it);if("error"in e)throw new nb(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,void 0,r),i=tV(await this._rpcRequest("getEpochInfo",n),ii);if("error"in i)throw new nb(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){let e=tV(await this._rpcRequest("getEpochSchedule",[]),io);if("error"in e)throw new nb(e.error,"failed to get epoch schedule");let t=e.result;return new nR(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){let e=tV(await this._rpcRequest("getLeaderSchedule",[]),is);if("error"in e)throw new nb(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){let r=this._buildArgs([e],t),n=tV(await this._rpcRequest("getMinimumBalanceForRentExemption",r),i$);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){let t=tV(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),or);if("error"in t)throw new nb(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){let r=this._buildArgs([e],t),n=tV(await this._rpcRequest("getFeeCalculatorForBlockhash",r),on);if("error"in n)throw new nb(n.error,"failed to get fee calculator");let{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){let r=rY(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=tV(await this._rpcRequest("getFeeForMessage",n),nG(t1(t2())));if("error"in i)throw new nb(i.error,"failed to get fee for message");if(null===i.result)throw Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),r=t?.length?[t]:[],n=tV(await this._rpcRequest("getRecentPrioritizationFees",r),ir);if("error"in n)throw new nb(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,void 0,r),i=tV(await this._rpcRequest("getLatestBlockhash",n),oe);if("error"in i)throw new nb(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgs([e],r,void 0,n),o=tV(await this._rpcRequest("isBlockhashValid",i),ot);if("error"in o)throw new nb(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){let e=tV(await this._rpcRequest("getVersion",[]),nW(n3));if("error"in e)throw new nb(e.error,"failed to get version");return e.result}async getGenesisHash(){let e=tV(await this._rpcRequest("getGenesisHash",[]),nW(t3()));if("error"in e)throw new nb(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=tV(o,i2);if("error"in e)throw e.error;return e.result}case"none":{let e=tV(o,i1);if("error"in e)throw e.error;return e.result}default:{let e=tV(o,i0);if("error"in e)throw e.error;let{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:nV(r,e.message)},version:r}))}:null}}}catch(e){throw new nb(e,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=tV(o,i5);if("error"in e)throw e.error;return e.result}case"none":{let e=tV(o,i3);if("error"in e)throw e.error;return e.result}default:{let e=tV(o,i6);if("error"in e)throw e.error;return e.result}}}catch(e){throw new nb(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){let{commitment:n,...i}=e;r=n,t=i}let n=this._buildArgs([],r,"base64",t),i=tV(await this._rpcRequest("getBlockProduction",n),n7);if("error"in i)throw new nb(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=tV(await this._rpcRequest("getTransaction",i),i9);if("error"in o)throw new nb(o.error,"failed to get transaction");let s=o.result;return s?{...s,transaction:{...s.transaction,message:nV(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){let{commitment:r,config:n}=nz(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=tV(await this._rpcRequest("getTransaction",i),i7);if("error"in o)throw new nb(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){let{commitment:r,config:n}=nz(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)}));return(await this._rpcBatchRequest(i)).map(e=>{let t=tV(e,i7);if("error"in t)throw new nb(t.error,"failed to get transactions");return t.result})}async getTransactions(e,t){let{commitment:r,config:n}=nz(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)}));return(await this._rpcBatchRequest(i)).map(e=>{let t=tV(e,i9);if("error"in t)throw new nb(t.error,"failed to get transactions");let r=t.result;return r?{...r,transaction:{...r.transaction,message:nV(r.version,r.transaction.message)}}:r})}async getConfirmedBlock(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=tV(await this._rpcRequest("getBlock",r),i8);if("error"in n)throw new nb(n.error,"failed to get confirmed block");let i=n.result;if(!i)throw Error("Confirmed block "+e+" not found");let o={...i,transactions:i.transactions.map(({transaction:e,meta:t})=>{let r=new no(e.message);return{meta:t,transaction:{...e,message:r}}})};return{...o,transactions:o.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:nf.populate(e.message,e.signatures)}))}}async getBlocks(e,t,r){let n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=tV(await this._rpcRequest("getBlocks",n),nW(tY(t2())));if("error"in i)throw new nb(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=tV(await this._rpcRequest("getBlock",r),i4);if("error"in n)throw new nb(n.error,"failed to get block");let i=n.result;if(!i)throw Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=tV(await this._rpcRequest("getBlock",r),i4);if("error"in n)throw new nb(n.error,"failed to get confirmed block");let i=n.result;if(!i)throw Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=tV(await this._rpcRequest("getTransaction",r),i9);if("error"in n)throw new nb(n.error,"failed to get transaction");let i=n.result;if(!i)return i;let o=new no(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:nf.populate(o,s)}}async getParsedConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=tV(await this._rpcRequest("getTransaction",r),i7);if("error"in n)throw new nb(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(e,t){let r=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(e=>{let t=tV(e,i7);if("error"in t)throw new nb(t.error,"failed to get confirmed transactions");return t.result})}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0)&&!(t<i);)try{let e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{let e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,n)).map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=tV(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),ix);if("error"in i)throw new nb(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=tV(await this._rpcRequest("getSignaturesForAddress",n),iE);if("error"in i)throw new nb(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=new nN({key:e,state:nN.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=nA.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){let r=tV(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),oi);if("error"in r)throw new nb(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await nv(100);let e=Date.now()-this._blockhashInfo.lastFetch;if(null!==this._blockhashInfo.latestBlockhash&&!(e>=3e4))return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){let e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await nv(200)}throw Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:r}=nz(e),n=this._buildArgs([],t,"base64",r),i=tV(await this._rpcRequest("getStakeMinimumDelegation",n),nG(t2()));if("error"in i)throw new nb(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,r){let n;if("message"in e){let n=e.serialize(),i=l.Buffer.from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw Error("Invalid arguments");let o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);let s=[i,o],a=tV(await this._rpcRequest("simulateTransaction",s),n9);if("error"in a)throw Error("failed to simulate transaction: "+a.error.message);return a.result}if(e instanceof nf?((n=new nf).feePayer=e.feePayer,n.instructions=e.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures):(n=nf.populate(e))._message=n._json=void 0,void 0!==t&&!Array.isArray(t))throw Error("Invalid arguments");if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){let r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw Error("!signature");let i=n.signature.toString("base64");if(this._blockhashInfo.simulatedSignatures.includes(i)||this._blockhashInfo.transactionSignatures.includes(i))e=!0;else{this._blockhashInfo.simulatedSignatures.push(i);break}}}let i=n._compile(),o=i.serialize(),s=n._serialize(o).toString("base64"),a={encoding:"base64",commitment:this.commitment};r&&(a.accounts={encoding:"base64",addresses:(Array.isArray(r)?r:i.nonProgramIds()).map(e=>e.toBase58())}),t&&(a.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(a.innerInstructions=t.innerInstructions);let u=[s,a],c=tV(await this._rpcRequest("simulateTransaction",u),n9);if("error"in c){let e;if("data"in c.error&&(e=c.error.data.logs)&&Array.isArray(e)){let t="\n    ",r=t+e.join(t);console.error(c.error.message,r)}throw new ny({action:"simulate",signature:"",transactionMessage:c.error.message,logs:e})}return c.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw Error("Invalid arguments");let r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw Error("Invalid arguments");if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){let n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw Error("!signature");let i=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(i))r=!0;else{this._blockhashInfo.transactionSignatures.push(i);break}}}let n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){let r=rY(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){let r={encoding:"base64"},n=t&&t.skipPreflight,i=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);let o=[e,r],s=tV(await this._rpcRequest("sendTransaction",o),oo);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new ny({action:n?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===e)?this._updateSubscriptions():(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))}_setSubscription(e,t){let r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){let r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){let r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};let n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500));return}if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{let r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size){delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{let{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});let t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(o){if(console.error(`Received ${o instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:o}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await (async()=>{let{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!t())return;this._setSubscription(e,{...r,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){let r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach(e=>{try{e(...t)}catch(e){console.error(e)}})}_wsOnAccountNotification(e){let{result:t,subscription:r}=tV(e,iS);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){let r=this._nextClientSubscriptionId++,n=nP([e.method,t]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let t=this._subscriptionsByHash[n];ne(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){let{commitment:n,config:i}=nz(r),o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:r}=tV(e,ik);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){let{commitment:i,config:o}=nz(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(n?{filters:nD(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){let n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:r}=tV(e,oa);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:r}=tV(e,iT);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:r}=tV(e,iP);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){let i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){let i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){let{result:t,subscription:r}=tV(e,iO);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){let n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){let{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),s=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(s)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:r}=tV(e,iR);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ol{constructor(e){this._keypair=void 0,this._keypair=e??rG()}static generate(){return new ol(rG())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=rK(e.slice(0,32));for(let e=0;e<32;e++)if(r[e]!==t[e])throw Error("provided secretKey is invalid")}return new ol({publicKey:r,secretKey:e})}static fromSeed(e){let t=rK(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new ol({publicKey:t,secretKey:r})}get publicKey(){return new r1(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ts.struct([ts.u32("instruction"),nk("recentSlot"),ts.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ts.struct([ts.u32("instruction")])},ExtendLookupTable:{index:2,layout:ts.struct([ts.u32("instruction"),nk(),ts.seq(r8(),ts.offset(ts.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ts.struct([ts.u32("instruction")])},CloseLookupTable:{index:4,layout:ts.struct([ts.u32("instruction")])}}),new r1("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:ts.struct([ts.u8("instruction"),ts.u32("units"),ts.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ts.struct([ts.u8("instruction"),ts.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ts.struct([ts.u8("instruction"),ts.u32("units")])},SetComputeUnitPrice:{index:3,layout:ts.struct([ts.u8("instruction"),nk("microLamports")])}}),new r1("ComputeBudget111111111111111111111111111111");let of=ts.struct([ts.u8("numSignatures"),ts.u8("padding"),ts.u16("signatureOffset"),ts.u16("signatureInstructionIndex"),ts.u16("publicKeyOffset"),ts.u16("publicKeyInstructionIndex"),ts.u16("messageDataOffset"),ts.u16("messageDataSize"),ts.u16("messageInstructionIndex")]);class od{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,instructionIndex:i}=e;ne(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),ne(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let o=of.span,s=o+t.length,a=s+n.length,u=l.Buffer.alloc(a+r.length),c=null==i?65535:i;return of.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(t,o),u.fill(n,s),u.fill(r,a),new nl({keys:[],programId:od.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;ne(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=ol.fromSecretKey(t),i=e.publicKey.toBytes(),o=rJ(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}od.programId=new r1("Ed25519SigVerify111111111111111111111111111"),rq.utils.isValidPrivateKey;let oh=rq.getPublicKey,op=ts.struct([ts.u8("numSignatures"),ts.u16("signatureOffset"),ts.u8("signatureInstructionIndex"),ts.u16("ethAddressOffset"),ts.u8("ethAddressInstructionIndex"),ts.u16("messageDataOffset"),ts.u16("messageDataSize"),ts.u8("messageInstructionIndex"),ts.blob(20,"ethAddress"),ts.blob(64,"signature"),ts.u8("recoveryId")]);class om{constructor(){}static publicKeyToEthAddress(e){ne(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return l.Buffer.from(rS(rY(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return om.createInstructionWithEthAddress({ethAddress:om.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){let t,{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;ne(20===(t="string"==typeof r?r.startsWith("0x")?l.Buffer.from(r.substr(2),"hex"):l.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let a=12+t.length,u=a+i.length+1,c=l.Buffer.alloc(op.span+n.length);return op.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:rY(i),ethAddress:rY(t),recoveryId:o},c),c.fill(rY(n),op.span),new nl({keys:[],programId:om.programId,data:c})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;ne(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{var i;let e,o=rY(t),s=oh(o,!1).slice(1),[a,u]=(i=l.Buffer.from(rS(rY(r))),[(e=rq.sign(i,o)).toCompactRawBytes(),e.recovery]);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}om.programId=new r1("KeccakSecp256k11111111111111111111111111111");let og=new r1("StakeConfig11111111111111111111111111111111");class oy{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}oy.default=new oy(0,0,r1.default);let ob=Object.freeze({Initialize:{index:0,layout:ts.struct([ts.u32("instruction"),((e="authorized")=>ts.struct([r8("staker"),r8("withdrawer")],e))(),((e="lockup")=>ts.struct([ts.ns64("unixTimestamp"),ts.ns64("epoch"),r8("custodian")],e))()])},Authorize:{index:1,layout:ts.struct([ts.u32("instruction"),r8("newAuthorized"),ts.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ts.struct([ts.u32("instruction")])},Split:{index:3,layout:ts.struct([ts.u32("instruction"),ts.ns64("lamports")])},Withdraw:{index:4,layout:ts.struct([ts.u32("instruction"),ts.ns64("lamports")])},Deactivate:{index:5,layout:ts.struct([ts.u32("instruction")])},Merge:{index:7,layout:ts.struct([ts.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ts.struct([ts.u32("instruction"),r8("newAuthorized"),ts.u32("stakeAuthorizationType"),r4("authoritySeed"),r8("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ow{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:n}=e,i=n||oy.default,o=n_(ob.Initialize,{authorized:{staker:rY(r.staker.toBuffer()),withdrawer:rY(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:rY(i.custodian.toBuffer())}});return new nl({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nm,isSigner:!1,isWritable:!1}],programId:this.programId,data:o})}static createAccountWithSeed(e){let t=new nf;t.add(nT.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){let t=new nf;t.add(nT.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=n_(ob.Delegate);return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:og,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=n_(ob.Authorize,{newAuthorized:rY(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),new nf().add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,u=n_(ob.AuthorizeWithSeed,{newAuthorized:rY(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:rY(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:nh,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),new nf().add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=n_(ob.Split,{lamports:i});return new nl({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){let r=new nf;return r.add(nT.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,u=new nf;return u.add(nT.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&u.add(nT.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=n_(ob.Merge);return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=n_(ob.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),new nf().add({keys:a,programId:this.programId,data:s})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,n=n_(ob.Deactivate);return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}ow.programId=new r1("Stake11111111111111111111111111111111111111"),ow.space=200;let ov=Object.freeze({InitializeAccount:{index:0,layout:ts.struct([ts.u32("instruction"),((e="voteInit")=>ts.struct([r8("nodePubkey"),r8("authorizedVoter"),r8("authorizedWithdrawer"),ts.u8("commission")],e))()])},Authorize:{index:1,layout:ts.struct([ts.u32("instruction"),r8("newAuthorized"),ts.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ts.struct([ts.u32("instruction"),ts.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ts.struct([ts.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ts.struct([ts.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>ts.struct([ts.u32("voteAuthorizationType"),r8("currentAuthorityDerivedKeyOwnerPubkey"),r4("currentAuthorityDerivedKeySeed"),r8("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class o_{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=n_(ov.InitializeAccount,{voteInit:{nodePubkey:rY(n.nodePubkey.toBuffer()),authorizedVoter:rY(n.authorizedVoter.toBuffer()),authorizedWithdrawer:rY(n.authorizedWithdrawer.toBuffer()),commission:n.commission}});return new nl({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nm,isSigner:!1,isWritable:!1},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static createAccount(e){let t=new nf;return t.add(nT.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=n_(ov.Authorize,{newAuthorized:rY(n.toBuffer()),voteAuthorizationType:i.index});return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=n_(ov.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rY(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:rY(i.toBuffer()),voteAuthorizationType:o.index}});return new nf().add({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:nh,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=n_(ov.Withdraw,{lamports:n});return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return o_.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=n_(ov.UpdateValidatorIdentity);return new nf().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}o_.programId=new r1("Vote111111111111111111111111111111111111111"),o_.space=3762,new r1("Va1idator1nfo111111111111111111111111111111"),t4({name:t3(),website:t6(t3()),details:t6(t3()),iconUrl:t6(t3()),keybaseUsername:t6(t3())}),new r1("Vote111111111111111111111111111111111111111"),ts.struct([r8("nodePubkey"),r8("authorizedWithdrawer"),ts.u8("commission"),ts.nu64(),ts.seq(ts.struct([ts.nu64("slot"),ts.u32("confirmationCount")]),ts.offset(ts.u32(),-8),"votes"),ts.u8("rootSlotValid"),ts.nu64("rootSlot"),ts.nu64(),ts.seq(ts.struct([ts.nu64("epoch"),r8("authorizedVoter")]),ts.offset(ts.u32(),-8),"authorizedVoters"),ts.struct([ts.seq(ts.struct([r8("authorizedPubkey"),ts.nu64("epochOfLastAuthorizedSwitch"),ts.nu64("targetEpoch")]),32,"buf"),ts.nu64("idx"),ts.u8("isEmpty")],"priorVoters"),ts.nu64(),ts.seq(ts.struct([ts.nu64("epoch"),ts.nu64("credits"),ts.nu64("prevCredits")]),ts.offset(ts.u32(),-8),"epochCredits"),ts.struct([ts.nu64("slot"),ts.nu64("timestamp")],"lastTimestamp")]),e.s(["Connection",()=>oc,"Keypair",()=>ol,"Transaction",()=>nf,"VersionedMessage",()=>na,"VersionedTransaction",()=>nd],89379)},62268,e=>{"use strict";var t=e.i(33856);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let n=!1,i=e.map(e=>{let i=r(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():r(e[t],null)}}}}function i(...e){return t.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>i])},38336,e=>{"use strict";var t=e.i(33856),r=e.i(13896);function n(e,n){let i=t.createContext(n),o=e=>{let{children:n,...o}=e,s=t.useMemo(()=>o,Object.values(o));return(0,r.jsx)(i.Provider,{value:s,children:n})};return o.displayName=e+"Provider",[o,function(r){let o=t.useContext(i);if(o)return o;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function i(e,n=[]){let o=[],s=()=>{let r=o.map(e=>t.createContext(e));return function(n){let i=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return s.scopeName=e,[function(n,i){let s=t.createContext(i),a=o.length;o=[...o,i];let u=n=>{let{scope:i,children:o,...u}=n,c=i?.[e]?.[a]||s,l=t.useMemo(()=>u,Object.values(u));return(0,r.jsx)(c.Provider,{value:l,children:o})};return u.displayName=n+"Provider",[u,function(r,o){let u=o?.[e]?.[a]||s,c=t.useContext(u);if(c)return c;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${n}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=n.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return n.scopeName=r.scopeName,n}(s,...n)]}e.s(["createContext",()=>n,"createContextScope",()=>i])},34534,e=>{"use strict";var t=e.i(33856),r=e.i(62268),n=e.i(13896);function i(e){var i;let o,s=(i=e,(o=t.forwardRef((e,n)=>{let{children:i,...o}=e;if(t.isValidElement(i)){var s;let e,a,u=(s=i,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),c=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(o,i.props);return i.type!==t.Fragment&&(c.ref=n?(0,r.composeRefs)(n,u):u),t.cloneElement(i,c)}return t.Children.count(i)>1?t.Children.only(null):null})).displayName=`${i}.SlotClone`,o),a=t.forwardRef((e,r)=>{let{children:i,...o}=e,a=t.Children.toArray(i),c=a.find(u);if(c){let e=c.props.children,i=a.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(s,{...o,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,i):null})}return(0,n.jsx)(s,{...o,ref:r,children:i})});return a.displayName=`${e}.Slot`,a}var o=i("Slot"),s=Symbol("radix.slottable");function a(e){let t=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=s,t}function u(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s}e.s(["Slot",()=>o,"createSlot",()=>i,"createSlottable",()=>a])},30068,38766,37846,e=>{"use strict";var t=e.i(33856),r=e.i(86751),n=e.i(34534),i=e.i(13896),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let o=(0,n.createSlot)(`Primitive.${r}`),s=t.forwardRef((e,t)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n?o:r,{...s,ref:t})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function s(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}function a(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}function u(e,r=globalThis?.document){let n=a(e);t.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return r.addEventListener("keydown",e,{capture:!0}),()=>r.removeEventListener("keydown",e,{capture:!0})},[n,r])}e.s(["Primitive",()=>o,"Root",()=>o,"dispatchDiscreteCustomEvent",()=>s],30068),e.s(["useCallbackRef",()=>a],38766),e.s(["useEscapeKeydown",()=>u],37846)},46499,e=>{"use strict";var t=e.i(33856),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},36957,e=>{"use strict";var t=e.i(33856),r=e.i(86751),n=e.i(30068),i=e.i(46499),o=e.i(13896),s=t.forwardRef((e,s)=>{let{container:a,...u}=e,[c,l]=t.useState(!1);(0,i.useLayoutEffect)(()=>l(!0),[]);let f=a||c&&globalThis?.document?.body;return f?r.default.createPortal((0,o.jsx)(n.Primitive.div,{...u,ref:s}),f):null});s.displayName="Portal",e.s(["Portal",()=>s])},88612,91120,e=>{"use strict";var t=e.i(33856),r=e.i(46499),n=t[" useEffectEvent ".trim().toString()],i=t[" useInsertionEffect ".trim().toString()];function o(e){if("function"==typeof n)return n(e);let o=t.useRef(()=>{throw Error("Cannot call an event handler while rendering.")});return"function"==typeof i?i(()=>{o.current=e}):(0,r.useLayoutEffect)(()=>{o.current=e}),t.useMemo(()=>(...e)=>o.current?.(...e),[])}e.s(["useEffectEvent",()=>o],91120);var s=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function a({prop:e,defaultProp:r,onChange:n=()=>{},caller:i}){let[o,a,u]=function({defaultProp:e,onChange:r}){let[n,i]=t.useState(e),o=t.useRef(n),a=t.useRef(r);return s(()=>{a.current=r},[r]),t.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,i,a]}({defaultProp:r,onChange:n}),c=void 0!==e,l=c?e:o;{let r=t.useRef(void 0!==e);t.useEffect(()=>{let e=r.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=c},[c,i])}return[l,t.useCallback(t=>{if(c){let r="function"==typeof t?t(e):t;r!==e&&u.current?.(r)}else a(t)},[c,e,a,u])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>a],88612)},43027,e=>{"use strict";var t=e.i(33856),r=e.i(46499),n=t[" useId ".trim().toString()]||(()=>void 0),i=0;function o(e){let[o,s]=t.useState(n());return(0,r.useLayoutEffect)(()=>{e||s(e=>e??String(i++))},[e]),e||(o?`radix-${o}`:"")}e.s(["useId",()=>o])},24907,43988,45861,92940,62732,44719,42428,24983,67526,64365,14198,34530,48567,20730,e=>{"use strict";let t,r,n,i,o,s;var a,u,c,l,f,d,h,p,m,g,y,b,w,v,_,x,E,S,A,k,I,T,B,P,O,R,C,M,N,U,L,j,$,F,z,D,q,H,W,G={exports:{}},K={exports:{}};function V(){if(B)return T;B=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};return T=e}let J=(R||(R=1,I||(I=1,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K.exports=d={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&d.rotl(e,8)|0xff00ff00&d.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=d.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(f.charAt(n>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((f.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|f.indexOf(e.charAt(r))>>>6-2*n);return t}}),h=K.exports,p=V().utf8,m=function(){if(O)return P;function e(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}return O=1,P=function(t){var r;return null!=t&&(e(t)||"function"==typeof(r=t).readFloatLE&&"function"==typeof r.slice&&e(r.slice(0,0))||!!t._isBuffer)}}(),g=V().bin,(y=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?g.stringToBytes(e):p.stringToBytes(e):m(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=h.bytesToWords(e),n=8*e.length,i=0x67452301,o=-0x10325477,s=-0x67452302,a=0x10325476,u=0;u<r.length;u++)r[u]=(r[u]<<8|r[u]>>>24)&0xff00ff|(r[u]<<24|r[u]>>>8)&0xff00ff00;r[n>>>5]|=128<<n%32,r[(n+64>>>9<<4)+14]=n;for(var c=y._ff,l=y._gg,f=y._hh,d=y._ii,u=0;u<r.length;u+=16){var b=i,w=o,v=s,_=a;i=c(i,o,s,a,r[u+0],7,-0x28955b88),a=c(a,i,o,s,r[u+1],12,-0x173848aa),s=c(s,a,i,o,r[u+2],17,0x242070db),o=c(o,s,a,i,r[u+3],22,-0x3e423112),i=c(i,o,s,a,r[u+4],7,-0xa83f051),a=c(a,i,o,s,r[u+5],12,0x4787c62a),s=c(s,a,i,o,r[u+6],17,-0x57cfb9ed),o=c(o,s,a,i,r[u+7],22,-0x2b96aff),i=c(i,o,s,a,r[u+8],7,0x698098d8),a=c(a,i,o,s,r[u+9],12,-0x74bb0851),s=c(s,a,i,o,r[u+10],17,-42063),o=c(o,s,a,i,r[u+11],22,-0x76a32842),i=c(i,o,s,a,r[u+12],7,0x6b901122),a=c(a,i,o,s,r[u+13],12,-0x2678e6d),s=c(s,a,i,o,r[u+14],17,-0x5986bc72),o=c(o,s,a,i,r[u+15],22,0x49b40821),i=l(i,o,s,a,r[u+1],5,-0x9e1da9e),a=l(a,i,o,s,r[u+6],9,-0x3fbf4cc0),s=l(s,a,i,o,r[u+11],14,0x265e5a51),o=l(o,s,a,i,r[u+0],20,-0x16493856),i=l(i,o,s,a,r[u+5],5,-0x29d0efa3),a=l(a,i,o,s,r[u+10],9,0x2441453),s=l(s,a,i,o,r[u+15],14,-0x275e197f),o=l(o,s,a,i,r[u+4],20,-0x182c0438),i=l(i,o,s,a,r[u+9],5,0x21e1cde6),a=l(a,i,o,s,r[u+14],9,-0x3cc8f82a),s=l(s,a,i,o,r[u+3],14,-0xb2af279),o=l(o,s,a,i,r[u+8],20,0x455a14ed),i=l(i,o,s,a,r[u+13],5,-0x561c16fb),a=l(a,i,o,s,r[u+2],9,-0x3105c08),s=l(s,a,i,o,r[u+7],14,0x676f02d9),o=l(o,s,a,i,r[u+12],20,-0x72d5b376),i=f(i,o,s,a,r[u+5],4,-378558),a=f(a,i,o,s,r[u+8],11,-0x788e097f),s=f(s,a,i,o,r[u+11],16,0x6d9d6122),o=f(o,s,a,i,r[u+14],23,-0x21ac7f4),i=f(i,o,s,a,r[u+1],4,-0x5b4115bc),a=f(a,i,o,s,r[u+4],11,0x4bdecfa9),s=f(s,a,i,o,r[u+7],16,-0x944b4a0),o=f(o,s,a,i,r[u+10],23,-0x41404390),i=f(i,o,s,a,r[u+13],4,0x289b7ec6),a=f(a,i,o,s,r[u+0],11,-0x155ed806),s=f(s,a,i,o,r[u+3],16,-0x2b10cf7b),o=f(o,s,a,i,r[u+6],23,0x4881d05),i=f(i,o,s,a,r[u+9],4,-0x262b2fc7),a=f(a,i,o,s,r[u+12],11,-0x1924661b),s=f(s,a,i,o,r[u+15],16,0x1fa27cf8),o=f(o,s,a,i,r[u+2],23,-0x3b53a99b),i=d(i,o,s,a,r[u+0],6,-0xbd6ddbc),a=d(a,i,o,s,r[u+7],10,0x432aff97),s=d(s,a,i,o,r[u+14],15,-0x546bdc59),o=d(o,s,a,i,r[u+5],21,-0x36c5fc7),i=d(i,o,s,a,r[u+12],6,0x655b59c3),a=d(a,i,o,s,r[u+3],10,-0x70f3336e),s=d(s,a,i,o,r[u+10],15,-1051523),o=d(o,s,a,i,r[u+1],21,-0x7a7ba22f),i=d(i,o,s,a,r[u+8],6,0x6fa87e4f),a=d(a,i,o,s,r[u+15],10,-0x1d31920),s=d(s,a,i,o,r[u+6],15,-0x5cfebcec),o=d(o,s,a,i,r[u+13],21,0x4e0811a1),i=d(i,o,s,a,r[u+4],6,-0x8ac817e),a=d(a,i,o,s,r[u+11],10,-0x42c50dcb),s=d(s,a,i,o,r[u+2],15,0x2ad7d2bb),o=d(o,s,a,i,r[u+9],21,-0x14792c6f),i=i+b>>>0,o=o+w>>>0,s=s+v>>>0,a=a+_>>>0}return h.endian([i,o,s,a])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},y._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},y._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},y._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},y._blocksize=16,y._digestsize=16,G.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var r=h.wordsToBytes(y(e,t));return t&&t.asBytes?r:t&&t.asString?g.bytesToString(r):h.bytesToHex(r)}),(b=G.exports)&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default"))?b.default:b;var Z=e.i(76396);let Y=null,X=Symbol.for("@coinbase/cdp-analytics"),Q=((t=globalThis)[X]||(t[X]={identifier:"",enabled:!0,isProduction:!1,isUsingMocks:!1,sendEvent:ee,sendActionCallEvent:e=>ee({...e,type:"action_call"}),sendHookCallEvent:e=>ee({...e,type:"hook_call"}),sendComponentCallEvent:e=>ee({...e,type:"component_call"}),versionRegistry:{},registerPackageVersion:(e,t)=>{Q.versionRegistry[e]=t}}),t[X]);async function ee(e){if(!Q.enabled||!Q.identifier)return;let t=Date.now(),r=JSON.stringify([{user_id:Q.identifier,event_type:e.type,platform:et()?"web":"native",timestamp:t,event_properties:{project_name:"cdp-embedded-wallet",framework:(null===Y&&(Y=!function(){try{if(typeof window>"u")return!1;let e=window;return!!e.__REACT_DEVTOOLS_GLOBAL_HOOK__||!!e.React||!!document.querySelector("[data-reactroot], [data-reactid], ._reactRoot, ._reactRootContainer")}catch{return!1}}()?!function(){try{return"u">typeof navigator&&"ReactNative"===navigator.product}catch{return!1}}()?!function(){try{if(typeof window>"u")return"u">typeof Z.default&&Z.default.env&&"__NEXT_PROCESSED_ENV"in Z.default.env;let e=window;return!!(e.__NEXT_DATA__||e.next||document.getElementById("__next"))}catch{return!1}}()?!function(){try{if(typeof window>"u")return!1;let e=window;return!!(e.__VUE__||e.__VUE_DEVTOOLS_GLOBAL_HOOK__||document.querySelector("[data-v-]"))}catch{return!1}}()?"unknown":"vue":"nextjs":"react-native":"react"),Y),isLocalHost:!!et()&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),isUsingMocks:Q.isUsingMocks,package_versions:Q.versionRegistry,...e}}]),n=J(r+t.toString()),i={client:Q.isProduction?"d473b1dcc969105adab157226cd9cf63":"1f8d3e558f493e38a037dbfadb8ba344",e:r,checksum:n};await fetch("https://cca-lite.coinbase.com/amp",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}function et(){return"u">typeof window&&"u">typeof document}e.s(["Analytics",()=>Q],24907);var er={exports:{}},en={};M||(M=1,er.exports=function(){if(C)return en;C=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator,d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,p={};function m(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||d}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,h(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,v={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function x(t,r,n,i,o,s){return{$$typeof:e,type:t,key:r,ref:void 0!==(n=s.ref)?n:null,props:s}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function A(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(){}function I(r,n,i){if(null==r)return r;var o=[],s=0;return function r(n,i,o,s,a){var u,c,d,h=typeof n;("undefined"===h||"boolean"===h)&&(n=null);var p=!1;if(null===n)p=!0;else switch(h){case"bigint":case"string":case"number":p=!0;break;case"object":switch(n.$$typeof){case e:case t:p=!0;break;case l:return r((p=n._init)(n._payload),i,o,s,a)}}if(p)return a=a(n),p=""===s?"."+A(n,0):s,w(a)?(o="",null!=p&&(o=p.replace(S,"$&/")+"/"),r(a,i,o,"",function(e){return e})):null!=a&&(E(a)&&(u=a,c=o+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+p,a=x(u.type,c,void 0,void 0,void 0,u.props)),i.push(a)),1;p=0;var m=""===s?".":s+":";if(w(n))for(var g=0;g<n.length;g++)h=m+A(s=n[g],g),p+=r(s,i,o,h,a);else if("function"==typeof(g=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(n=g.call(n),g=0;!(s=n.next()).done;)h=m+A(s=s.value,g++),p+=r(s,i,o,h,a);else if("object"===h){if("function"==typeof n.then)return r(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),i,o,s,a);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}return p}(r,o,"","",function(e){return n.call(i,e,s++)}),o}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof Z.default&&"function"==typeof Z.default.emit)return void Z.default.emit("uncaughtException",e);console.error(e)};function P(){}return en.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},en.Component=m,en.Fragment=r,en.Profiler=i,en.PureComponent=y,en.StrictMode=n,en.Suspense=u,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,en.__COMPILER_RUNTIME={__proto__:null,c:function(e){return v.H.useMemoCache(e)}},en.cache=function(e){return function(){return e.apply(null,arguments)}},en.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=h({},e.props),i=e.key,o=void 0;if(null!=t)for(s in void 0!==t.ref&&(o=void 0),void 0!==t.key&&(i=""+t.key),t)_.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&("ref"!==s||void 0!==t.ref)&&(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];n.children=a}return x(e.type,i,void 0,void 0,o,n)},en.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},en.createElement=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)_.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return x(e,o,void 0,void 0,null,i)},en.createRef=function(){return{current:null}},en.forwardRef=function(e){return{$$typeof:a,render:e}},en.isValidElement=E,en.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},en.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},en.startTransition=function(e){var t=v.T,r={};v.T=r;try{var n=e(),i=v.S;null!==i&&i(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(P,B)}catch(e){B(e)}finally{v.T=t}},en.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},en.use=function(e){return v.H.use(e)},en.useActionState=function(e,t,r){return v.H.useActionState(e,t,r)},en.useCallback=function(e,t){return v.H.useCallback(e,t)},en.useContext=function(e){return v.H.useContext(e)},en.useDebugValue=function(){},en.useDeferredValue=function(e,t){return v.H.useDeferredValue(e,t)},en.useEffect=function(e,t,r){var n=v.H;if("function"==typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},en.useId=function(){return v.H.useId()},en.useImperativeHandle=function(e,t,r){return v.H.useImperativeHandle(e,t,r)},en.useInsertionEffect=function(e,t){return v.H.useInsertionEffect(e,t)},en.useLayoutEffect=function(e,t){return v.H.useLayoutEffect(e,t)},en.useMemo=function(e,t){return v.H.useMemo(e,t)},en.useOptimistic=function(e,t){return v.H.useOptimistic(e,t)},en.useReducer=function(e,t,r){return v.H.useReducer(e,t,r)},en.useRef=function(e){return v.H.useRef(e)},en.useState=function(e){return v.H.useState(e)},en.useSyncExternalStore=function(e,t,r){return v.H.useSyncExternalStore(e,t,r)},en.useTransition=function(){return v.H.useTransition()},en.version="19.1.2",en}()),er.exports,e.s([],43988);var ei={exports:{}},eo={exports:{}};function es(){if(L)return U;L=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};return U=e}let ea=(F||(F=1,N||(N=1,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eo.exports=v={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&v.rotl(e,8)|0xff00ff00&v.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=v.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(w.charAt(n>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((w.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|w.indexOf(e.charAt(r))>>>6-2*n);return t}}),_=eo.exports,x=es().utf8,E=function(){if($)return j;function e(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}return $=1,j=function(t){var r;return null!=t&&(e(t)||"function"==typeof(r=t).readFloatLE&&"function"==typeof r.slice&&e(r.slice(0,0))||!!t._isBuffer)}}(),S=es().bin,(A=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?S.stringToBytes(e):x.stringToBytes(e):E(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=_.bytesToWords(e),n=8*e.length,i=0x67452301,o=-0x10325477,s=-0x67452302,a=0x10325476,u=0;u<r.length;u++)r[u]=(r[u]<<8|r[u]>>>24)&0xff00ff|(r[u]<<24|r[u]>>>8)&0xff00ff00;r[n>>>5]|=128<<n%32,r[(n+64>>>9<<4)+14]=n;for(var c=A._ff,l=A._gg,f=A._hh,d=A._ii,u=0;u<r.length;u+=16){var h=i,p=o,m=s,g=a;i=c(i,o,s,a,r[u+0],7,-0x28955b88),a=c(a,i,o,s,r[u+1],12,-0x173848aa),s=c(s,a,i,o,r[u+2],17,0x242070db),o=c(o,s,a,i,r[u+3],22,-0x3e423112),i=c(i,o,s,a,r[u+4],7,-0xa83f051),a=c(a,i,o,s,r[u+5],12,0x4787c62a),s=c(s,a,i,o,r[u+6],17,-0x57cfb9ed),o=c(o,s,a,i,r[u+7],22,-0x2b96aff),i=c(i,o,s,a,r[u+8],7,0x698098d8),a=c(a,i,o,s,r[u+9],12,-0x74bb0851),s=c(s,a,i,o,r[u+10],17,-42063),o=c(o,s,a,i,r[u+11],22,-0x76a32842),i=c(i,o,s,a,r[u+12],7,0x6b901122),a=c(a,i,o,s,r[u+13],12,-0x2678e6d),s=c(s,a,i,o,r[u+14],17,-0x5986bc72),o=c(o,s,a,i,r[u+15],22,0x49b40821),i=l(i,o,s,a,r[u+1],5,-0x9e1da9e),a=l(a,i,o,s,r[u+6],9,-0x3fbf4cc0),s=l(s,a,i,o,r[u+11],14,0x265e5a51),o=l(o,s,a,i,r[u+0],20,-0x16493856),i=l(i,o,s,a,r[u+5],5,-0x29d0efa3),a=l(a,i,o,s,r[u+10],9,0x2441453),s=l(s,a,i,o,r[u+15],14,-0x275e197f),o=l(o,s,a,i,r[u+4],20,-0x182c0438),i=l(i,o,s,a,r[u+9],5,0x21e1cde6),a=l(a,i,o,s,r[u+14],9,-0x3cc8f82a),s=l(s,a,i,o,r[u+3],14,-0xb2af279),o=l(o,s,a,i,r[u+8],20,0x455a14ed),i=l(i,o,s,a,r[u+13],5,-0x561c16fb),a=l(a,i,o,s,r[u+2],9,-0x3105c08),s=l(s,a,i,o,r[u+7],14,0x676f02d9),o=l(o,s,a,i,r[u+12],20,-0x72d5b376),i=f(i,o,s,a,r[u+5],4,-378558),a=f(a,i,o,s,r[u+8],11,-0x788e097f),s=f(s,a,i,o,r[u+11],16,0x6d9d6122),o=f(o,s,a,i,r[u+14],23,-0x21ac7f4),i=f(i,o,s,a,r[u+1],4,-0x5b4115bc),a=f(a,i,o,s,r[u+4],11,0x4bdecfa9),s=f(s,a,i,o,r[u+7],16,-0x944b4a0),o=f(o,s,a,i,r[u+10],23,-0x41404390),i=f(i,o,s,a,r[u+13],4,0x289b7ec6),a=f(a,i,o,s,r[u+0],11,-0x155ed806),s=f(s,a,i,o,r[u+3],16,-0x2b10cf7b),o=f(o,s,a,i,r[u+6],23,0x4881d05),i=f(i,o,s,a,r[u+9],4,-0x262b2fc7),a=f(a,i,o,s,r[u+12],11,-0x1924661b),s=f(s,a,i,o,r[u+15],16,0x1fa27cf8),o=f(o,s,a,i,r[u+2],23,-0x3b53a99b),i=d(i,o,s,a,r[u+0],6,-0xbd6ddbc),a=d(a,i,o,s,r[u+7],10,0x432aff97),s=d(s,a,i,o,r[u+14],15,-0x546bdc59),o=d(o,s,a,i,r[u+5],21,-0x36c5fc7),i=d(i,o,s,a,r[u+12],6,0x655b59c3),a=d(a,i,o,s,r[u+3],10,-0x70f3336e),s=d(s,a,i,o,r[u+10],15,-1051523),o=d(o,s,a,i,r[u+1],21,-0x7a7ba22f),i=d(i,o,s,a,r[u+8],6,0x6fa87e4f),a=d(a,i,o,s,r[u+15],10,-0x1d31920),s=d(s,a,i,o,r[u+6],15,-0x5cfebcec),o=d(o,s,a,i,r[u+13],21,0x4e0811a1),i=d(i,o,s,a,r[u+4],6,-0x8ac817e),a=d(a,i,o,s,r[u+11],10,-0x42c50dcb),s=d(s,a,i,o,r[u+2],15,0x2ad7d2bb),o=d(o,s,a,i,r[u+9],21,-0x14792c6f),i=i+h>>>0,o=o+p>>>0,s=s+m>>>0,a=a+g>>>0}return _.endian([i,o,s,a])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},A._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},A._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},A._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},A._blocksize=16,A._digestsize=16,ei.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var r=_.wordsToBytes(A(e,t));return t&&t.asBytes?r:t&&t.asString?S.bytesToString(r):_.bytesToHex(r)}),(k=ei.exports)&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default"))?k.default:k,eu=null,ec=Symbol.for("@coinbase/cdp-analytics"),el=((r=globalThis)[ec]||(r[ec]={identifier:"",enabled:!0,isProduction:!1,isUsingMocks:!1,sendEvent:ef,sendActionCallEvent:e=>ef({...e,type:"action_call"}),sendHookCallEvent:e=>ef({...e,type:"hook_call"}),sendComponentCallEvent:e=>ef({...e,type:"component_call"}),versionRegistry:{},registerPackageVersion:(e,t)=>{el.versionRegistry[e]=t}}),r[ec]);async function ef(e){if(!el.enabled||!el.identifier)return;let t=Date.now(),r=JSON.stringify([{user_id:el.identifier,event_type:e.type,platform:ed()?"web":"native",timestamp:t,event_properties:{project_name:"cdp-embedded-wallet",framework:(null===eu&&(eu=!function(){try{if(typeof window>"u")return!1;let e=window;return!!e.__REACT_DEVTOOLS_GLOBAL_HOOK__||!!e.React||!!document.querySelector("[data-reactroot], [data-reactid], ._reactRoot, ._reactRootContainer")}catch{return!1}}()?!function(){try{return"u">typeof navigator&&"ReactNative"===navigator.product}catch{return!1}}()?!function(){try{if(typeof window>"u")return"u">typeof Z.default&&Z.default.env&&"__NEXT_PROCESSED_ENV"in Z.default.env;let e=window;return!!(e.__NEXT_DATA__||e.next||document.getElementById("__next"))}catch{return!1}}()?!function(){try{if(typeof window>"u")return!1;let e=window;return!!(e.__VUE__||e.__VUE_DEVTOOLS_GLOBAL_HOOK__||document.querySelector("[data-v-]"))}catch{return!1}}()?"unknown":"vue":"nextjs":"react-native":"react"),eu),isLocalHost:!!ed()&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),isUsingMocks:el.isUsingMocks,package_versions:el.versionRegistry,...e}}]),n=ea(r+t.toString()),i={client:el.isProduction?"d473b1dcc969105adab157226cd9cf63":"1f8d3e558f493e38a037dbfadb8ba344",e:r,checksum:n};await fetch("https://cca-lite.coinbase.com/amp",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}function ed(){return"u">typeof window&&"u">typeof document}var eh={exports:{}},ep={};function em(e,t){return function(){return e.apply(t,arguments)}}D||(D=1,eh.exports=function(){if(z)return ep;z=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator,d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,p={};function m(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||d}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,h(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,v={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function x(t,r,n,i,o,s){return{$$typeof:e,type:t,key:r,ref:void 0!==(n=s.ref)?n:null,props:s}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function A(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(){}function I(r,n,i){if(null==r)return r;var o=[],s=0;return function r(n,i,o,s,a){var u,c,d,h=typeof n;("undefined"===h||"boolean"===h)&&(n=null);var p=!1;if(null===n)p=!0;else switch(h){case"bigint":case"string":case"number":p=!0;break;case"object":switch(n.$$typeof){case e:case t:p=!0;break;case l:return r((p=n._init)(n._payload),i,o,s,a)}}if(p)return a=a(n),p=""===s?"."+A(n,0):s,w(a)?(o="",null!=p&&(o=p.replace(S,"$&/")+"/"),r(a,i,o,"",function(e){return e})):null!=a&&(E(a)&&(u=a,c=o+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+p,a=x(u.type,c,void 0,void 0,void 0,u.props)),i.push(a)),1;p=0;var m=""===s?".":s+":";if(w(n))for(var g=0;g<n.length;g++)h=m+A(s=n[g],g),p+=r(s,i,o,h,a);else if("function"==typeof(g=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(n=g.call(n),g=0;!(s=n.next()).done;)h=m+A(s=s.value,g++),p+=r(s,i,o,h,a);else if("object"===h){if("function"==typeof n.then)return r(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),i,o,s,a);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}return p}(r,o,"","",function(e){return n.call(i,e,s++)}),o}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof Z.default&&"function"==typeof Z.default.emit)return void Z.default.emit("uncaughtException",e);console.error(e)};function P(){}return ep.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},ep.Component=m,ep.Fragment=r,ep.Profiler=i,ep.PureComponent=y,ep.StrictMode=n,ep.Suspense=u,ep.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,ep.__COMPILER_RUNTIME={__proto__:null,c:function(e){return v.H.useMemoCache(e)}},ep.cache=function(e){return function(){return e.apply(null,arguments)}},ep.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=h({},e.props),i=e.key,o=void 0;if(null!=t)for(s in void 0!==t.ref&&(o=void 0),void 0!==t.key&&(i=""+t.key),t)_.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&("ref"!==s||void 0!==t.ref)&&(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];n.children=a}return x(e.type,i,void 0,void 0,o,n)},ep.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},ep.createElement=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)_.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return x(e,o,void 0,void 0,null,i)},ep.createRef=function(){return{current:null}},ep.forwardRef=function(e){return{$$typeof:a,render:e}},ep.isValidElement=E,ep.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},ep.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},ep.startTransition=function(e){var t=v.T,r={};v.T=r;try{var n=e(),i=v.S;null!==i&&i(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(P,B)}catch(e){B(e)}finally{v.T=t}},ep.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},ep.use=function(e){return v.H.use(e)},ep.useActionState=function(e,t,r){return v.H.useActionState(e,t,r)},ep.useCallback=function(e,t){return v.H.useCallback(e,t)},ep.useContext=function(e){return v.H.useContext(e)},ep.useDebugValue=function(){},ep.useDeferredValue=function(e,t){return v.H.useDeferredValue(e,t)},ep.useEffect=function(e,t,r){var n=v.H;if("function"==typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},ep.useId=function(){return v.H.useId()},ep.useImperativeHandle=function(e,t,r){return v.H.useImperativeHandle(e,t,r)},ep.useInsertionEffect=function(e,t){return v.H.useInsertionEffect(e,t)},ep.useLayoutEffect=function(e,t){return v.H.useLayoutEffect(e,t)},ep.useMemo=function(e,t){return v.H.useMemo(e,t)},ep.useOptimistic=function(e,t){return v.H.useOptimistic(e,t)},ep.useReducer=function(e,t,r){return v.H.useReducer(e,t,r)},ep.useRef=function(e){return v.H.useRef(e)},ep.useState=function(e){return v.H.useState(e)},ep.useSyncExternalStore=function(e,t,r){return v.H.useSyncExternalStore(e,t,r)},ep.useTransition=function(){return v.H.useTransition()},ep.version="19.1.2",ep}()),eh.exports;let{toString:eg}=Object.prototype,{getPrototypeOf:ey}=Object,{iterator:eb,toStringTag:ew}=Symbol,ev=(n=Object.create(null),e=>{let t=eg.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),e_=e=>(e=e.toLowerCase(),t=>ev(t)===e),ex=e=>t=>typeof t===e,{isArray:eE}=Array,eS=ex("undefined");function eA(e){return null!==e&&!eS(e)&&null!==e.constructor&&!eS(e.constructor)&&eT(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let ek=e_("ArrayBuffer"),eI=ex("string"),eT=ex("function"),eB=ex("number"),eP=e=>null!==e&&"object"==typeof e,eO=e=>{if("object"!==ev(e))return!1;let t=ey(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ew in e)&&!(eb in e)},eR=e_("Date"),eC=e_("File"),eM=e_("Blob"),eN=e_("FileList"),eU=e_("URLSearchParams"),[eL,ej,e$,eF]=["ReadableStream","Request","Response","Headers"].map(e_);function ez(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e)if("object"!=typeof e&&(e=[e]),eE(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;if(eA(e))return;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;for(n=0;n<s;n++)i=o[n],t.call(null,e[i],i,e)}}function eD(e,t){let r;if(eA(e))return null;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let eq="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,eH=e=>!eS(e)&&e!==eq,eW=(i="undefined"!=typeof Uint8Array&&ey(Uint8Array),e=>i&&e instanceof i),eG=e_("HTMLFormElement"),eK=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),eV=e_("RegExp"),eJ=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};ez(r,(r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)}),Object.defineProperties(e,n)},eZ=e_("AsyncFunction"),eY=(a="function"==typeof setImmediate,u=eT(eq.postMessage),a?setImmediate:u?(c=`axios@${Math.random()}`,l=[],eq.addEventListener("message",({source:e,data:t})=>{e===eq&&t===c&&l.length&&l.shift()()},!1),e=>{l.push(e),eq.postMessage(c,"*")}):e=>setTimeout(e)),eX="undefined"!=typeof queueMicrotask?queueMicrotask.bind(eq):void 0!==Z.default&&Z.default.nextTick||eY,eQ={isArray:eE,isArrayBuffer:ek,isBuffer:eA,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||eT(e.append)&&("formdata"===(t=ev(e))||"object"===t&&eT(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ek(e.buffer)},isString:eI,isNumber:eB,isBoolean:e=>!0===e||!1===e,isObject:eP,isPlainObject:eO,isEmptyObject:e=>{if(!eP(e)||eA(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:eL,isRequest:ej,isResponse:e$,isHeaders:eF,isUndefined:eS,isDate:eR,isFile:eC,isBlob:eM,isRegExp:eV,isFunction:eT,isStream:e=>eP(e)&&eT(e.pipe),isURLSearchParams:eU,isTypedArray:eW,isFileList:eN,forEach:ez,merge:function e(){let{caseless:t,skipUndefined:r}=eH(this)&&this||{},n={},i=(i,o)=>{let s=t&&eD(n,o)||o;eO(n[s])&&eO(i)?n[s]=e(n[s],i):eO(i)?n[s]=e({},i):eE(i)?n[s]=i.slice():r&&eS(i)||(n[s]=i)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ez(arguments[e],i);return n},extend:(e,t,r,{allOwnKeys:n}={})=>(ez(t,(t,n)=>{r&&eT(t)?e[n]=em(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s,a={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)s=i[o],(!n||n(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=!1!==r&&ey(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype)return t},kindOf:ev,kindOfTest:e_,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(eE(e))return e;let t=e.length;if(!eB(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r,n=(e&&e[eb]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r,n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:eG,hasOwnProperty:eK,hasOwnProp:eK,reduceDescriptors:eJ,freezeMethods:e=>{eJ(e,(t,r)=>{if(eT(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(eT(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(eE(e)?e:String(e).split(t)).forEach(e=>{r[e]=!0}),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:eD,global:eq,isContextDefined:eH,isSpecCompliantForm:function(e){return!!(e&&eT(e.append)&&"FormData"===e[ew]&&e[eb])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(eP(e)){if(t.indexOf(e)>=0)return;if(eA(e))return e;if(!("toJSON"in e)){t[n]=e;let i=eE(e)?[]:{};return ez(e,(e,t)=>{let o=r(e,n+1);eS(o)||(i[t]=o)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:eZ,isThenable:e=>e&&(eP(e)||eT(e))&&eT(e.then)&&eT(e.catch),setImmediate:eY,asap:eX,isIterable:e=>null!=e&&eT(e[eb])};var e0=e.i(90383);function e1(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}eQ.inherits(e1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eQ.toJSONObject(this.config),code:this.code,status:this.status}}});let e2=e1.prototype,e6={};function e5(e){return eQ.isPlainObject(e)||eQ.isArray(e)}function e3(e){return eQ.endsWith(e,"[]")?e.slice(0,-2):e}function e8(e,t,r){return e?e.concat(t).map(function(e,t){return e=e3(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e6[e]={value:e}}),Object.defineProperties(e1,e6),Object.defineProperty(e2,"isAxiosError",{value:!0}),e1.from=(e,t,r,n,i,o)=>{let s=Object.create(e2);eQ.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);let a=e&&e.message?e.message:"Error",u=null==t&&e?e.code:t;return e1.call(s,a,u,r,n,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};let e4=eQ.toFlatObject(eQ,{},null,function(e){return/^is[A-Z]/.test(e)}),e9=function(e,t,r){if(!eQ.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=eQ.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!eQ.isUndefined(t[e])})).metaTokens,i=r.visitor||c,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&eQ.isSpecCompliantForm(t);if(!eQ.isFunction(i))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(eQ.isDate(e))return e.toISOString();if(eQ.isBoolean(e))return e.toString();if(!a&&eQ.isBlob(e))throw new e1("Blob is not supported. Use a Buffer instead.");return eQ.isArrayBuffer(e)||eQ.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):e0.Buffer.from(e):e}function c(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(eQ.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var c;if(eQ.isArray(e)&&(c=e,eQ.isArray(c)&&!c.some(e5))||(eQ.isFileList(e)||eQ.endsWith(r,"[]"))&&(a=eQ.toArray(e)))return r=e3(r),a.forEach(function(e,n){eQ.isUndefined(e)||null===e||t.append(!0===s?e8([r],n,o):null===s?r:r+"[]",u(e))}),!1}return!!e5(e)||(t.append(e8(i,r,o),u(e)),!1)}let l=[],f=Object.assign(e4,{defaultVisitor:c,convertValue:u,isVisitable:e5});if(!eQ.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!eQ.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),eQ.forEach(r,function(r,o){!0===(!(eQ.isUndefined(r)||null===r)&&i.call(t,r,eQ.isString(o)?o.trim():o,n,f))&&e(r,n?n.concat(o):[o])}),l.pop()}}(e),t};function e7(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&e9(e,this,t)}let tt=te.prototype;function tr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tn(e,t,r){let n;if(!t)return e;let i=r&&r.encode||tr;eQ.isFunction(r)&&(r={serialize:r});let o=r&&r.serialize;if(n=o?o(t,r):eQ.isURLSearchParams(t)?t.toString():new te(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}tt.append=function(e,t){this._pairs.push([e,t])},tt.toString=function(e){let t=e?function(t){return e.call(this,t,e7)}:e7;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let ti=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eQ.forEach(this.handlers,function(t){null!==t&&e(t)})}},to={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ts="undefined"!=typeof URLSearchParams?URLSearchParams:te,ta="undefined"!=typeof FormData?FormData:null,tu="undefined"!=typeof Blob?Blob:null,tc="undefined"!=typeof window&&"undefined"!=typeof document,tl="object"==typeof navigator&&navigator||void 0,tf=tc&&(!tl||0>["ReactNative","NativeScript","NS"].indexOf(tl.product)),td="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,th=tc&&window.location.href||"http://localhost";e.s(["hasBrowserEnv",()=>tc,"hasStandardBrowserEnv",()=>tf,"hasStandardBrowserWebWorkerEnv",()=>td,"navigator",()=>tl,"origin",()=>th],11305);let tp={...e.i(11305),isBrowser:!0,classes:{URLSearchParams:ts,FormData:ta,Blob:tu},protocols:["http","https","file","blob","url","data"]},tm=function(e){if(eQ.isFormData(e)&&eQ.isFunction(e.entries)){let t={};return eQ.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;let s=Number.isFinite(+o),a=i>=t.length;return(o=!o&&eQ.isArray(n)?n.length:o,a)?eQ.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r:(n[o]&&eQ.isObject(n[o])||(n[o]=[]),e(t,r,n[o],i)&&eQ.isArray(n[o])&&(n[o]=function(e){let t,r,n={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)n[r=i[t]]=e[r];return n}(n[o]))),!s}(eQ.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null},tg={transitional:to,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=eQ.isObject(e);if(o&&eQ.isHTMLForm(e)&&(e=new FormData(e)),eQ.isFormData(e))return i?JSON.stringify(tm(e)):e;if(eQ.isArrayBuffer(e)||eQ.isBuffer(e)||eQ.isStream(e)||eQ.isFile(e)||eQ.isBlob(e)||eQ.isReadableStream(e))return e;if(eQ.isArrayBufferView(e))return e.buffer;if(eQ.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,a;return(s=e,a=this.formSerializer,e9(s,new tp.classes.URLSearchParams,{visitor:function(e,t,r,n){return tp.isNode&&eQ.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...a})).toString()}if((r=eQ.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return e9(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(o||i){t.setContentType("application/json",!1);var u=e;if(eQ.isString(u))try{return(0,JSON.parse)(u),eQ.trim(u)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(u)}return e}],transformResponse:[function(e){let t=this.transitional||tg.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(eQ.isResponse(e)||eQ.isReadableStream(e))return e;if(e&&eQ.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e,this.parseReviver)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw e1.from(e,e1.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tp.classes.FormData,Blob:tp.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eQ.forEach(["delete","get","head","post","put","patch"],e=>{tg.headers[e]={}});let ty=eQ.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=Symbol("internals");function tw(e){return e&&String(e).trim().toLowerCase()}function tv(e){return!1===e||null==e?e:eQ.isArray(e)?e.map(tv):String(e)}function t_(e,t,r,n,i){if(eQ.isFunction(n))return n.call(this,t,r);if(i&&(t=r),eQ.isString(t)){if(eQ.isString(n))return -1!==t.indexOf(n);if(eQ.isRegExp(n))return n.test(t)}}class tx{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=tw(t);if(!i)throw Error("header name must be a non-empty string");let o=eQ.findKey(n,i);o&&void 0!==n[o]&&!0!==r&&(void 0!==r||!1===n[o])||(n[o||t]=tv(e))}let o=(e,t)=>eQ.forEach(e,(e,r)=>i(e,r,t));if(eQ.isPlainObject(e)||e instanceof this.constructor)o(e,t);else{let n;if(eQ.isString(e)&&(e=e.trim())&&(n=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim()))){var s;let r,n,i,a;o((a={},(s=e)&&s.split("\n").forEach(function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||a[r]&&ty[r]||("set-cookie"===r?a[r]?a[r].push(n):a[r]=[n]:a[r]=a[r]?a[r]+", "+n:n)}),a),t)}else if(eQ.isObject(e)&&eQ.isIterable(e)){let r={},n,i;for(let t of e){if(!eQ.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?eQ.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&i(t,e,r)}return this}get(e,t){if(e=tw(e)){let r=eQ.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t){let t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}if(eQ.isFunction(t))return t.call(this,e,r);if(eQ.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tw(e)){let r=eQ.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||t_(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=tw(e)){let i=eQ.findKey(r,e);i&&(!t||t_(r,r[i],i,t))&&(delete r[i],n=!0)}}return eQ.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||t_(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return eQ.forEach(this,(n,i)=>{let o=eQ.findKey(r,i);if(o){t[o]=tv(n),delete t[i];return}let s=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();s!==i&&delete t[i],t[s]=tv(n),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return eQ.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&eQ.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[tb]=this[tb]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=tw(e);if(!t[n]){let i;i=eQ.toCamelCase(" "+e),["get","set","has"].forEach(t=>{Object.defineProperty(r,t+i,{value:function(r,n,i){return this[t].call(this,e,r,n,i)},configurable:!0})}),t[n]=!0}}return eQ.isArray(e)?e.forEach(n):n(e),this}}function tE(e,t){let r=this||tg,n=t||r,i=tx.from(n.headers),o=n.data;return eQ.forEach(e,function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function tS(e){return!!(e&&e.__CANCEL__)}function tA(e,t,r){e1.call(this,null==e?"canceled":e,e1.ERR_CANCELED,t,r),this.name="CanceledError"}function tk(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new e1("Request failed with status code "+r.status,[e1.ERR_BAD_REQUEST,e1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}tx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eQ.reduceDescriptors(tx.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),eQ.freezeMethods(tx),eQ.inherits(tA,e1,{__CANCEL__:!0});let tI=function(e,t){let r,n=Array(e=e||10),i=Array(e),o=0,s=0;return t=void 0!==t?t:1e3,function(a){let u=Date.now(),c=i[s];r||(r=u),n[o]=a,i[o]=u;let l=s,f=0;for(;l!==o;)f+=n[l++],l%=e;if((o=(o+1)%e)===s&&(s=(s+1)%e),u-r<t)return;let d=c&&u-c;return d?Math.round(1e3*f/d):void 0}},tT=function(e,t){let r,n,i=0,o=1e3/t,s=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{let t=Date.now(),a=t-i;a>=o?s(e,t):(r=e,n||(n=setTimeout(()=>{n=null,s(r)},o-a)))},()=>r&&s(r)]},tB=(e,t,r=3)=>{let n=0,i=tI(50,250);return tT(r=>{let o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,u=i(a);n=o,e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},tP=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tO=e=>(...t)=>eQ.asap(()=>e(...t)),tR=tp.hasStandardBrowserEnv?(o=new URL(tp.origin),s=tp.navigator&&/(msie|trident)/i.test(tp.navigator.userAgent),e=>(e=new URL(e,tp.origin),o.protocol===e.protocol&&o.host===e.host&&(s||o.port===e.port))):()=>!0,tC=tp.hasStandardBrowserEnv?{write(e,t,r,n,i,o,s){if("undefined"==typeof document)return;let a=[`${e}=${encodeURIComponent(t)}`];eQ.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),eQ.isString(n)&&a.push(`path=${n}`),eQ.isString(i)&&a.push(`domain=${i}`),!0===o&&a.push("secure"),eQ.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if("undefined"==typeof document)return null;let t=document.cookie.match(RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function tM(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||!1==r)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let tN=e=>e instanceof tx?{...e}:e;function tU(e,t){t=t||{};let r={};function n(e,t,r,n){return eQ.isPlainObject(e)&&eQ.isPlainObject(t)?eQ.merge.call({caseless:n},e,t):eQ.isPlainObject(t)?eQ.merge({},t):eQ.isArray(t)?t.slice():t}function i(e,t,r,i){return eQ.isUndefined(t)?eQ.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function o(e,t){if(!eQ.isUndefined(t))return n(void 0,t)}function s(e,t){return eQ.isUndefined(t)?eQ.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}let u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,r)=>i(tN(e),tN(t),r,!0)};return eQ.forEach(Object.keys({...e,...t}),function(n){let o=u[n]||i,s=o(e[n],t[n],n);eQ.isUndefined(s)&&o!==a||(r[n]=s)}),r}let tL=e=>{let t=tU({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=tx.from(s),t.url=tn(tM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),eQ.isFormData(r)){if(tp.hasStandardBrowserEnv||tp.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(eQ.isFunction(r.getHeaders)){let e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,r])=>{t.includes(e.toLowerCase())&&s.set(e,r)})}}if(tp.hasStandardBrowserEnv&&(n&&eQ.isFunction(n)&&(n=n(t)),n||!1!==n&&tR(t.url))){let e=i&&o&&tC.read(o);e&&s.set(i,e)}return t},tj="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){var n;let i,o,s,a,u,c,l=tL(e),f=l.data,d=tx.from(l.headers).normalize(),{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l;function g(){a&&a(),u&&u(),l.cancelToken&&l.cancelToken.unsubscribe(i),l.signal&&l.signal.removeEventListener("abort",i)}let y=new XMLHttpRequest;function b(){if(!y)return;let n=tx.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());tk(function(e){t(e),g()},function(e){r(e),g()},{data:h&&"text"!==h&&"json"!==h?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y}),y=null}y.open(l.method.toUpperCase(),l.url,!0),y.timeout=l.timeout,"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||4!==y.readyState||(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(b)},y.onabort=function(){y&&(r(new e1("Request aborted",e1.ECONNABORTED,e,y)),y=null)},y.onerror=function(t){let n=new e1(t&&t.message?t.message:"Network Error",e1.ERR_NETWORK,e,y);n.event=t||null,r(n),y=null},y.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",n=l.transitional||to;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),r(new e1(t,n.clarifyTimeoutError?e1.ETIMEDOUT:e1.ECONNABORTED,e,y)),y=null},void 0===f&&d.setContentType(null),"setRequestHeader"in y&&eQ.forEach(d.toJSON(),function(e,t){y.setRequestHeader(t,e)}),eQ.isUndefined(l.withCredentials)||(y.withCredentials=!!l.withCredentials),h&&"json"!==h&&(y.responseType=l.responseType),m&&([s,u]=tB(m,!0),y.addEventListener("progress",s)),p&&y.upload&&([o,a]=tB(p),y.upload.addEventListener("progress",o),y.upload.addEventListener("loadend",a)),(l.cancelToken||l.signal)&&(i=t=>{y&&(r(!t||t.type?new tA(null,e,y):t),y.abort(),y=null)},l.cancelToken&&l.cancelToken.subscribe(i),l.signal&&(l.signal.aborted?i():l.signal.addEventListener("abort",i)));let w=(n=l.url,(c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n))&&c[1]||"");w&&-1===tp.protocols.indexOf(w)?r(new e1("Unsupported protocol "+w+":",e1.ERR_BAD_REQUEST,e)):y.send(f||null)})},t$=function*(e,t){let r,n=e.byteLength;if(!t||n<t)return void(yield e);let i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},tF=async function*(e,t){for await(let r of tz(e))yield*t$(r,t)},tz=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},tD=(e,t,r,n)=>{let i,o=tF(e,t),s=0,a=e=>{!i&&(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await o.next();if(t){a(),e.close();return}let i=n.byteLength;if(r){let e=s+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},{isFunction:tq}=eQ,tH=(({Request:e,Response:t})=>({Request:e,Response:t}))(eQ.global),{ReadableStream:tW,TextEncoder:tG}=eQ.global,tK=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},tV=e=>{let t,{fetch:r,Request:n,Response:i}=e=eQ.merge.call({skipUndefined:!0},tH,e),o=r?tq(r):"function"==typeof fetch,s=tq(n),a=tq(i);if(!o)return!1;let u=o&&tq(tW),c=o&&("function"==typeof tG?(t=new tG,e=>t.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer())),l=s&&u&&tK(()=>{let e=!1,t=new n(tp.origin,{body:new tW,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f=a&&u&&tK(()=>eQ.isReadableStream(new i("").body)),d={stream:f&&(e=>e.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{d[e]||(d[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new e1(`Response type '${e}' is not supported`,e1.ERR_NOT_SUPPORT,r)})});let h=async e=>{if(null==e)return 0;if(eQ.isBlob(e))return e.size;if(eQ.isSpecCompliantForm(e)){let t=new n(tp.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return eQ.isArrayBufferView(e)||eQ.isArrayBuffer(e)?e.byteLength:(eQ.isURLSearchParams(e)&&(e+=""),eQ.isString(e))?(await c(e)).byteLength:void 0},p=async(e,t)=>{let r=eQ.toFiniteNumber(e.getContentLength());return null==r?h(t):r};return async e=>{let t,{url:o,method:a,data:u,signal:c,cancelToken:h,timeout:m,onDownloadProgress:g,onUploadProgress:y,responseType:b,headers:w,withCredentials:v="same-origin",fetchOptions:_}=tL(e),x=r||fetch;b=b?(b+"").toLowerCase():"text";let E=((e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,i=function(e){if(!r){r=!0,s();let t=e instanceof Error?e:this.reason;n.abort(t instanceof e1?t:new tA(t instanceof Error?t.message:t))}},o=t&&setTimeout(()=>{o=null,i(new e1(`timeout ${t} of ms exceeded`,e1.ETIMEDOUT))},t),s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:a}=n;return a.unsubscribe=()=>eQ.asap(s),a}})([c,h&&h.toAbortSignal()],m),S=null,A=E&&E.unsubscribe&&(()=>{E.unsubscribe()});try{if(y&&l&&"get"!==a&&"head"!==a&&0!==(t=await p(w,u))){let e,r=new n(o,{method:"POST",body:u,duplex:"half"});if(eQ.isFormData(u)&&(e=r.headers.get("content-type"))&&w.setContentType(e),r.body){let[e,n]=tP(t,tB(tO(y)));u=tD(r.body,65536,e,n)}}eQ.isString(v)||(v=v?"include":"omit");let r=s&&"credentials"in n.prototype,c={..._,signal:E,method:a.toUpperCase(),headers:w.normalize().toJSON(),body:u,duplex:"half",credentials:r?v:void 0};S=s&&new n(o,c);let h=await (s?x(S,_):x(o,c)),m=f&&("stream"===b||"response"===b);if(f&&(g||m&&A)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});let t=eQ.toFiniteNumber(h.headers.get("content-length")),[r,n]=g&&tP(t,tB(tO(g),!0))||[];h=new i(tD(h.body,65536,r,()=>{n&&n(),A&&A()}),e)}b=b||"text";let k=await d[eQ.findKey(d,b)||"text"](h,e);return!m&&A&&A(),await new Promise((t,r)=>{tk(t,r,{data:k,headers:tx.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:S})})}catch(t){if(A&&A(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new e1("Network Error",e1.ERR_NETWORK,e,S),{cause:t.cause||t});throw e1.from(t,t&&t.code,e,S)}}},tJ=new Map,tZ=e=>{let t=e&&e.env||{},{fetch:r,Request:n,Response:i}=t,o=[n,i,r],s=o.length,a,u,c=tJ;for(;s--;)a=o[s],void 0===(u=c.get(a))&&c.set(a,u=s?new Map:tV(t)),c=u;return u};tZ();let tY={http:null,xhr:tj,fetch:{get:tZ}};eQ.forEach(tY,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let tX=e=>`- ${e}`,tQ=e=>eQ.isFunction(e)||null===e||!1===e,t0=function(e,t){let r,n,{length:i}=e=eQ.isArray(e)?e:[e],o={};for(let s=0;s<i;s++){let i;if(n=r=e[s],!tQ(r)&&void 0===(n=tY[(i=String(r)).toLowerCase()]))throw new e1(`Unknown adapter '${i}'`);if(n&&(eQ.isFunction(n)||(n=n.get(t))))break;o[i||"#"+s]=n}if(!n){let e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new e1("There is no suitable adapter to dispatch the request "+(i?e.length>1?"since :\n"+e.map(tX).join("\n"):" "+tX(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function t1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tA(null,e)}function t2(e){return t1(e),e.headers=tx.from(e.headers),e.data=tE.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),t0(e.adapter||tg.adapter,e)(e).then(function(t){return t1(e),t.data=tE.call(e,e.transformResponse,t),t.headers=tx.from(t.headers),t},function(t){return!tS(t)&&(t1(e),t&&t.response&&(t.response.data=tE.call(e,e.transformResponse,t.response),t.response.headers=tx.from(t.response.headers))),Promise.reject(t)})}let t6="1.13.2",t5={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{t5[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let t3={};t5.transitional=function(e,t,r){function n(e,t){return"[Axios v"+t6+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new e1(n(i," has been removed"+(t?" in "+t:"")),e1.ERR_DEPRECATED);return t&&!t3[i]&&(t3[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},t5.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};let t8=function(e,t,r){if("object"!=typeof e)throw new e1("options must be an object",e1.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let o=n[i],s=t[o];if(s){let t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new e1("option "+o+" must be "+r,e1.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new e1("Unknown option "+o,e1.ERR_BAD_OPTION)}};class t4{constructor(e){this.defaults=e||{},this.interceptors={request:new ti,response:new ti}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:o,headers:s}=t=tU(this.defaults,t);void 0!==i&&t8(i,{silentJSONParsing:t5.transitional(t5.boolean),forcedJSONParsing:t5.transitional(t5.boolean),clarifyTimeoutError:t5.transitional(t5.boolean)},!1),null!=o&&(eQ.isFunction(o)?t.paramsSerializer={serialize:o}:t8(o,{encode:t5.function,serialize:t5.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),t8(t,{baseUrl:t5.spelling("baseURL"),withXsrfToken:t5.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&eQ.merge(s.common,s[t.method]);s&&eQ.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=tx.concat(a,s);let u=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let l=[];this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let f=0;if(!c){let e=[t2.bind(this),void 0];for(e.unshift(...u),e.push(...l),n=e.length,r=Promise.resolve(t);f<n;)r=r.then(e[f++],e[f++]);return r}n=u.length;let d=t;for(;f<n;){let e=u[f++],t=u[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{r=t2.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,n=l.length;f<n;)r=r.then(l[f++],l[f++]);return r}getUri(e){return tn(tM((e=tU(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}eQ.forEach(["delete","get","head","options"],function(e){t4.prototype[e]=function(t,r){return this.request(tU(r||{},{method:e,url:t,data:(r||{}).data}))}}),eQ.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(tU(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}t4.prototype[e]=t(),t4.prototype[e+"Form"]=t(!0)});class t9{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t,n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new tA(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new t9(function(t){e=t}),cancel:e}}}let t7={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(t7).forEach(([e,t])=>{t7[t]=e});let re=function e(t){let r=new t4(t),n=em(t4.prototype.request,r);return eQ.extend(n,t4.prototype,r,{allOwnKeys:!0}),eQ.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(tU(t,r))},n}(tg);re.Axios=t4,re.CanceledError=tA,re.CancelToken=t9,re.isCancel=tS,re.VERSION=t6,re.toFormData=e9,re.AxiosError=e1,re.Cancel=re.CanceledError,re.all=function(e){return Promise.all(e)},re.spread=function(e){return function(t){return e.apply(null,t)}},re.isAxiosError=function(e){return eQ.isObject(e)&&!0===e.isAxiosError},re.mergeConfig=tU,re.AxiosHeaders=tx,re.formToJSON=e=>tm(eQ.isHTMLForm(e)?new FormData(e):e),re.getAdapter=t0,re.HttpStatusCode=t7,re.default=re;let rt="https://docs.cdp.coinbase.com/api-v2/docs/errors",rr={unexpected_error:"unexpected_error",unauthorized:"unauthorized",not_found:"not_found",bad_gateway:"bad_gateway",service_unavailable:"service_unavailable",unknown:"unknown"};class rn extends Error{statusCode;errorType;errorMessage;correlationId;errorLink;constructor(e,t,r,n,i,o){super(r,{cause:o}),this.name="APIError",this.statusCode=e,this.errorType=t,this.errorMessage=r,void 0!==n&&(this.correlationId=n),void 0!==i&&(this.errorLink=i)}toJSON(){return{name:this.name,statusCode:this.statusCode,errorType:this.errorType,errorMessage:this.errorMessage,...this.correlationId&&{correlationId:this.correlationId},...this.errorLink&&{errorLink:this.errorLink}}}}class ri extends rn{constructor(e,t,r){super(0,e,t,void 0,void 0,r),this.name="UnknownApiError"}}class ro extends Error{constructor(e,t){super(e,{cause:t}),this.name="UnknownError"}}function rs(e){return null!==e&&"object"==typeof e&&"errorType"in e&&"string"==typeof e.errorType&&"errorMessage"in e&&"string"==typeof e.errorMessage}e.s(["APIError",()=>rn,"HttpErrorType",()=>rr,"UnknownApiError",()=>ri,"UnknownError",()=>ro,"isOpenAPIError",()=>rs],45861);let ra=()=>"u">typeof window&&"u">typeof document,ru=re.create({baseURL:"https://api.cdp.coinbase.com/platform"}),rc=null,rl=e=>{(ru=re.create({baseURL:e.basePath||"https://api.cdp.coinbase.com/platform",withCredentials:ra()})).interceptors.request.use(async e=>{let t=rb(e),r=rw(e);if(!rc||rv(r.pathname)||rx(r.pathname)&&!await rc.isSignedIn()||!r_(r.pathname))return e;let n=await rc.getXWalletAuth({requestMethod:t,requestHost:r.host,requestPath:r.pathname,requestData:e.data});return n&&(e.headers["X-Wallet-Auth"]=n),e}),ru.interceptors.request.use(async e=>{let t=rw(e);if(!rc||rv(t.pathname)||rx(t.pathname)&&!await rc.isSignedIn())return e;let r=await rc.getToken();return r&&""!==r&&(e.headers.Authorization=`Bearer ${r}`),e}),ra()||ru.interceptors.request.use(async e=>{let t=e.headers["User-Agent"];return t=t?`${t} CDP/reactnative`:"CDP/reactnative",e.headers["User-Agent"]=t,e}),e.refreshTokenStorage&&rh(e.refreshTokenStorage),e.debugging&&(ru.interceptors.request.use(e=>(console.log("Request:",e),e)),ru.interceptors.response.use(e=>(console.log("Response:",e),e)))},rf=e=>{rc=e},rd=async(e,t)=>{let r;ry(e),t&&""!==t&&(e={...r=e,headers:{...r.headers||{},"X-Idempotency-Key":t}});try{return(await ru(e)).data}catch(e){if(re.isAxiosError(e)&&!e.response)throw new ri(rr.unknown,e.cause instanceof Error?e.cause.message:e.message,e.cause);if(re.isAxiosError(e)&&e.response){if(rs(e.response.data))throw new rn(e.response.status,e.response.data.errorType,e.response.data.errorMessage,e.response.data.correlationId,e.response.data.errorLink,e.cause);{let t=e.response.status;switch(t){case 401:throw new rn(t,rr.unauthorized,"Unauthorized.",void 0,`${rt}#unauthorized`,e.cause);case 404:throw new rn(t,rr.not_found,"API not found.",void 0,`${rt}#not_found`,e.cause);case 502:throw new rn(t,rr.bad_gateway,"Bad gateway.",void 0,`${rt}`,e.cause);case 503:throw new rn(t,rr.service_unavailable,"Service unavailable. Please try again later.",void 0,`${rt}`,e.cause);default:{let r="";if(e.response.data)try{r=JSON.stringify(e.response.data)}catch{r=String(e.response.data)}let n=r?`An unexpected error occurred: ${r}`:"An unexpected error occurred.";throw new rn(t,rr.unexpected_error,n,void 0,`${rt}`,e.cause)}}}}throw new ro("Something went wrong. Please reach out at https://discord.com/channels/1220414409550336183/1271495764580896789 for help.",e instanceof Error?e:void 0)}},rh=e=>{ru.interceptors.response.use(async t=>{try{if(rg(t)){let r=t.data?.refreshToken;r&&await e.setRefreshToken(r)}}catch(e){console.warn("Failed to store refresh token:",e)}return t},e=>Promise.reject(e)),ru.interceptors.request.use(async t=>{try{if(rm(t.url)){let r=await e.getRefreshToken();r&&(t.data={...t.data,refreshToken:r})}rp(t.url)&&await e.removeRefreshToken()}catch(e){console.warn("Failed to retrieve refresh token:",e)}return t})},rp=e=>!!e&&/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/logout$/.test(e),rm=e=>!!e&&/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(refresh|logout)$/.test(e),rg=e=>{let t=e.config.url;return!!t&&/^\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(verify\/(email|sms|oauth\/.*)|refresh)$/.test(t)},ry=e=>{if(!ru.getUri()||""===ru.getUri())throw Error("CDP client URI not configured. Call configure() first.");if(!e.url||""===e.url)throw Error("AxiosRequestConfig URL is empty. This should never happen.");if(!e.method||""===e.method)throw Error("AxiosRequestConfig method is empty. This should never happen.")},rb=e=>e.method?.toString().toUpperCase()||"GET",rw=e=>{if(!e.url)throw Error("URL is required for authentication");return new URL(ru.getUri()+e.url)},rv=e=>/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(refresh|logout)$/.test(e),r_=e=>!/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/custom\/authenticate$/.test(e),rx=e=>/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/(init)$/.test(e)||/^\/platform\/v2\/embedded-wallet-api\/projects\/[^/]+\/auth\/verify\//.test(e);e.s(["cdpApiClient",()=>rd,"configureCdpApiClient",()=>rl,"setAuthManager",()=>rf],92940);let rE=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/init`,method:"POST",headers:{"Content-Type":"application/json"},data:t},r),rS=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/email`,method:"POST",headers:{"Content-Type":"application/json"},data:t},r),rA=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/sms`,method:"POST",headers:{"Content-Type":"application/json"},data:t},r),rk=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/verify/oauth/${t}`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rI=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/refresh`,method:"POST",headers:{"Content-Type":"application/json"},data:t},r),rT=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/logout`,method:"POST",headers:{"Content-Type":"application/json"},data:t},r),rB=(e,t)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/auth/custom/authenticate`,method:"POST"},t),rP=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}`,method:"GET"},r),rO=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/wallet-secrets`,method:"PUT",headers:{"Content-Type":"application/json"},data:r},n),rR=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rC=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rM=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rN=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/send/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rU=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/message`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rL=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/sign/typed-data`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rj=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/export`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),r$=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rF=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${r}/user-operations/${n}`,method:"GET"},i),rz=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${r}/send`,method:"POST",headers:{"Content-Type":"application/json"},data:n},i),rD=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${r}/spend-permissions`,method:"POST",headers:{"Content-Type":"application/json"},data:n},i),rq=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${r}/spend-permissions/list`,method:"GET",params:n},i),rH=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/evm/smart-accounts/${r}/spend-permissions/revoke`,method:"POST",headers:{"Content-Type":"application/json"},data:n},i),rW=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rG=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/export`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rK=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/sign`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rV=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/sign/message`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rJ=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/sign/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rZ=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/solana/send/transaction`,method:"POST",headers:{"Content-Type":"application/json"},data:r},n),rY=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/mfa/enroll/${r}/init`,method:"POST"},n),rX=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/mfa/enroll/${r}/submit`,method:"POST",headers:{"Content-Type":"application/json"},data:n},i),rQ=(e,t,r,n)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/mfa/verify/${r}/init`,method:"POST"},n),r0=(e,t,r,n,i)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/mfa/verify/${r}/submit`,method:"POST",headers:{"Content-Type":"application/json"},data:n},i),r1=(e,t,r)=>rd({url:`/v2/embedded-wallet-api/projects/${e}/end-users/${t}/mfa/prompt`,method:"PUT"},r);e.s(["authenticateUserWithCustomAuth",()=>rB,"createEndUserEvmAccount",()=>rR,"createEndUserEvmSmartAccount",()=>r$,"createEndUserSolanaAccount",()=>rW,"createSpendPermissionWithEndUserAccount",()=>rD,"exportEndUserEvmAccount",()=>rj,"exportEndUserSolanaAccount",()=>rG,"getAuthenticatedEndUser",()=>rP,"getUserOperationWithEndUserAccount",()=>rF,"initiateAuthentication",()=>rE,"initiateMfaEnrollment",()=>rY,"initiateMfaVerification",()=>rQ,"listSpendPermissionsWithEndUserAccount",()=>rq,"logOutEndUser",()=>rT,"recordMfaEnrollmentPrompted",()=>r1,"refreshAccessToken",()=>rI,"registerTemporaryWalletSecret",()=>rO,"revokeSpendPermissionWithEndUserAccount",()=>rH,"sendEvmTransactionWithEndUserAccount",()=>rN,"sendSolanaTransactionWithEndUserAccount",()=>rZ,"sendUserOperationWithEndUserAccount",()=>rz,"signEvmHashWithEndUserAccount",()=>rC,"signEvmMessageWithEndUserAccount",()=>rU,"signEvmTransactionWithEndUserAccount",()=>rM,"signEvmTypedDataWithEndUserAccount",()=>rL,"signSolanaHashWithEndUserAccount",()=>rK,"signSolanaMessageWithEndUserAccount",()=>rV,"signSolanaTransactionWithEndUserAccount",()=>rJ,"submitMfaEnrollment",()=>rX,"submitMfaVerification",()=>r0,"verifyEmailAuthentication",()=>rS,"verifyOAuthCode",()=>rk,"verifySmsAuthentication",()=>rA],62732);let r2={prime:"prime",business:"business",cdp:"cdp"},r6={already_exists:"already_exists",bad_gateway:"bad_gateway",faucet_limit_exceeded:"faucet_limit_exceeded",forbidden:"forbidden",idempotency_error:"idempotency_error",internal_server_error:"internal_server_error",invalid_request:"invalid_request",invalid_sql_query:"invalid_sql_query",invalid_signature:"invalid_signature",malformed_transaction:"malformed_transaction",not_found:"not_found",payment_method_required:"payment_method_required",rate_limit_exceeded:"rate_limit_exceeded",request_canceled:"request_canceled",service_unavailable:"service_unavailable",timed_out:"timed_out",unauthorized:"unauthorized",policy_violation:"policy_violation",policy_in_use:"policy_in_use",account_limit_exceeded:"account_limit_exceeded",network_not_tradable:"network_not_tradable",guest_permission_denied:"guest_permission_denied",guest_region_forbidden:"guest_region_forbidden",guest_transaction_limit:"guest_transaction_limit",guest_transaction_count:"guest_transaction_count",phone_number_verification_expired:"phone_number_verification_expired",document_verification_failed:"document_verification_failed",recipient_allowlist_violation:"recipient_allowlist_violation",recipient_allowlist_pending:"recipient_allowlist_pending",travel_rules_recipient_violation:"travel_rules_recipient_violation",transfer_amount_out_of_bounds:"transfer_amount_out_of_bounds",transfer_recipient_address_invalid:"transfer_recipient_address_invalid",transfer_quote_expired:"transfer_quote_expired",mfa_already_enrolled:"mfa_already_enrolled",mfa_invalid_code:"mfa_invalid_code",mfa_flow_expired:"mfa_flow_expired",mfa_required:"mfa_required",mfa_not_enrolled:"mfa_not_enrolled"},r5={business:"business",prime:"prime"},r3={fiat:"fiat",crypto:"crypto"},r8={individual:"individual",business:"business"},r4={enabled:"enabled",restricted:"restricted",disabled:"disabled",pending:"pending"},r9={individualfirstName:"individual.firstName",individuallastName:"individual.lastName",individualdateOfBirth:"individual.dateOfBirth",individualaddress:"individual.address",individualnationalityCode:"individual.nationalityCode",individualtaxNumber:"individual.taxNumber",individualverificationdocument:"individual.verification.document"},r7={information_missing:"information_missing",invalid_address:"invalid_address",verification_document_dob_mismatch:"verification_document_dob_mismatch",verification_document_expired:"verification_document_expired"},ne={crypto:"crypto"},nt={base:"base",ethereum:"ethereum",solana:"solana",aptos:"aptos",arbitrum:"arbitrum",optimism:"optimism",polygon:"polygon",sui:"sui"},nr={crypto:"crypto"},nn={crypto:"crypto"},ni={quoted:"quoted",processing:"processing",completed:"completed",failed:"failed",canceled:"canceled",expired:"expired",reversed:"reversed"},no={bank:"bank",conversion:"conversion",network:"network",other:"other"},ns={user_requested:"user_requested",compliance_reversal:"compliance_reversal",fraud_reversal:"fraud_reversal",network_reversal:"network_reversal",system_reversal:"system_reversal"},na={user_canceled:"user_canceled",system_canceled:"system_canceled",expired:"expired",compliance_canceled:"compliance_canceled",risk_canceled:"risk_canceled",duplicate_canceled:"duplicate_canceled",insufficient_funds_canceled:"insufficient_funds_canceled"},nu={target:"target",source:"source"},nc={email:"email"},nl={sms:"sms"},nf={jwt:"jwt"},nd={google:"google",apple:"apple",x:"x"},nh={team_member:"team_member",api_key:"api_key"},np={create_api_key:"create_api_key",read_api_key:"read_api_key",update_api_key:"update_api_key",delete_api_key:"delete_api_key",create_project:"create_project",read_project:"read_project",update_project:"update_project",delete_project:"delete_project",read_entity:"read_entity",update_entity:"update_entity",invite_team_member:"invite_team_member",read_team_member:"read_team_member",update_team_member:"update_team_member",remove_team_member:"remove_team_member",create_role:"create_role",read_role:"read_role",update_role:"update_role",delete_role:"delete_role",create_permission:"create_permission",read_permission:"read_permission",update_permission:"update_permission",delete_permission:"delete_permission",manage_billing:"manage_billing",view_audit_logs:"view_audit_logs",manage_all:"manage_all"},nm={business:"business",prime:"prime"},ng={admin:"admin",owner:"owner"},ny={pending:"pending",accepted:"accepted",rejected:"rejected",canceled:"canceled",expired:"expired"},nb={email:"email"},nw={sms:"sms"},nv={"verify-otp":"verify-otp"},n_={"verify-otp":"verify-otp"},nx={"base-sepolia":"base-sepolia",base:"base",arbitrum:"arbitrum",optimism:"optimism",zora:"zora",polygon:"polygon",bnb:"bnb",avalanche:"avalanche",ethereum:"ethereum","ethereum-sepolia":"ethereum-sepolia"},nE={pending:"pending",signed:"signed",broadcast:"broadcast",complete:"complete",dropped:"dropped",failed:"failed"},nS={base:"base","base-sepolia":"base-sepolia",ethereum:"ethereum","ethereum-sepolia":"ethereum-sepolia",optimism:"optimism",arbitrum:"arbitrum",avalanche:"avalanche",polygon:"polygon"},nA={totp:"totp"},nk={base:"base",ethereum:"ethereum",arbitrum:"arbitrum",optimism:"optimism"},nI={base:"base","base-sepolia":"base-sepolia",ethereum:"ethereum"},nT={entity:"entity",project:"project"},nB={ethValue:"ethValue"},nP={">":">",">=":">=","<":"<","<=":"<=","==":"=="},nO={evmAddress:"evmAddress"},nR={in:"in",not_in:"not in"},nC={erc20:"erc20",erc721:"erc721",erc1155:"erc1155"},nM={pure:"pure",view:"view",nonpayable:"nonpayable",payable:"payable"},nN={function:"function"},nU={constructor:"constructor",error:"error",event:"event",fallback:"fallback",receive:"receive"},nL={">":">",">=":">=","<":"<","<=":"<=","==":"=="},nj={in:"in",not_in:"not in"},n$={evmData:"evmData"},nF={netUSDChange:"netUSDChange"},nz={">":">",">=":">=","<":"<","<=":"<=","==":"=="},nD={reject:"reject",accept:"accept"},nq={signEvmTransaction:"signEvmTransaction"},nH={evmNetwork:"evmNetwork"},nW={"base-sepolia":"base-sepolia",base:"base",ethereum:"ethereum","ethereum-sepolia":"ethereum-sepolia",avalanche:"avalanche",polygon:"polygon",optimism:"optimism",arbitrum:"arbitrum",zora:"zora",bnb:"bnb"},nG={in:"in",not_in:"not in"},nK={reject:"reject",accept:"accept"},nV={sendEvmTransaction:"sendEvmTransaction"},nJ={evmMessage:"evmMessage"},nZ={reject:"reject",accept:"accept"},nY={signEvmMessage:"signEvmMessage"},nX={in:"in",not_in:"not in"},nQ={">":">",">=":">=","<":"<","<=":"<=","==":"=="},n0={evmTypedDataField:"evmTypedDataField"},n1={evmTypedDataVerifyingContract:"evmTypedDataVerifyingContract"},n2={in:"in",not_in:"not in"},n6={reject:"reject",accept:"accept"},n5={signEvmTypedData:"signEvmTypedData"},n3={solAddress:"solAddress"},n8={in:"in",not_in:"not in"},n4={solValue:"solValue"},n9={">":">",">=":">=","<":"<","<=":"<=","==":"=="},n7={splAddress:"splAddress"},ie={in:"in",not_in:"not in"},it={splValue:"splValue"},ir={">":">",">=":">=","<":"<","<=":"<=","==":"=="},ii={mintAddress:"mintAddress"},io={in:"in",not_in:"not in"},is={SystemProgram:"SystemProgram",TokenProgram:"TokenProgram",AssociatedTokenProgram:"AssociatedTokenProgram"},ia={">":">",">=":">=","<":"<","<=":"<=","==":"=="},iu={in:"in",not_in:"not in"},ic={solData:"solData"},il={programId:"programId"},id={in:"in",not_in:"not in"},ih={reject:"reject",accept:"accept"},ip={signSolTransaction:"signSolTransaction"},im={solNetwork:"solNetwork"},ig={"solana-devnet":"solana-devnet",solana:"solana"},iy={in:"in",not_in:"not in"},ib={reject:"reject",accept:"accept"},iw={sendSolTransaction:"sendSolTransaction"},iv={solMessage:"solMessage"},i_={reject:"reject",accept:"accept"},ix={signSolMessage:"signSolMessage"},iE={reject:"reject",accept:"accept"},iS={signEvmHash:"signEvmHash"},iA={reject:"reject",accept:"accept"},ik={prepareUserOperation:"prepareUserOperation"},iI={reject:"reject",accept:"accept"},iT={sendUserOperation:"sendUserOperation"},iB={project:"project",account:"account"},iP={solana:"solana","solana-devnet":"solana-devnet"},iO={String:"String",UInt8:"UInt8",UInt16:"UInt16",UInt32:"UInt32",UInt64:"UInt64",UInt128:"UInt128",UInt256:"UInt256",Int8:"Int8",Int16:"Int16",Int32:"Int32",Int64:"Int64",Int128:"Int128",Int256:"Int256",Float32:"Float32",Float64:"Float64",Bool:"Bool",Date:"Date",DateTime:"DateTime",DateTime64:"DateTime64",UUID:"UUID"},iR={NUMBER_1:1},iC={exact:"exact"},iM={"base-sepolia":"base-sepolia",base:"base","solana-devnet":"solana-devnet",solana:"solana"},iN={exact:"exact"},iU={"base-sepolia":"base-sepolia",base:"base","solana-devnet":"solana-devnet",solana:"solana"},iL={insufficient_funds:"insufficient_funds",invalid_scheme:"invalid_scheme",invalid_network:"invalid_network",invalid_x402_version:"invalid_x402_version",invalid_payment_requirements:"invalid_payment_requirements",invalid_payload:"invalid_payload",invalid_exact_evm_payload_authorization_value:"invalid_exact_evm_payload_authorization_value",invalid_exact_evm_payload_authorization_value_too_low:"invalid_exact_evm_payload_authorization_value_too_low",invalid_exact_evm_payload_authorization_valid_after:"invalid_exact_evm_payload_authorization_valid_after",invalid_exact_evm_payload_authorization_valid_before:"invalid_exact_evm_payload_authorization_valid_before",invalid_exact_evm_payload_authorization_typed_data_message:"invalid_exact_evm_payload_authorization_typed_data_message",invalid_exact_evm_payload_authorization_from_address_kyt:"invalid_exact_evm_payload_authorization_from_address_kyt",invalid_exact_evm_payload_authorization_to_address_kyt:"invalid_exact_evm_payload_authorization_to_address_kyt",invalid_exact_evm_payload_signature:"invalid_exact_evm_payload_signature",invalid_exact_evm_payload_signature_address:"invalid_exact_evm_payload_signature_address",invalid_exact_svm_payload_transaction:"invalid_exact_svm_payload_transaction",invalid_exact_svm_payload_transaction_amount_mismatch:"invalid_exact_svm_payload_transaction_amount_mismatch",invalid_exact_svm_payload_transaction_create_ata_instruction:"invalid_exact_svm_payload_transaction_create_ata_instruction",invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee:"invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee",invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset:"invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset",invalid_exact_svm_payload_transaction_instructions:"invalid_exact_svm_payload_transaction_instructions",invalid_exact_svm_payload_transaction_instructions_length:"invalid_exact_svm_payload_transaction_instructions_length",invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction:"invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction",invalid_exact_svm_payload_transaction_instructions_compute_price_instruction:"invalid_exact_svm_payload_transaction_instructions_compute_price_instruction",invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high:"invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high",invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked:"invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked",invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked:"invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked",invalid_exact_svm_payload_transaction_not_a_transfer_instruction:"invalid_exact_svm_payload_transaction_not_a_transfer_instruction",invalid_exact_svm_payload_transaction_cannot_derive_receiver_ata:"invalid_exact_svm_payload_transaction_cannot_derive_receiver_ata",invalid_exact_svm_payload_transaction_receiver_ata_not_found:"invalid_exact_svm_payload_transaction_receiver_ata_not_found",invalid_exact_svm_payload_transaction_sender_ata_not_found:"invalid_exact_svm_payload_transaction_sender_ata_not_found",invalid_exact_svm_payload_transaction_simulation_failed:"invalid_exact_svm_payload_transaction_simulation_failed",invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata:"invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata",invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts:"invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts",invalid_exact_svm_payload_transaction_fee_payer_transferring_funds:"invalid_exact_svm_payload_transaction_fee_payer_transferring_funds"},ij={insufficient_funds:"insufficient_funds",invalid_scheme:"invalid_scheme",invalid_network:"invalid_network",invalid_x402_version:"invalid_x402_version",invalid_payment_requirements:"invalid_payment_requirements",invalid_payload:"invalid_payload",invalid_exact_evm_payload_authorization_value:"invalid_exact_evm_payload_authorization_value",invalid_exact_evm_payload_authorization_valid_after:"invalid_exact_evm_payload_authorization_valid_after",invalid_exact_evm_payload_authorization_valid_before:"invalid_exact_evm_payload_authorization_valid_before",invalid_exact_evm_payload_authorization_typed_data_message:"invalid_exact_evm_payload_authorization_typed_data_message",invalid_exact_evm_payload_authorization_from_address_kyt:"invalid_exact_evm_payload_authorization_from_address_kyt",invalid_exact_evm_payload_authorization_to_address_kyt:"invalid_exact_evm_payload_authorization_to_address_kyt",invalid_exact_evm_payload_signature_address:"invalid_exact_evm_payload_signature_address",settle_exact_svm_block_height_exceeded:"settle_exact_svm_block_height_exceeded",settle_exact_svm_transaction_confirmation_timed_out:"settle_exact_svm_transaction_confirmation_timed_out"},i$={exact:"exact"},iF={"base-sepolia":"base-sepolia",base:"base","solana-devnet":"solana-devnet",solana:"solana"},iz={http:"http"},iD={GUEST_CHECKOUT_APPLE_PAY:"GUEST_CHECKOUT_APPLE_PAY"},iq={FEE_TYPE_NETWORK:"FEE_TYPE_NETWORK",FEE_TYPE_EXCHANGE:"FEE_TYPE_EXCHANGE"},iH={ONRAMP_ORDER_STATUS_PENDING_AUTH:"ONRAMP_ORDER_STATUS_PENDING_AUTH",ONRAMP_ORDER_STATUS_PENDING_PAYMENT:"ONRAMP_ORDER_STATUS_PENDING_PAYMENT",ONRAMP_ORDER_STATUS_PROCESSING:"ONRAMP_ORDER_STATUS_PROCESSING",ONRAMP_ORDER_STATUS_COMPLETED:"ONRAMP_ORDER_STATUS_COMPLETED",ONRAMP_ORDER_STATUS_FAILED:"ONRAMP_ORDER_STATUS_FAILED"},iW={PAYMENT_LINK_TYPE_APPLE_PAY_BUTTON:"PAYMENT_LINK_TYPE_APPLE_PAY_BUTTON"},iG={CARD:"CARD",ACH:"ACH",APPLE_PAY:"APPLE_PAY",PAYPAL:"PAYPAL",FIAT_WALLET:"FIAT_WALLET",CRYPTO_WALLET:"CRYPTO_WALLET"},iK={ach:"ach",fedwire:"fedwire"},iV={unknown:"unknown",daily:"daily",weekly:"weekly",monthly:"monthly",biweekly:"biweekly"},iJ={checking:"checking",savings:"savings"},iZ={ach:"ach"},iY={fedwire:"fedwire"},iX={base:"base",ethereum:"ethereum"},iQ={risk_indicated:"risk_indicated",no_risk_indicated:"no_risk_indicated"},i0={transferstatus_changed:"transfer.status_changed"},i1={refresh_token:"refresh_token"},i2={base:"base","base-sepolia":"base-sepolia",ethereum:"ethereum","ethereum-sepolia":"ethereum-sepolia",avalanche:"avalanche",polygon:"polygon",optimism:"optimism",arbitrum:"arbitrum"},i6={solana:"solana","solana-devnet":"solana-devnet"};e.s(["AbiFunctionType",()=>nN,"AbiInputType",()=>nU,"AbiStateMutability",()=>nM,"AccountType",()=>r2,"AchDetailsAccountType",()=>iJ,"AddressRiskNetwork",()=>iX,"AddressRiskRiskLevel",()=>iQ,"AssetType",()=>r3,"CapabilityStatus",()=>r4,"CoolPaymentMethodType",()=>iK,"CreateDepositDestinationRequestType",()=>nn,"CreatePaymentMethodRequestAchType",()=>iZ,"CreatePaymentMethodRequestFedwireType",()=>iY,"CryptoDepositDestinationType",()=>nr,"CustomerType",()=>r8,"DepositDestinationType",()=>ne,"DeveloperJWTAuthenticationType",()=>nf,"EmailAuthenticationType",()=>nc,"ErrorType",()=>r6,"EthValueCriterionOperator",()=>nP,"EthValueCriterionType",()=>nB,"EvmAddressCriterionOperator",()=>nR,"EvmAddressCriterionType",()=>nO,"EvmDataCriterionType",()=>n$,"EvmDataParameterConditionListOperator",()=>nj,"EvmDataParameterConditionOperator",()=>nL,"EvmMessageCriterionType",()=>nJ,"EvmNetworkCriterionNetworksItem",()=>nW,"EvmNetworkCriterionOperator",()=>nG,"EvmNetworkCriterionType",()=>nH,"EvmSwapsNetwork",()=>nk,"EvmTypedAddressConditionOperator",()=>nX,"EvmTypedNumericalConditionOperator",()=>nQ,"EvmUserOperationNetwork",()=>nx,"EvmUserOperationStatus",()=>nE,"InitiateEmailAuthenticationNextStepType",()=>nv,"InitiateEmailAuthenticationRequestType",()=>nb,"InitiateSmsAuthenticationNextStepType",()=>n_,"InitiateSmsAuthenticationRequestType",()=>nw,"InvitationStatus",()=>ny,"KnownAbiType",()=>nC,"KnownIdlType",()=>is,"LimitPeriod",()=>iV,"LinkAccountType",()=>r5,"LinkableEntityRole",()=>ng,"LinkableEntityType",()=>nm,"ListEvmTokenBalancesNetwork",()=>nI,"ListSolanaTokenBalancesNetwork",()=>iP,"MfaMethod",()=>nA,"MintAddressCriterionOperator",()=>io,"MintAddressCriterionType",()=>ii,"NetUSDChangeCriterionOperator",()=>nz,"NetUSDChangeCriterionType",()=>nF,"Network",()=>nt,"OAuth2ProviderType",()=>nd,"OnchainDataResultSchemaColumnsItemType",()=>iO,"OnrampOrderFeeType",()=>iq,"OnrampOrderPaymentMethodTypeId",()=>iD,"OnrampOrderStatus",()=>iH,"OnrampPaymentLinkType",()=>iW,"OnrampQuotePaymentMethodTypeId",()=>iG,"PermissionCatalogObjectsItemType",()=>nT,"PermissionSubjectType",()=>nh,"PermissionVerb",()=>np,"PolicyScope",()=>iB,"PrepareUserOperationRuleAction",()=>iA,"PrepareUserOperationRuleOperation",()=>ik,"ProgramIdCriterionOperator",()=>id,"ProgramIdCriterionType",()=>il,"RefreshAccessTokenBodyGrantType",()=>i1,"RequirementErrorCode",()=>r7,"RequirementField",()=>r9,"SendEvmTransactionRuleAction",()=>nK,"SendEvmTransactionRuleOperation",()=>nV,"SendEvmTransactionWithEndUserAccountBodyNetwork",()=>i2,"SendSolTransactionRuleAction",()=>ib,"SendSolTransactionRuleOperation",()=>iw,"SendSolanaTransactionWithEndUserAccountBodyNetwork",()=>i6,"SendUserOperationRuleAction",()=>iI,"SendUserOperationRuleOperation",()=>iT,"SignEvmHashRuleAction",()=>iE,"SignEvmHashRuleOperation",()=>iS,"SignEvmMessageRuleAction",()=>nZ,"SignEvmMessageRuleOperation",()=>nY,"SignEvmTransactionRuleAction",()=>nD,"SignEvmTransactionRuleOperation",()=>nq,"SignEvmTypedDataFieldCriterionType",()=>n0,"SignEvmTypedDataRuleAction",()=>n6,"SignEvmTypedDataRuleOperation",()=>n5,"SignEvmTypedDataVerifyingContractCriterionOperator",()=>n2,"SignEvmTypedDataVerifyingContractCriterionType",()=>n1,"SignSolMessageRuleAction",()=>i_,"SignSolMessageRuleOperation",()=>ix,"SignSolTransactionRuleAction",()=>ih,"SignSolTransactionRuleOperation",()=>ip,"SmsAuthenticationType",()=>nl,"SolAddressCriterionOperator",()=>n8,"SolAddressCriterionType",()=>n3,"SolDataCriterionType",()=>ic,"SolDataParameterConditionListOperator",()=>iu,"SolDataParameterConditionOperator",()=>ia,"SolMessageCriterionType",()=>iv,"SolNetworkCriterionNetworksItem",()=>ig,"SolNetworkCriterionOperator",()=>iy,"SolNetworkCriterionType",()=>im,"SolValueCriterionOperator",()=>n9,"SolValueCriterionType",()=>n4,"SpendPermissionNetwork",()=>nS,"SplAddressCriterionOperator",()=>ie,"SplAddressCriterionType",()=>n7,"SplValueCriterionOperator",()=>ir,"SplValueCriterionType",()=>it,"TransferCancellationReason",()=>na,"TransferFeeType",()=>no,"TransferRequestAmountType",()=>nu,"TransferReversalReason",()=>ns,"TransferStatus",()=>ni,"TransferStatusChangedWebhookEventEventType",()=>i0,"X402DiscoveryResourceType",()=>iz,"X402PaymentPayloadNetwork",()=>iM,"X402PaymentPayloadScheme",()=>iC,"X402PaymentRequirementsNetwork",()=>iU,"X402PaymentRequirementsScheme",()=>iN,"X402SettleErrorReason",()=>ij,"X402SupportedPaymentKindNetwork",()=>iF,"X402SupportedPaymentKindScheme",()=>i$,"X402VerifyInvalidReason",()=>iL,"X402Version",()=>iR],44719),el.registerPackageVersion("api_client","0.0.73"),e.s([],42428);let i5=null;function i3(e){i5=e}function i8(){if(!i5)throw Error("Platform services not initialized. This usually means the core package was not properly imported for your platform. For web apps, make sure you're importing from '@coinbase/cdp-core'. For React Native apps, ensure you have the proper platform resolution configured.");return i5}function i4(){return i8().crypto}function i9(){return i8().storage}function i7(){return i8().oauth}function oe(e){if("u">typeof btoa)return btoa(Array.from(e).map(e=>String.fromCharCode(e)).join(""));let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="";for(let n=0;n<e.length;n+=3){let i=e[n]<<16|(n+1<e.length?e[n+1]:0)<<8|(n+2<e.length?e[n+2]:0);r+=t.charAt(i>>18&63),r+=t.charAt(i>>12&63),r+=n+1<e.length?t.charAt(i>>6&63):"=",r+=n+2<e.length?t.charAt(63&i):"="}return r}function ot(e){if("u">typeof atob){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={};for(let e=0;e<t.length;e++)r[t[e]]=e;let n=e.replace(/[^A-Za-z0-9+/]/g,""),i=[];for(let e=0;e<n.length;e+=4){let t=(r[n[e]]||0)<<18|(r[n[e+1]]||0)<<12|(r[n[e+2]]||0)<<6|(r[n[e+3]]||0);i.push(t>>16&255),e+2<n.length&&i.push(t>>8&255),e+3<n.length&&i.push(255&t)}return new Uint8Array(i)}e.s(["getPlatformCrypto",()=>i4,"getPlatformOAuth",()=>i7,"getPlatformServices",()=>i8,"getPlatformStorage",()=>i9,"setPlatformServices",()=>i3],24983),e.s(["decodeBase64",()=>ot,"encodeBase64",()=>oe],67526);let or={async createKeyPair(){let e=await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]),t=oe(new Uint8Array(await window.crypto.subtle.exportKey("spki",e.publicKey)));return{privateKey:e.privateKey,publicKeyBase64:t}},async createExportKeyPair(){let e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=oe(new Uint8Array(await window.crypto.subtle.exportKey("spki",e.publicKey)));return{privateKey:e.privateKey,publicKeyBase64:t}},hash:async e=>Array.from(new Uint8Array(await window.crypto.subtle.digest("SHA-256",e))).map(e=>e.toString(16).padStart(2,"0")).join(""),generateRandomId(){let e=new Uint8Array(16);return window.crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")},generateRandomSalt(){let e=new Uint8Array(32);window.crypto.getRandomValues(e);let t=0n;for(let r=0;r<e.length;r++)t=(t<<8n)+BigInt(e[r]);return t},async decryptWithPrivateKey(e,t){let r=ot(t);return await window.crypto.subtle.decrypt("RSA-OAEP",e,r)}};e.s(["webCrypto",()=>or],64365);let on={getRedirectUrl:()=>(oi(),window.location.href),initiateOAuthFlow:e=>{oi(),window.location.href=e},getOAuthParams:()=>{oi();let e=new URLSearchParams(new URL(window.location.href).search),t=e.get("code")??void 0,r=e.get("provider_type")??void 0,n=e.get("flow_id")??void 0,i=e.get("error")??void 0,o=e.get("error_description")??void 0;return t&&r&&n||i||o?{code:t,providerType:r,flowId:n,error:i,errorDescription:o}:null},cleanupOAuthParams:()=>{oi();let e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("code"),t.delete("provider_type"),t.delete("flow_id"),t.delete("error"),t.delete("error_description"),e.search=t.toString(),window.history.replaceState({},"",e.toString())}};function oi(){if(typeof window>"u"||typeof window.location>"u"||typeof window.history>"u")throw Error("OAuth is not supported in this browser")}e.s(["webOAuth",()=>on],14198);let oo={async getItem(e){try{return localStorage.getItem(e)}catch(e){return console.warn(`Failed to get item from localStorage: ${e}`),null}},async setItem(e,t){try{localStorage.setItem(e,t)}catch(e){throw console.warn(`Failed to set item in localStorage: ${e}`),e}},async removeItem(e){try{localStorage.removeItem(e)}catch(e){throw console.warn(`Failed to remove item from localStorage: ${e}`),e}},async clear(){try{localStorage.clear()}catch(e){throw console.warn(`Failed to clear localStorage: ${e}`),e}}};e.s(["webStorage",()=>oo],34530),e.s(["VERSION",()=>"0.0.73"],48567);var os={},oa={},ou={},oc=(W||(W=1,function(e){let t=function(){if(q)return oa;q=1,oa.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},oa.toByteArray=function(e){var n,i,o=s(e),a=o[0],u=o[1],c=new r((a+u)*3/4-u),l=0,f=u>0?a-4:a;for(i=0;i<f;i+=4)n=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],c[l++]=n>>16&255,c[l++]=n>>8&255,c[l++]=255&n;return 2===u&&(n=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,c[l++]=255&n),1===u&&(n=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,c[l++]=n>>8&255,c[l++]=255&n),c},oa.fromByteArray=function(t){for(var r,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(t,r,n){for(var i,o=[],s=r;s<n;s+=3)o.push(e[(i=(t[s]<<16&0xff0000)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+e[i>>12&63]+e[i>>6&63]+e[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(e[(r=t[n-1])>>2]+e[r<<4&63]+"=="):2===i&&o.push(e[(r=(t[n-2]<<8)+t[n-1])>>10]+e[r>>4&63]+e[r<<2&63]+"="),o.join("")};for(var e=[],t=[],r="u">typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}return t[45]=62,t[95]=63,oa}(),r=(H||(H=1,ou.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},ou.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=5960464477539062e-23*(23===i),h=n?0:o-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*m}),ou),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e){var n=e,s=t;if(("string"!=typeof s||""===s)&&(s="utf8"),!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);let r=0|d(n,s),a=i(r),u=a.write(n,s);return u!==r&&(a=a.slice(0,u)),a}if(ArrayBuffer.isView(e)){var a=e;if(N(a,Uint8Array)){let e=new Uint8Array(a);return l(e.buffer,e.byteOffset,e.byteLength)}return c(a)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(N(e,SharedArrayBuffer)||e&&N(e.buffer,SharedArrayBuffer)))return l(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return o.from(u,t,r);let h=function(e){var t;if(o.isBuffer(e)){let t=0|f(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(h)return h;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),i(e<0?0:0|f(e))}function c(e){let t=e.length<0?0:0|f(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return C(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=U[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return y(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var o,s,a;return o=this,s=r,a=n,0===s&&a===o.length?t.fromByteArray(o):t.fromByteArray(o.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function p(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}function y(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}var o=n;let s=o.length;if(s<=4096)return String.fromCharCode.apply(String,o);let a="",u=0;for(;u<s;)a+=String.fromCharCode.apply(String,o.slice(u,u+=4096));return a}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function v(e,t,r,n,i){T(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function _(e,t,r,n,i){T(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function x(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,n,i,o){return t*=1,n>>>=0,o||x(e,t,n,4),r.write(e,t,n,i,23,4),n+4}function S(e,t,n,i,o){return t*=1,n>>>=0,o||x(e,t,n,8),r.write(e,t,n,i,52,8),n+8}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(N(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(N(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):h.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(N(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,a=r-t,u=Math.min(s,a),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){s=c[e],a=l[e];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,o,s,a,u,c,l,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){var a;let n=parseInt(t.substr(2*i,2),16);if((a=n)!=a)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,M(R(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,M(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,M(C(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,M(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=L(function(e,t=0){return v(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=L(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=L(function(e,t=0){return v(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=L(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let A={};function k(e,t,r){A[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function I(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function T(e,t,r,n,i,o){if(e>r||e<t){let r,n="bigint"==typeof t?"n":"";throw r=0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(o+1)*8}${n}`:`>= -(2${n} ** ${(o+1)*8-1}${n}) and < 2 ** ${(o+1)*8-1}${n}`,new A.ERR_OUT_OF_RANGE("value",r,e)}B(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&P(i,n.length-(o+1))}function B(e,t){if("number"!=typeof e)throw new A.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){throw Math.floor(e)!==e?(B(e,r),new A.ERR_OUT_OF_RANGE("offset","an integer",e)):t<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}k("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),k("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=I(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=I(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let O=/[^+/0-9A-Za-z-_]/g;function R(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function C(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function L(e){return typeof BigInt>"u"?j:e}function j(){throw Error("BigInt not supported")}}(os)),os);e.s(["b",()=>oc],20730)},29429,28870,65843,13055,84246,70757,e=>{"use strict";let t,r;var n,i,o,s,a,u,c,l,f,d,h,p,m,g,y,b,w=e.i(24907);e.i(43988);var v=e.i(24983),_=e.i(64365),x=e.i(14198),E=e.i(34530),S=e.i(48567),A=e.i(20730);e.i(42428);var k=e.i(92940),I=e.i(62732),T=e.i(89379);let B=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,s=0,a=0;for(;e[o]===n;)s++,o++;let u=(e.length-o)*i+1>>>0,c=new Uint8Array(u);for(;o<e.length;){let n=e.charCodeAt(o);if(n>255)return;let i=t[n];if(255===i)return;let s=0;for(let e=u-1;(0!==i||s<a)&&-1!==e;e--,s++)i+=r*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");a=s,o++}let l=u-a;for(;l!==u&&0===c[l];)l++;let f=new Uint8Array(s+(u-l)),d=s;for(;l!==u;)f[d++]=c[l++];return f}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,s=0,a=0,u=t.length;for(;a!==u&&0===t[a];)a++,i++;let c=(u-a)*o+1>>>0,l=new Uint8Array(c);for(;a!==u;){let e=t[a],n=0;for(let t=c-1;(0!==e||n<s)&&-1!==t;t--,n++)e+=256*l[t]>>>0,l[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");s=n,a++}let f=c-s;for(;f!==c&&0===l[f];)f++;let d=n.repeat(i);for(;f<c;++f)d+=e.charAt(l[f]);return d},decodeUnsafe:s,decode:function(e){let t=s(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),P=new TextEncoder,O=new TextDecoder;function R(e){let t=e;return"string"==typeof t&&(t=P.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class C extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class M extends C{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class N extends C{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class U extends C{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}function L(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function j(e,t){return e.name===t}function $(e){return parseInt(e.name.slice(4),10)}function F(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}function z(e,t,...r){return F(`Key for the ${e} algorithm must be `,t,...r)}let D=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(((e,...t)=>F("Key must be ",e,...t))(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return function(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if(!j(e.algorithm,"HMAC"))throw L("HMAC");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!j(e.algorithm,"RSASSA-PKCS1-v1_5"))throw L("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!j(e.algorithm,"RSA-PSS"))throw L("RSA-PSS");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!j(e.algorithm,"Ed25519"))throw L("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!j(e.algorithm,"ECDSA"))throw L("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw L(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}(t,e,r),t},q=async(e,t,r)=>{let n=await D(e,t,"sign");return((e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}})(e,n),new Uint8Array(await crypto.subtle.sign(((e,t)=>{let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new M(`alg ${e} is not supported either by JOSE or your javascript runtime`)}})(e,n.algorithm),n,r))};function H(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function W(e){return e?.[Symbol.toStringTag]==="KeyObject"}let G=e=>H(e)||W(e),K=e=>{if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function V(e){return K(e)&&"string"==typeof e.kty}let J=e=>e?.[Symbol.toStringTag],Z=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"unwrapKey":r;break;case"encrypt"===r:n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},Y=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new M('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??!e.d,e.key_ops??r)},X=async(e,r,n,i=!1)=>{let o=(t||=new WeakMap).get(e);if(o?.[n])return o[n];let s=await Y({...r,alg:n});return i&&Object.freeze(e),o?o[n]=s:t.set(e,{[n]:s}),s},Q=async(e,r)=>{if(e instanceof Uint8Array||H(e))return e;if(W(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,r)=>{let n,i=(t||=new WeakMap).get(e);if(i?.[r])return i[r];let o="public"===e.type,s=!!o;if("x25519"===e.asymmetricKeyType){switch(r){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}n=e.toCryptoKey(e.asymmetricKeyType,s,o?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==r&&"Ed25519"!==r)throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,s,[o?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let t;switch(r){case"RSA-OAEP":t="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":t="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":t="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":t="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(r.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:t},s,o?["encrypt"]:["decrypt"]);n=e.toCryptoKey({name:r.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:t},s,[o?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let t=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!t)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===r&&"P-256"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},s,[o?"verify":"sign"])),"ES384"===r&&"P-384"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},s,[o?"verify":"sign"])),"ES512"===r&&"P-521"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},s,[o?"verify":"sign"])),r.startsWith("ECDH-ES")&&(n=e.toCryptoKey({name:"ECDH",namedCurve:t},s,o?[]:["deriveBits"]))}if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[r]=n:t.set(e,{[r]:n}),n})(e,r)}catch(e){if(e instanceof TypeError)throw e}let n=e.export({format:"jwk"});return X(e,n,r)}if(V(e))return e.k?function(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:O.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=O.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}(e.k):X(e,e,r,!0);throw Error("unreachable")};class ee{#e;#t;#r;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#e=e}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setUnprotectedHeader(e){if(this.#r)throw TypeError("setUnprotectedHeader can only be called once");return this.#r=e,this}async sign(e,t){let r;if(!this.#t&&!this.#r)throw new N("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!((...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0})(this.#t,this.#r))throw new N("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this.#t,...this.#r},i=((e,t,r,n,i)=>{let o;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(s))throw new M(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)})(N,new Map([["b64",!0]]),t?.crit,this.#t,n),o=!0;if(i.has("b64")&&"boolean"!=typeof(o=this.#t.b64))throw new N('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:s}=n;if("string"!=typeof s||!s)throw new N('JWS "alg" (Algorithm) Header Parameter missing or invalid');s.startsWith("HS")||"dir"===s||s.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(s)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(s)?((e,t,r)=>{if(!(t instanceof Uint8Array)){if(V(t)){if("oct"===t.kty&&"string"==typeof t.k&&Z(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!G(t))throw TypeError(z(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${J(t)} instances for symmetric algorithms must be of type "secret"`)}})(s,e,"sign"):((e,t,r)=>{if(V(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&"string"==typeof t.d&&Z(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&typeof t.d>"u"&&Z(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!G(t))throw TypeError(z(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${J(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${J(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${J(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${J(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${J(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(s,e,"sign");let a=this.#e;o&&(a=P.encode(R(a)));let u=function(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}(r=this.#t?P.encode(R(JSON.stringify(this.#t))):P.encode(""),P.encode("."),a),c=await Q(e,s),l={signature:R(await q(s,c,u)),payload:""};return o&&(l.payload=O.decode(a)),this.#r&&(l.header=this.#r),this.#t&&(l.protected=O.decode(r)),l}}class et{#t;constructor(e){this.#t=new ee(e)}setProtectedHeader(e){return this.#t.setProtectedHeader(e),this}async sign(e,t){let r=await this.#t.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}let er=e=>Math.floor(e.getTime()/1e3),en=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ei=e=>{let t,r=en.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function eo(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class es{#r;constructor(e){if(!K(e))throw TypeError("JWT Claims Set MUST be an object");this.#r=structuredClone(e)}data(){return P.encode(JSON.stringify(this.#r))}get iss(){return this.#r.iss}set iss(e){this.#r.iss=e}get sub(){return this.#r.sub}set sub(e){this.#r.sub=e}get aud(){return this.#r.aud}set aud(e){this.#r.aud=e}set jti(e){this.#r.jti=e}set nbf(e){"number"==typeof e?this.#r.nbf=eo("setNotBefore",e):e instanceof Date?this.#r.nbf=eo("setNotBefore",er(e)):this.#r.nbf=er(new Date)+ei(e)}set exp(e){"number"==typeof e?this.#r.exp=eo("setExpirationTime",e):e instanceof Date?this.#r.exp=eo("setExpirationTime",er(e)):this.#r.exp=er(new Date)+ei(e)}set iat(e){typeof e>"u"?this.#r.iat=er(new Date):e instanceof Date?this.#r.iat=eo("setIssuedAt",er(e)):"string"==typeof e?this.#r.iat=eo("setIssuedAt",er(new Date)+ei(e)):this.#r.iat=eo("setIssuedAt",e)}}class ea{#n;#r;constructor(e={}){this.#r=new es(e)}setIssuer(e){return this.#r.iss=e,this}setSubject(e){return this.#r.sub=e,this}setAudience(e){return this.#r.aud=e,this}setJti(e){return this.#r.jti=e,this}setNotBefore(e){return this.#r.nbf=e,this}setExpirationTime(e){return this.#r.exp=e,this}setIssuedAt(e){return this.#r.iat=e,this}setProtectedHeader(e){return this.#n=e,this}async sign(e,t){let r=new et(this.#r.data());if(r.setProtectedHeader(this.#n),Array.isArray(this.#n?.crit)&&this.#n.crit.includes("b64")&&!1===this.#n.b64)throw new U("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}let eu=(e,t,r)=>({accessToken:e,expiresAt:new Date(t).getTime(),user:{userId:r.userId,evmAccounts:r.evmAccounts?.map(e=>e)??[],evmSmartAccounts:r.evmSmartAccounts?.map(e=>e)??[],solanaAccounts:r.solanaAccounts?.map(e=>e)??[],evmAccountObjects:r.evmAccountObjects,evmSmartAccountObjects:r.evmSmartAccountObjects,solanaAccountObjects:r.solanaAccountObjects,authenticationMethods:r.authenticationMethods.reduce((e,t)=>(e[t.type]=t,e),{}),mfaMethods:r.mfaMethods}});var ec=e.i(44719);let el=e=>e&&"object"==typeof e?Array.isArray(e)?e.map(el):Object.keys(e).sort().reduce((t,r)=>(t[r]=el(e[r]),t),{}):e;Object.fromEntries(Object.entries({"base-sepolia":84532,base:8453,ethereum:1,"ethereum-sepolia":0xaa36a7,avalanche:43114,polygon:137,optimism:10,arbitrum:42161}).map(([e,t])=>[t,e])),Object.fromEntries(Object.entries({"base-sepolia":84532,base:8453,ethereum:1,"ethereum-sepolia":0xaa36a7,avalanche:43114,polygon:137,optimism:10,arbitrum:42161,zora:7777777,bnb:56}).map(([e,t])=>[t,e]));let ef=null,ed=null,eh=null,ep=()=>{if(!ef)throw Error("SDK not initialized");return ef},em=e=>{ed=e},eg=()=>{if(!ed)throw Error("SDK not initialized");return ed},ey=e=>{eh=e},eb=()=>{if(!eh)throw Error("SDK not initialized");return eh};class ew{projectId;authState=null;walletSecret=null;authStateChangeCallbacks=[];initPromise=null;refreshTimeout=null;constructor(e){this.projectId=e,this.initPromise=this._doInitialize()}getUser(){return this.authState?.user??null}async isSignedIn(){if(!this.authState)return!1;if(this.authState.expiresAt>Date.now()+6e4)return!0;try{return await this.getToken()!==null}catch{return!1}}async signOut(){try{await (0,I.logOutEndUser)(this.projectId)}catch{}finally{await this.clearAuthState()}}addAuthStateChangeCallback(e){this.authStateChangeCallbacks.push(e),e(this.authState?.user??null)}async getToken(e){return(e?.forceRefresh||this.shouldRefreshToken())&&await this.refreshAccessToken(),this.authState?.accessToken??null}async getTokenExpiration(){return this.authState?.expiresAt??null}async getWalletSecretId(){if(!await this.isSignedIn())throw Error("Cannot get wallet secret ID if the user is not signed in");return this.shouldRefreshWalletSecret()&&await this.refreshWalletSecret(),this.walletSecret.walletSecretId}async getXWalletAuth(e){if(!await this.isSignedIn())throw Error("Cannot get X-Wallet-Auth header if the user is not signed in");this.shouldRefreshWalletSecret()&&await this.refreshWalletSecret();let t=`${e.requestMethod} ${e.requestHost}${e.requestPath}`,r=Math.floor(Date.now()/1e3),n=(0,v.getPlatformCrypto)(),i={uris:[t]};if(e.requestData&&Object.keys(e.requestData).length>0){let t=el(e.requestData);i.reqHash=await n.hash(new TextEncoder().encode(JSON.stringify(t)))}return await new ea(i).setProtectedHeader({alg:"ES256",typ:"JWT"}).setIssuedAt(r).setNotBefore(r).setJti(n.generateRandomId()).sign(this.walletSecret.keyPair.privateKey)}getAuthState(){return this.authState}async setAuthState(e){this.authState=e,this.authStateChangeCallbacks.forEach(e=>e(this.authState?.user??null)),this.scheduleTokenRefresh()}async clearAuthState(){this.authState=null,this.walletSecret=null,this.cancelTokenRefresh(),this.authStateChangeCallbacks.forEach(e=>e(null))}async ensureInitialized(){if(this.initPromise)return void await this.initPromise;throw Error("AuthManager not initialized")}async _doInitialize(){try{await this.refreshAccessToken(),await eb().handleOAuthCode()}catch(e){console.warn("Failed to refresh access token during initialization:",e)}}shouldRefreshToken(){return!(this.authState&&this.authState.expiresAt>Date.now()+6e4)}async refreshAccessToken(){try{let e=await (0,I.refreshAccessToken)(this.projectId,{grantType:"refresh_token"}),t=eu(e.accessToken,e.validUntil,e.endUser);await this.setAuthState(t)}catch{await this.signOut()}}scheduleTokenRefresh(){if(this.cancelTokenRefresh(),!this.authState)return;let e=this.authState.expiresAt-6e4-Date.now();e<=0||(this.refreshTimeout=setTimeout(async()=>{await this.refreshAccessToken(),this.scheduleTokenRefresh()},e))}cancelTokenRefresh(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)}shouldRefreshWalletSecret(){return!(this.walletSecret&&this.walletSecret.expiresAt>Date.now()+6e4)}async refreshWalletSecret(){let e=(0,v.getPlatformCrypto)(),t=this.walletSecret?.walletSecretId??e.generateRandomId(),r=this.walletSecret?.keyPair??await e.createKeyPair(),n=this.authState.expiresAt,i=new Date(n).toISOString();this.walletSecret={walletSecretId:t,keyPair:r,expiresAt:n};try{await (0,I.registerTemporaryWalletSecret)(this.projectId,this.authState.user.userId,{walletSecretId:t,publicKey:r.publicKeyBase64,validUntil:i})}catch(e){throw this.walletSecret=null,e}}}e.i(45861);class ev extends Error{constructor(e){super(e),this.name="CustomAuthError"}}class e_ extends ew{async signOut(){await this.clearAuthState()}async getToken(){let e=ep();if(!e.customAuth)return console.error("Custom auth configuration not found"),await this.clearAuthState(),null;try{let t=await e.customAuth.getJwt();return t?(this.authState&&(this.authState.accessToken=t,this.authState.expiresAt=Date.now()+36e5),t):(await this.clearAuthState(),null)}catch(e){return console.error(new ev(e instanceof Error?e.message:"Failed to get custom auth JWT")),await this.clearAuthState(),null}}async _doInitialize(){}shouldRefreshToken(){return!1}async refreshAccessToken(){}scheduleTokenRefresh(){this.cancelTokenRefresh()}}class ex{oauthFlowState=null;oauthStateChangeCallbacks=[];async addOAuthStateChangeCallback(e){this.oauthStateChangeCallbacks.push(e),e(this.oauthFlowState)}async setOAuthFlowState(e){this.oauthFlowState=e,this.oauthStateChangeCallbacks.forEach(e=>e(this.oauthFlowState))}async clearOAuthFlowState(){this.oauthFlowState=null,this.oauthStateChangeCallbacks.forEach(e=>e(null))}async getOAuthFlowState(){return this.oauthFlowState}async handleOAuthCode(e){try{let t=await (0,v.getPlatformOAuth)().getOAuthParams(e);if(await (0,v.getPlatformOAuth)().cleanupOAuthParams(),!t)return;let{providerType:r,code:n,flowId:i,error:o,errorDescription:s}=t;if(o||s)return void await this.setOAuthFlowState({providerType:r,status:"error",errorDescription:o??s,code:n,flowId:i,error:o});if(!n||!r||!i)return;await this.setOAuthFlowState({providerType:r,status:"pending",code:n,flowId:i}),await t4({code:n,providerType:r,flowId:i}),await this.setOAuthFlowState({providerType:r,status:"success",code:n,flowId:i})}catch(t){let e=t instanceof Error?t.message:"Unknown error";await (0,v.getPlatformOAuth)().cleanupOAuthParams(),await this.setOAuthFlowState({status:"error",errorDescription:e})}}}let eE=async e=>await e.isSignedIn();async function eS(e,t,r){if(!await eE(t))throw Error("User not signed in");let n=t.getUser();if("evmAccount"in e&&!n.evmAccounts?.find(t=>t===e.evmAccount))throw Error("EVM account not found");if("evmSmartAccount"in e&&!n.evmSmartAccounts?.find(t=>t===e.evmSmartAccount))throw Error("EVM Smart Account not found");if("solanaAccount"in e&&!n.solanaAccounts?.find(t=>t===e.solanaAccount))throw Error("Solana account not found");let i=await t.getWalletSecretId();return r({...e,user:n,walletSecretId:i})}let eA="0x0000000000000000000000000000000000000000",ek={userId:"mock-user-id",evmAccounts:[eA],evmSmartAccounts:[],solanaAccounts:["5fNfvyp5f3BB9T24s6bC8QjDXuJqvU8WjziJpEQi9PWT"],evmAccountObjects:[{address:eA,createdAt:"2024-01-01T00:00:00Z"}],evmSmartAccountObjects:[],solanaAccountObjects:[{address:"5fNfvyp5f3BB9T24s6bC8QjDXuJqvU8WjziJpEQi9PWT",createdAt:"2024-01-01T00:00:00Z"}],authenticationMethods:{email:{type:"email",email:"test@test.com"}}};class eI{authState=null;authStateChangeCallback=null;constructor(e){}async ensureInitialized(){return Promise.resolve()}getUser(){return this.authState?.user??null}async isSignedIn(){return this.authState?Promise.resolve(this.authState.expiresAt>Date.now()):Promise.resolve(!1)}async signOut(){await this.clearAuthState()}addAuthStateChangeCallback(e){this.authStateChangeCallback=e,e(this.authState?.user??null)}async getToken(e){return this.authState?((e?.forceRefresh||this.authState.expiresAt<=Date.now())&&await this.refreshToken(),this.authState?.accessToken??null):null}async getTokenExpiration(){return this.authState?.expiresAt??null}async getWalletSecretId(){return"mock-wallet-secret-id"}async getXWalletAuth(e){if(!this.authState)throw Error("User not signed in");return"x-wallet-auth"}getAuthState(){return this.authState}async setAuthState(e){this.authState=e,this.authStateChangeCallback&&this.authStateChangeCallback(this.authState?.user??null)}async clearAuthState(){this.authState=null,this.authStateChangeCallback&&this.authStateChangeCallback(null)}async refreshToken(){this.authState&&await this.setAuthState({accessToken:"mock-access-token",expiresAt:Date.now()+864e5,user:ek})}}class eT{oauthFlowState=null;oauthStateChangeCallbacks=[];constructor(){this.handleOAuthCode()}async getOAuthFlowState(){return this.oauthFlowState??null}async setOAuthFlowState(e){this.oauthFlowState=e,this.oauthStateChangeCallbacks.forEach(e=>e(this.oauthFlowState))}async addOAuthStateChangeCallback(e){this.oauthStateChangeCallbacks.push(e),e(this.oauthFlowState)}async clearOAuthFlowState(){this.oauthFlowState=null,this.oauthStateChangeCallbacks.forEach(e=>e(null))}async handleOAuthCode(){await (0,v.getPlatformOAuth)()?.cleanupOAuthParams(),await this.setOAuthFlowState({providerType:"google",status:"pending",code:"mock-oauth-code",flowId:"mock-flow-id"}),await t4({code:"mock-oauth-code",providerType:"google",flowId:"mock-flow-id"}),await this.setOAuthFlowState({providerType:"google",status:"success",code:"mock-oauth-code",flowId:"mock-flow-id"})}}let eB="2.33.0",eP={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${eB}`};class eO extends Error{constructor(e,t={}){const r=t.cause instanceof eO?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof eO&&t.cause.docsPath||t.docsPath,i=eP.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...eP.version?[`Version: ${eP.version}`]:[]].join(`
`),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=eB}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}class eR extends eO{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class eC extends eO{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}class eM extends eO{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class eN extends eO{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function eU(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new eN({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new eN({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function eL(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function ej(e){return eL(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function e$(e,{size:t}){if(ej(e)>t)throw new eC({givenSize:ej(e),maxSize:t})}let eF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ez(e,t={}){return"number"==typeof e||"bigint"==typeof e?eq(e,t):"string"==typeof e?function(e,t={}){return eD(eH.encode(e),t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(e$(r,{size:t.size}),eU(r,{size:t.size})):r}(e,t):eD(e,t)}function eD(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=eF[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(e$(n,{size:t.size}),eU(n,{dir:"right",size:t.size})):n}function eq(e,t={}){let r,{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<s){let t="bigint"==typeof e?"n":"";throw new eR({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?eU(a,{size:i}):a}let eH=new TextEncoder,eW=new TextEncoder;function eG(e,t={}){return"number"==typeof e||"bigint"==typeof e?eV(eq(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),"number"==typeof t.size?(e$(r,{size:t.size}),eU(r,{size:t.size})):r}(e,t):eL(e)?eV(e,t):eJ(e,t)}function eK(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function eV(e,t={}){let r=e;t.size&&(e$(r,{size:t.size}),r=eU(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,o=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=eK(n.charCodeAt(t++)),i=eK(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new eO(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);o[e]=16*r+i}return o}function eJ(e,t={}){let r=eW.encode(e);return"number"==typeof t.size?(e$(r,{size:t.size}),eU(r,{dir:"right",size:t.size})):r}function eZ(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>eV(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>eD(e))}function eY(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>eV(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>eV(e)):e.commitments,o=[];for(let e=0;e<n.length;e++){let r=n[e],s=i[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,s)))}return"bytes"===r?o:o.map(e=>eD(e))}function eX(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function eQ(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function e0(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function e1(e,t){eQ(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function e2(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function e6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function e5(e,t){return e<<32-t|e>>>t}let e3=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e};function e8(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),eQ(e),e}class e4{}function e9(e){let t=t=>e().update(e8(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}class e7 extends e4{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=e6(this.buffer)}update(e){e0(this),eQ(e=e8(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=e6(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){e0(this),e1(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,e2(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),u=4*!!n,c=4*!n;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=e6(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=a/4,c=this.get();if(u>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let te=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),tt=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tr=new Uint32Array(64);class tn extends e7{constructor(e=32){super(64,e,8,!1),this.A=0|te[0],this.B=0|te[1],this.C=0|te[2],this.D=0|te[3],this.E=0|te[4],this.F=0|te[5],this.G=0|te[6],this.H=0|te[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tr[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tr[e-15],r=tr[e-2],n=e5(t,7)^e5(t,18)^t>>>3,i=e5(r,17)^e5(r,19)^r>>>10;tr[e]=i+tr[e-7]+n+tr[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let e=0;e<64;e++){var l,f,d,h;let t=c+(e5(s,6)^e5(s,11)^e5(s,25))+((l=s)&a^~l&u)+tt[e]+tr[e]|0,p=(e5(r,2)^e5(r,13)^e5(r,22))+((f=r)&(d=n)^f&(h=i)^d&h)|0;c=u,u=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){e2(tr)}destroy(){this.set(0,0,0,0,0,0,0,0),e2(this.buffer)}}let ti=e9(()=>new tn);class to extends eO{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class ts extends eO{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class ta extends eO{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class tu extends eO{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}class tc extends eO{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class tl extends eO{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class tf extends eO{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}let td={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new tf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new tl({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new tc({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new tc({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function th(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(td);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function tp(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function tm(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}function tg(e,t="hex"){let r=function e(t){var r,n;let i,o,s,a;return Array.isArray(t)?(o=ty(i=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+o+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+o),1===o?e.pushUint8(i):2===o?e.pushUint16(i):3===o?e.pushUint24(i):e.pushUint32(i)),r))t(e)}}):(a=ty((s="string"==typeof(n=t)?eV(n):n).length),{length:1===s.length&&s[0]<128?1:s.length<=55?1+s.length:1+a+s.length,encode(e){1===s.length&&s[0]<128||(s.length<=55?e.pushByte(128+s.length):(e.pushByte(183+a),1===a?e.pushUint8(s.length):2===a?e.pushUint16(s.length):3===a?e.pushUint24(s.length):e.pushUint32(s.length))),e.pushBytes(s)}})}(e),n=th(new Uint8Array(r.length));return r.encode(n),"hex"===t?eD(n.bytes):n.bytes}function ty(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new eO("Length is too large.")}let tb=2n**256n-1n;class tw extends eO{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class tv extends eO{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}let t_={ether:-9,wei:9};function tx(e,t="wei"){return function(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}(e,t_[t])}class tE extends eO{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${tx(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(tE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tS extends eO{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${tx(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${tx(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(tS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class tA extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tk=BigInt(0xffffffff),tI=BigInt(32),tT=BigInt(0),tB=BigInt(1),tP=BigInt(2),tO=BigInt(7),tR=BigInt(256),tC=BigInt(113),tM=[],tN=[],tU=[];for(let e=0,t=tB,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tM.push(2*(5*n+r)),tN.push((e+1)*(e+2)/2%64);let i=tT;for(let e=0;e<7;e++)(t=(t<<tB^(t>>tO)*tC)%tR)&tP&&(i^=tB<<(tB<<BigInt(e))-tB);tU.push(i)}let tL=function(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=function(e,t=!1){return t?{h:Number(e&tk),l:Number(e>>tI&tk)}:{h:0|Number(e>>tI&tk),l:0|Number(e&tk)}}(e[o],t);[n[o],i[o]]=[r,s]}return[n,i]}(tU,!0),tj=tL[0],t$=tL[1],tF=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,tz=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class tD extends e4{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,eX(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}clone(){return this._cloneInto()}keccak(){e3(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=tF(o,s,1)^r[n],u=tz(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tN[r],o=tF(t,i,n),s=tz(t,i,n),a=tM[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tj[n],e[1]^=t$[n]}e2(r)}(this.state32,this.rounds),e3(this.state32),this.posOut=0,this.pos=0}update(e){e0(this),eQ(e=e8(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){e0(this,!1),eQ(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eX(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e1(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,e2(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new tD(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let tq=e9(()=>new tD(136,1,32)),tH=new tA(8192),tW=/^0x[a-fA-F0-9]{40}$/,tG=new tA(8192);function tK(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(tG.has(n))return tG.get(n);let i=!!tW.test(e)&&(e.toLowerCase()===e||!r||function(e,t){var r;if(tH.has(`${e}.undefined`))return tH.get(`${e}.undefined`);let n=e.substring(2).toLowerCase(),i=tq(eL(r=eJ(n),{strict:!1})?eG(r):r),o=n.split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&i[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());let s=`0x${o.join("")}`;return tH.set(`${e}.undefined`,s),s}(e)===e);return tG.set(n,i),i}function tV(e,t,r){if(ej(e)!==r-t)throw new eM({offset:r,position:"end",size:ej(e)})}function tJ(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new tv({chainId:t});if(i&&!tK(i))throw new tw({address:i});if(n&&n>tb)throw new tE({maxFeePerGas:n});if(r&&n&&r>n)throw new tS({maxFeePerGas:n,maxPriorityFeePerGas:r})}class tZ extends eO{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",function(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join(`
`)}(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class tY extends eO{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}function tX(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new tY({storageKey:i[e]});if(!tK(n,{strict:!1}))throw new tw({address:n});t.push([n,i])}return t}function tQ(e,t){let r=function(e){if(e.type)return e.type;if("u">typeof e.authorizationList)return"eip7702";if("u">typeof e.blobs||"u">typeof e.blobVersionedHashes||"u">typeof e.maxFeePerBlobGas||"u">typeof e.sidecars)return"eip4844";if("u">typeof e.maxFeePerGas||"u">typeof e.maxPriorityFeePerGas)return"eip1559";if("u">typeof e.gasPrice)return"u">typeof e.accessList?"eip2930":"legacy";throw new tZ({transaction:e})}(e);return"eip1559"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:c,data:l}=e;tJ(e);let f=tX(c);return tp(["0x02",tg([eq(r),i?eq(i):"0x",u?eq(u):"0x",a?eq(a):"0x",n?eq(n):"0x",o??"0x",s?eq(s):"0x",l??"0x",f,...t0(e,t)])])}(e,t):"eip2930"===r?function(e,t){let{chainId:r,gas:n,data:i,nonce:o,to:s,value:a,accessList:u,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=e;if(t<=0)throw new tv({chainId:t});if(o&&!tK(o))throw new tw({address:o});if(r||i)throw new eO("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>tb)throw new tE({maxFeePerGas:n})}(e);let l=tX(u);return tp(["0x01",tg([eq(r),o?eq(o):"0x",c?eq(c):"0x",n?eq(n):"0x",s??"0x",a?eq(a):"0x",i??"0x",l,...t0(e,t)])])}(e,t):"eip4844"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:f}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new ts;for(let e of t){let t=ej(e),r=function(e,t={}){return Number(function(e,t={}){let{signed:r}=t;t.size&&e$(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}(e,t))}(function(e,t,r,{strict:n}={}){return eL(e,{strict:!1})?function(e,t,r,{strict:n}={}){let i=`0x${e.replace("0x","").slice(0,2)}`;return n&&tV(i,0,1),i}(e,0,1,{strict:n}):function(e,t,r,{strict:n}={}){let i=e.slice(0,1);return n&&tV(i,0,1),i}(e,0,1,{strict:n})}(e,0,0));if(32!==t)throw new ta({hash:e,size:t});if(1!==r)throw new tu({hash:e,version:r})}}tJ(e)}(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>eD(e)),r=e.kzg,n=eZ({blobs:t,kzg:r});if(typeof d>"u"&&(d=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=ti(eL(t,{strict:!1})?eG(t):t);return i.set([r],0),"bytes"===n?i:eD(i)}({commitment:e,to:n,version:r}));return i}({commitments:n})),typeof h>"u"){let e=eY({blobs:t,commitments:n,kzg:r});h=function(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?eV(e.data):e.data,n=ej(r);if(!n)throw new ts;if(n>761855)throw new to({maxSize:761855,size:n});let i=[],o=!0,s=0;for(;o;){let e=th(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(s,s+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),o=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>eD(e.bytes))}({data:t,to:n}),o=e.commitments??eZ({blobs:i,kzg:r,to:n}),s=e.proofs??eY({blobs:i,commitments:o,kzg:r,to:n}),a=[];for(let e=0;e<i.length;e++)a.push({blob:i[e],commitment:o[e],proof:s[e]});return a}({blobs:t,commitments:n,proofs:e})}}let p=tX(l),m=[eq(r),i?eq(i):"0x",c?eq(c):"0x",u?eq(u):"0x",n?eq(n):"0x",o??"0x",s?eq(s):"0x",f??"0x",p,a?eq(a):"0x",d??[],...t0(e,t)],g=[],y=[],b=[];if(h)for(let e=0;e<h.length;e++){let{blob:t,commitment:r,proof:n}=h[e];g.push(t),y.push(r),b.push(n)}return tp(["0x03",h?tg([m,g,y,b]):tg(m)])}(e,t):"eip7702"===r?function(e,t){let{authorizationList:r,chainId:n,gas:i,nonce:o,to:s,value:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:f}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!tK(r))throw new tw({address:r});if(t<0)throw new tv({chainId:t})}tJ(e)}(e);let d=tX(l),h=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{chainId:e,nonce:n,...i}=r,o=r.address;t.push([e?ez(e):"0x",o,n?ez(n):"0x",...t0({},i)])}return t}(r);return tp(["0x04",tg([eq(n),o?eq(o):"0x",c?eq(c):"0x",u?eq(u):"0x",i?eq(i):"0x",s??"0x",a?eq(a):"0x",f??"0x",d,h,...t0(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:n,data:i,nonce:o,to:s,value:a,gasPrice:u}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=e;if(o&&!tK(o))throw new tw({address:o});if("u">typeof t&&t<=0)throw new tv({chainId:t});if(r||i)throw new eO("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>tb)throw new tE({maxFeePerGas:n})}(e);let c=[o?eq(o):"0x",u?eq(u):"0x",n?eq(n):"0x",s??"0x",a?eq(a):"0x",i??"0x"];return r>0&&(c=[...c,eq(r),"0x","0x"]),tg(c)}(e)}function t0(e,t){let r=t??e,{v:n,yParity:i}=r;if(typeof r.r>"u"||typeof r.s>"u"||typeof n>"u"&&typeof i>"u")return[];let o=tm(r.r),s=tm(r.s);return["number"==typeof i?i?eq(1):"0x":0n===n?"0x":1n===n?eq(1):27n===n?"0x":eq(1),"0x00"===o?"0x":o,"0x00"===s?"0x":s]}let t1=async e=>{let t,r;if(!e.projectId)throw Error("Project ID is required");void 0===e.disableAnalytics||!1===e.disableAnalytics?(w.Analytics.identifier=e.projectId,w.Analytics.isUsingMocks=!0===e.useMock,w.Analytics.isProduction=!e.basePath||"https://api.cdp.coinbase.com/platform"===e.basePath):w.Analytics.enabled=!1;try{t=ep().projectId!==e.projectId}catch{t=!0}if(ef=e,ep().useMock){em(new eI(ep().projectId)),ey(new eT);return}try{let e=(0,v.getPlatformServices)();r=e.secureStorage?{getRefreshToken:()=>e.secureStorage.getItem("cdp_refresh_token"),setRefreshToken:t=>e.secureStorage.setItem("cdp_refresh_token",t),removeRefreshToken:()=>e.secureStorage.removeItem("cdp_refresh_token")}:{getRefreshToken:()=>e.storage.getItem("cdp_refresh_token"),setRefreshToken:t=>e.storage.setItem("cdp_refresh_token",t),removeRefreshToken:()=>e.storage.removeItem("cdp_refresh_token")}}catch{r=void 0}if((0,k.configureCdpApiClient)({debugging:ep().debugging,basePath:ep().basePath,refreshTokenStorage:r}),t){var n;ey(new ex);let e=(n=ep().projectId,ep().customAuth?.getJwt?new e_(n):new ew(n));em(e),(0,k.setAuthManager)(e)}await eg().ensureInitialized()},t2=async e=>(w.Analytics.sendActionCallEvent({name:"sign_in_with_email"}),rh({email:e.email,type:"email"})),t6=async e=>(w.Analytics.sendActionCallEvent({name:"sign_in_with_sms"}),rh({phoneNumber:e.phoneNumber,type:"sms"})),t5=async e=>{w.Analytics.sendActionCallEvent({name:"sign_in_with_oauth"});let t=(0,v.getPlatformServices)().oauth.getRedirectUrl();if(ep().useMock){let r=new URL(t);r.searchParams.set("code","mock-oauth-code"),r.searchParams.set("provider_type",e),r.searchParams.set("flow_id","mock-flow-id"),(0,v.getPlatformServices)().oauth.initiateOAuthFlow(r.toString());return}let{authUrl:r}=await rh({redirectUrl:t,type:e});(0,v.getPlatformServices)().oauth.initiateOAuthFlow(r)},t3=async e=>(w.Analytics.sendActionCallEvent({name:"verify_email_otp"}),rp(e,"Mock email OTP verified",(e,t)=>(0,I.verifyEmailAuthentication)(e,t))),t8=async e=>(w.Analytics.sendActionCallEvent({name:"verify_sms_otp"}),rp(e,"Mock SMS OTP verified",(e,t)=>(0,I.verifySmsAuthentication)(e,t))),t4=async e=>(w.Analytics.sendActionCallEvent({name:"verify_oauth"}),rp(e,"Mock OAuth code verified",(e,t)=>(0,I.verifyOAuthCode)(e,t.providerType,t))),t9=async()=>{let e;w.Analytics.sendActionCallEvent({name:"authenticate_with_jwt"});let t=ep();if(!t.customAuth?.getJwt)throw new ev("customAuth.getJwt callback not configured. Please provide customAuth with getJwt in initialize() config.");try{e=await t.customAuth.getJwt()}catch(e){throw new ev(e instanceof Error?e.message:"Failed to get custom auth JWT")}if(!e)throw new ev("customAuth.getJwt returned null or undefined");if(t.useMock)return await eg().setAuthState({accessToken:e,expiresAt:Date.now()+864e5,user:ek}),{message:"Mock JWT authentication successful",user:ek,isNewUser:!1};let r=await (0,I.authenticateUserWithCustomAuth)(ep().projectId),n=new Date(Date.now()+36e5).toISOString(),i=eu(e,n,r.endUser);return await eg().setAuthState(i),t.ethereum?.createOnLogin&&(i=await rm(i,e,n,t.ethereum.createOnLogin)),t.solana?.createOnLogin&&(i=await rg(i,e,n)),{message:"Authentication successful",user:eg().getUser(),isNewUser:r.isNewEndUser}},t7=async()=>{if(w.Analytics.sendActionCallEvent({name:"sign_out"}),ep().useMock)return void await eg().signOut();if(!await eg().isSignedIn())throw Error("User not signed in");await eg().signOut()},re=async(e={forceRefresh:!1})=>(w.Analytics.sendActionCallEvent({name:"get_access_token"}),eg().getToken(e)),rt=async e=>(w.Analytics.sendActionCallEvent({name:"sign_evm_hash"}),ep().useMock?{signature:"0x0"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({signature:(await (0,I.signEvmHashWithEndUserAccount)(ep().projectId,t.userId,{hash:e.hash,address:e.evmAccount,walletSecretId:r})).signature}))),rr=async e=>(w.Analytics.sendActionCallEvent({name:"sign_evm_transaction"}),ep().useMock?{signedTransaction:"0x0"}:eS(e,eg(),async({user:t,walletSecretId:r})=>{let n=tQ(e.transaction);return{signedTransaction:(await (0,I.signEvmTransactionWithEndUserAccount)(ep().projectId,t.userId,{transaction:n,address:e.evmAccount,walletSecretId:r})).signedTransaction}})),rn=async e=>(w.Analytics.sendActionCallEvent({name:"sign_solana_transaction"}),ep().useMock?{signedTransaction:"mock-signed-transaction"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({signedTransaction:(await (0,I.signSolanaTransactionWithEndUserAccount)(ep().projectId,t.userId,{transaction:e.transaction,address:e.solanaAccount,walletSecretId:r})).signedTransaction}))),ri=async e=>{let t;if(w.Analytics.sendActionCallEvent({name:"send_evm_transaction"}),t=e.network,!Object.values(ec.SendEvmTransactionWithEndUserAccountBodyNetwork).includes(t))throw Error(`Chain ${e.network} is not supported by the CDP Apis`);if(ep().useMock)return{transactionHash:"0x0"};let r=tQ(e.transaction);return eS(e,eg(),async({user:t,walletSecretId:n})=>({transactionHash:(await (0,I.sendEvmTransactionWithEndUserAccount)(ep().projectId,t.userId,{transaction:r,address:e.evmAccount,walletSecretId:n,network:e.network})).transactionHash}))},ro=async e=>(w.Analytics.sendActionCallEvent({name:"send_solana_transaction"}),ep().useMock?{transactionSignature:"mock-signature"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({transactionSignature:(await (0,I.sendSolanaTransactionWithEndUserAccount)(ep().projectId,t.userId,{transaction:e.transaction,address:e.solanaAccount,walletSecretId:r,network:e.network})).transactionSignature}))),rs=async e=>(w.Analytics.sendActionCallEvent({name:"sign_evm_message"}),ep().useMock?{signature:"0x0"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({signature:(await (0,I.signEvmMessageWithEndUserAccount)(ep().projectId,t.userId,{message:e.message,address:e.evmAccount,walletSecretId:r})).signature}))),ra=async e=>(w.Analytics.sendActionCallEvent({name:"sign_solana_message"}),ep().useMock?{signature:"mockSignature"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({signature:(await (0,I.signSolanaMessageWithEndUserAccount)(ep().projectId,t.userId,{message:e.message,address:e.solanaAccount,walletSecretId:r})).signature}))),ru=async e=>(w.Analytics.sendActionCallEvent({name:"sign_evm_typed_data"}),ep().useMock?{signature:"0x0"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({signature:(await (0,I.signEvmTypedDataWithEndUserAccount)(ep().projectId,t.userId,{typedData:e.typedData,address:e.evmAccount,walletSecretId:r})).signature}))),rc=async e=>(w.Analytics.sendActionCallEvent({name:"send_user_operation"}),ep().useMock?{userOperationHash:"0x1234567890123456789012345678901234567890123456789012345678901234"}:eS(e,eg(),async({user:t,walletSecretId:r})=>({userOperationHash:(await (0,I.sendUserOperationWithEndUserAccount)(ep().projectId,t.userId,e.evmSmartAccount,{network:e.network,calls:e.calls.map(e=>({to:e.to,value:String(e.value??0n),data:e.data??"0x"})),walletSecretId:r,useCdpPaymaster:e.useCdpPaymaster??!1,paymasterUrl:e.paymasterUrl,dataSuffix:e.dataSuffix})).userOpHash}))),rl=async e=>(w.Analytics.sendActionCallEvent({name:"get_user_operation"}),ep().useMock?{userOpHash:e.userOperationHash,network:e.network,calls:[{to:"0x1234567890123456789012345678901234567890",value:"0",data:"0x"}],status:"complete",transactionHash:"0x9876543210987654321098765432109876543210987654321098765432109876",receipts:[]}:eS(e,eg(),async({user:t})=>await (0,I.getUserOperationWithEndUserAccount)(ep().projectId,t.userId,e.evmSmartAccount,e.userOperationHash))),rf=async e=>{if(w.Analytics.sendActionCallEvent({name:"export_evm_account"}),ep().useMock)return{privateKey:A.b.Buffer.from("mock-private-key").toString("hex")};let t=(0,v.getPlatformCrypto)(),r=await t.createExportKeyPair();return eS(e,eg(),async({user:n,walletSecretId:i})=>{let o=await (0,I.exportEndUserEvmAccount)(ep().projectId,n.userId,{address:e.evmAccount,walletSecretId:i,exportEncryptionKey:r.publicKeyBase64}),s=await t.decryptWithPrivateKey(r.privateKey,o.encryptedPrivateKey);return{privateKey:A.b.Buffer.from(s).toString("hex")}})},rd=async e=>{if(w.Analytics.sendActionCallEvent({name:"export_solana_account"}),ep().useMock){let e=A.b.Buffer.from("mock-private-key").subarray(0,32),t=A.b.Buffer.alloc(32);e.copy(t);let r=T.Keypair.fromSeed(t),n=A.b.Buffer.concat([r.secretKey.subarray(0,32),r.publicKey.toBytes()]);return{privateKey:B.encode(n)}}let t=(0,v.getPlatformCrypto)(),r=await t.createExportKeyPair();return eS(e,eg(),async({user:n,walletSecretId:i})=>{let o=await (0,I.exportEndUserSolanaAccount)(ep().projectId,n.userId,{address:e.solanaAccount,walletSecretId:i,exportEncryptionKey:r.publicKeyBase64}),s=await t.decryptWithPrivateKey(r.privateKey,o.encryptedPrivateKey),a=T.Keypair.fromSeed(new Uint8Array(s)),u=A.b.Buffer.concat([a.secretKey.subarray(0,32),a.publicKey.toBytes()]);return{privateKey:B.encode(u)}})},rh=async e=>{if(ep().useMock)return"redirectUrl"in e?{authUrl:"mock-auth-url",flowId:"mock-flow-id"}:{message:"Mock sign in initiated",flowId:"mock-flow-id"};if(await eg().isSignedIn())throw Error("User is already authenticated. Please sign out first.");let t=await (0,I.initiateAuthentication)(ep().projectId,e);return"authUrl"in t?{flowId:t.flowId,authUrl:t.authUrl}:{flowId:t.flowId,message:"message"in t?t.message:""}},rp=async(e,t,r)=>{if(ep().useMock)return await eg().setAuthState({accessToken:"mock-access-token",expiresAt:Date.now()+864e5,user:ek}),{message:t,user:ek,isNewUser:!1};let n=await r(ep().projectId,e),i=eu(n.accessToken,n.validUntil,n.endUser);await eg().setAuthState(i);let o=ep();o.ethereum?.createOnLogin&&(i=await rm(i,n.accessToken,n.validUntil,o.ethereum.createOnLogin)),o.solana?.createOnLogin&&(i=await rg(i,n.accessToken,n.validUntil));let s=eg().getUser();return{message:n.message,user:s,isNewUser:n.isNewEndUser}},rm=async(e,t,r,n)=>{let i=e;if(!e.user.evmAccountObjects||0===e.user.evmAccountObjects.length)try{let o=await eg().getWalletSecretId(),s=await (0,I.createEndUserEvmAccount)(ep().projectId,e.user.userId,{walletSecretId:o}),a=!1,u=ep().ethereum;if(u?.createOnLogin==="smart"&&(a=u.enableSpendPermissions??!1),"smart"===n){let t=s.evmAccountObjects?.[0]?.address;if(!t)throw Error("No EVM account found to use as owner for smart account");s=await (0,I.createEndUserEvmSmartAccount)(ep().projectId,e.user.userId,{owner:t,enableSpendPermissions:a})}i=eu(t,r,s),await eg().setAuthState(i)}catch(e){throw Error(`Failed to create EVM account: ${e}`)}if("smart"===n&&(!i.user.evmSmartAccountObjects||0===i.user.evmSmartAccountObjects.length))try{let e=i.user.evmAccountObjects[0]?.address,n=await (0,I.createEndUserEvmSmartAccount)(ep().projectId,i.user.userId,{owner:e,enableSpendPermissions:!1});i=eu(t,r,n),await eg().setAuthState(i)}catch(e){throw Error(`Failed to create EVM Smart Account: ${e}`)}return i},rg=async(e,t,r)=>{let n=e;if(!e.user.solanaAccountObjects||0===e.user.solanaAccountObjects.length)try{let i=await eg().getWalletSecretId(),o=await (0,I.createEndUserSolanaAccount)(ep().projectId,e.user.userId,{walletSecretId:i});n=eu(t,r,o),await eg().setAuthState(n)}catch(e){throw Error(`Failed to create Solana account: ${e}`)}return n};class ry extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let rb="2.43.1",rw={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${rb}`};class rv extends Error{constructor(e,t={}){const r=t.cause instanceof rv?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof rv&&t.cause.docsPath||t.docsPath,i=rw.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...rw.version?[`Version: ${rw.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=rb}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}class r_ extends rv{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}function rx(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class rE extends rv{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class rS extends rv{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class rA extends rv{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function rk(e,{dir:t,size:r=32}={}){return"string"==typeof e?rI(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new rS({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function rI(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new rS({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}class rT extends rv{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class rB extends rv{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class rP extends rv{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function rO(e){return rx(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function rR(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===t?e:r.length-e-1].toString())n++;else break;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}function rC(e,{size:t}){if(rO(e)>t)throw new rP({givenSize:rO(e),maxSize:t})}function rM(e,t={}){let{signed:r}=t;t.size&&rC(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function rN(e,t={}){return Number(rM(e,t))}let rU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rL(e,t={}){return"number"==typeof e||"bigint"==typeof e?rF(e,t):"string"==typeof e?rD(e,t):"boolean"==typeof e?rj(e,t):r$(e,t)}function rj(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(rC(r,{size:t.size}),rk(r,{size:t.size})):r}function r$(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=rU[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(rC(n,{size:t.size}),rk(n,{dir:"right",size:t.size})):n}function rF(e,t={}){let r,{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<s){let t="bigint"==typeof e?"n":"";throw new rT({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?rk(a,{size:i}):a}let rz=new TextEncoder;function rD(e,t={}){return r$(rz.encode(e),t)}let rq=new TextEncoder;function rH(e,t={}){return"number"==typeof e||"bigint"==typeof e?rG(rF(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(rC(r,{size:t.size}),rk(r,{size:t.size})):r}(e,t):rx(e)?rG(e,t):rK(e,t)}function rW(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function rG(e,t={}){let r=e;t.size&&(rC(r,{size:t.size}),r=rk(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,o=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=rW(n.charCodeAt(t++)),i=rW(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new rv(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);o[e]=16*r+i}return o}function rK(e,t={}){let r=rq.encode(e);return"number"==typeof t.size?(rC(r,{size:t.size}),rk(r,{dir:"right",size:t.size})):r}var rV=e.i(56819);function rJ(e,t){let r=(0,rV.keccak_256)(rx(e,{strict:!1})?rH(e):e);return"bytes"===(t||"hex")?r:rL(r)}let rZ=new ry(8192);function rY(e,t){if(rZ.has(`${e}.${t}`))return rZ.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=rJ(rK(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let o=`0x${i.join("")}`;return rZ.set(`${e}.${t}`,o),o}let rX=/^0x[a-fA-F0-9]{40}$/,rQ=new ry(8192);function r0(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(rQ.has(n))return rQ.get(n);let i=!!rX.test(e)&&(e.toLowerCase()===e||!r||rY(e)===e);return rQ.set(n,i),i}e.i(9123),e.i(6307),e.i(16527);var r1=((n=r1||{})[n.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",n[n.READONLY_SIGNER=2]="READONLY_SIGNER",n[n.WRITABLE=1]="WRITABLE",n[n.READONLY=0]="READONLY",n);function r2(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new no(e.type);return`${e.name}(${r6(e.inputs,{includeName:t})})`}function r6(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${r6(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}Symbol("AddressMapTypeProperty"),Object.freeze({name:"Ed25519"}),e.i(67526);class r5 extends rv{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${r6(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class r3 extends rv{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class r8 extends rv{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class r4 extends rv{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${rO(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class r9 extends rv{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class r7 extends rv{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class ne extends rv{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class nt extends rv{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${r2(e.abiItem)}\`, and`,`\`${t.type}\` in \`${r2(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class nr extends rv{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class nn extends rv{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class ni extends rv{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class no extends rv{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}function ns(e){return"string"==typeof e[0]?na(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function na(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function nu(e,t,r,{strict:n}={}){return rx(e,{strict:!1})?function(e,t,r,{strict:n}={}){nc(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&nl(i,t,r),i}(e,t,r,{strict:n}):nf(e,t,r,{strict:n})}function nc(e,t){if("number"==typeof t&&t>0&&t>rO(e)-1)throw new rE({offset:t,position:"start",size:rO(e)})}function nl(e,t,r){if("number"==typeof t&&"number"==typeof r&&rO(e)!==r-t)throw new rE({offset:r,position:"end",size:rO(e)})}function nf(e,t,r,{strict:n}={}){nc(e,t);let i=e.slice(t,r);return n&&nl(i,t,r),i}let nd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function nh(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=rO(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push(rF(t+i,{size:32})),n.push(a),i+=rO(a)):r.push(a)}return ns([...r,...n])}function np(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}let nm=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r),ng=/^tuple(?<array>(\[(\d*)\])*)$/;function ny(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(ng.test(t.type)&&"components"in t){var n;let i;r="(";let o=t.components.length;for(let n=0;n<o;n++)r+=e(t.components[n]),n<o-1&&(r+=", ");let s=(n=t.type,i=ng.exec(n),i?.groups);return r+=`)${s?.array||""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}function nb(e){return rJ(rH(function(e){let t=!0,r="",n=0,i="",o=!1;for(let s=0;s<e.length;s++){let a=e[s];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){o=!0;break}continue}if(" "===a){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=a,r+=a}}if(!o)throw new rv("Unable to normalize signature.");return i}((()=>"string"==typeof e?e:"function"===e.type?`function ${e.name}(${ny(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${ny(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${ny(e.inputs)})`:"error"===e.type?`error ${e.name}(${ny(e.inputs)})`:"constructor"===e.type?`constructor(${ny(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable")())))}let nw=e=>nu(nb(e),0,4);function nv(e){let t,{abi:r,args:n=[],name:i}=e,o=rx(i,{strict:!1}),s=r.filter(e=>o?"function"===e.type?nw(e)===i:"event"===e.type&&nb(e)===i:"name"in e&&e.name===i);if(0!==s.length){if(1===s.length)return s[0];for(let e of s){if("inputs"in e){if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return r0(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let o=t[i],s=r[i];if("tuple"===o.type&&"tuple"===s.type&&"components"in o&&"components"in s)return e(o.components,s.components,n[i]);let a=[o.type,s.type];if(a.includes("address")&&a.includes("bytes20")||(a.includes("address")&&a.includes("string")||a.includes("address")&&a.includes("bytes"))&&r0(n[i],{strict:!1}))return a}}(e.inputs,t.inputs,n);if(r)throw new nt({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}}return t||s[0]}}let n_="/docs/contract/encodeFunctionData";async function nx(e){if(w.Analytics.sendActionCallEvent({name:"link_sms"}),!await eg().isSignedIn())throw Error("User must be signed in to link a phone number");let t=await (0,I.initiateAuthentication)(ep().projectId,{phoneNumber:e,type:"sms"});return{flowId:t.flowId,message:"message"in t?t.message:""}}async function nE(e){if(w.Analytics.sendActionCallEvent({name:"link_email"}),!await eg().isSignedIn())throw Error("User must be signed in to link an email");let t=await (0,I.initiateAuthentication)(ep().projectId,{email:e,type:"email"});return{flowId:t.flowId,message:"message"in t?t.message:""}}w.Analytics.registerPackageVersion("core",S.VERSION);var nS={exports:{}};d||(d=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var a=new i(n,o||e,s),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,s),!0}for(c=1,u=Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(d=1,u=Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==t||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(nS)),nS.exports;class nA extends Error{constructor(e){const{cause:t,code:r,message:n,data:i}=e;super(n,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t,this.code=r,this.data=i}}class nk extends nA{constructor(e={}){super({code:nk.code,data:e.data,message:e.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(nk,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class nI extends nA{constructor(e={}){super({code:nI.code,data:e.data,message:e.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(nI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class nT extends nA{constructor(e={}){super({code:nT.code,data:e.data,message:e.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(nT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class nB extends nA{constructor(e={}){super({code:nB.code,data:e.data,message:e.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(nB,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class nP extends nA{constructor(e={}){super({code:nP.code,data:e.data,message:e.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(nP,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class nO extends nA{constructor(e={}){super({code:nO.code,data:e.data,message:e.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(nO,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nR extends nA{constructor(e={}){super({code:nR.code,data:e.data,message:e.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(nR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class nC extends nA{constructor(e={}){super({code:nC.code,data:e.data,message:e.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(nC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class nM extends nA{constructor(e={}){super({code:nM.code,data:e.data,message:e.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(nM,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class nN extends nA{constructor(e={}){super({code:nN.code,data:e.data,message:e.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(nN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class nU extends nA{constructor(e={}){super({cause:e.cause,code:nU.code,data:e.data,message:e.message??"Internal JSON-RPC error."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}}Object.defineProperty(nU,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class nL extends nA{constructor(e={}){super({code:nL.code,data:e.data,message:e.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(nL,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class nj extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}function n$(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}Object.defineProperty(class extends nj{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(class extends nj{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(class extends nj{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(class extends nj{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(class extends nj{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(class extends nj{constructor({message:e="An error occurred when attempting to switch chain."}={}){super(4902,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(class extends nj{constructor({message:e="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(class extends nj{constructor({message:e="This Wallet does not support the requested chain ID."}={}){super(5710,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(class extends nj{constructor({message:e="There is already a bundle submitted with this ID."}={}){super(5720,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(class extends nj{constructor({message:e="This bundle id is unknown / has not been submitted."}={}){super(5730,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(class extends nj{constructor({message:e="The call bundle is too large for the Wallet to process."}={}){super(5740,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(class extends nj{constructor({message:e="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(class extends nj{constructor({message:e="The wallet does not support atomic execution but the request requires it."}={}){super(5760,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}},"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let nF={gwei:9,wei:18},nz={ether:-9,wei:9};function nD(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}function nq(e,t="wei"){return nD(e,nz[t])}class nH extends rv{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class nW extends rv{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class nG extends rv{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${nq(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class nK extends rv{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(nK,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(nK,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class nV extends rv{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${nq(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(nV,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class nJ extends rv{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${nq(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(nJ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class nZ extends rv{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(nZ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class nY extends rv{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(nY,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class nX extends rv{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(nX,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class nQ extends rv{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(nQ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class n0 extends rv{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(n0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class n1 extends rv{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(n1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class n2 extends rv{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(n2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class n6 extends rv{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${nq(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${nq(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(n6,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class n5 extends rv{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function n3(e,t="wei"){return nD(e,nF[t])}function n8(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class n4 extends rv{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",n8(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class n9 extends rv{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:o,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:c,to:l,value:f}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",n8({chain:n&&`${n?.name} (id: ${n?.id})`,from:t?.address,to:l,value:void 0!==f&&`${n3(f)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==s&&`${nq(s)} gwei`,maxFeePerGas:void 0!==a&&`${nq(a)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${nq(u)} gwei`,nonce:c})].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class n7 extends rv{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${r}`,`Request body: ${nm(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class ie extends rv{constructor(e,{code:t,docsPath:r,metaMessages:n,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof n7?e.code:t??-1}}class it extends ie{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class ir extends ie{constructor(e){super(e,{code:ir.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ii extends ie{constructor(e){super(e,{code:ii.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class io extends ie{constructor(e,{method:t}={}){super(e,{code:io.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class is extends ie{constructor(e){super(e,{code:is.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(is,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ia extends ie{constructor(e){super(e,{code:ia.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class iu extends ie{constructor(e){super(e,{code:iu.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(iu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ic extends ie{constructor(e){super(e,{code:ic.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class il extends ie{constructor(e){super(e,{code:il.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(il,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class id extends ie{constructor(e){super(e,{code:id.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(id,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ih extends ie{constructor(e,{method:t}={}){super(e,{code:ih.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(ih,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ip extends ie{constructor(e){super(e,{code:ip.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class im extends ie{constructor(e){super(e,{code:im.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ig extends it{constructor(e){super(e,{code:ig.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class iy extends it{constructor(e){super(e,{code:iy.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(iy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ib extends it{constructor(e,{method:t}={}){super(e,{code:ib.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(ib,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class iw extends it{constructor(e){super(e,{code:iw.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(iw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class iv extends it{constructor(e){super(e,{code:iv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(iv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class i_ extends it{constructor(e){super(e,{code:i_.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(i_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ix extends it{constructor(e){super(e,{code:ix.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ix,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class iE extends it{constructor(e){super(e,{code:iE.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(iE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class iS extends it{constructor(e){super(e,{code:iS.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(iS,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class iA extends it{constructor(e){super(e,{code:iA.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(iA,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ik extends it{constructor(e){super(e,{code:ik.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ik,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class iI extends it{constructor(e){super(e,{code:iI.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(iI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class iT extends it{constructor(e){super(e,{code:iT.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}function iB(e,t){let r=(e.details||"").toLowerCase(),n=e instanceof rv?e.walk(e=>e?.code===nK.code):e;return n instanceof rv?new nK({cause:e,message:n.details}):nK.nodeMessage.test(r)?new nK({cause:e,message:e.details}):nV.nodeMessage.test(r)?new nV({cause:e,maxFeePerGas:t?.maxFeePerGas}):nJ.nodeMessage.test(r)?new nJ({cause:e,maxFeePerGas:t?.maxFeePerGas}):nZ.nodeMessage.test(r)?new nZ({cause:e,nonce:t?.nonce}):nY.nodeMessage.test(r)?new nY({cause:e,nonce:t?.nonce}):nX.nodeMessage.test(r)?new nX({cause:e,nonce:t?.nonce}):nQ.nodeMessage.test(r)?new nQ({cause:e}):n0.nodeMessage.test(r)?new n0({cause:e,gas:t?.gas}):n1.nodeMessage.test(r)?new n1({cause:e,gas:t?.gas}):n2.nodeMessage.test(r)?new n2({cause:e}):n6.nodeMessage.test(r)?new n6({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new n5({cause:e})}function iP(e,{docsPath:t,...r}){let n;return new n9((n=iB(e,r))instanceof n5?e:n,{docsPath:t,...r})}function iO(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}Object.defineProperty(iT,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let iR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function iC(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?rN(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?rN(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?iR[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return+(r.v%2n===0n)}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}let iM={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function iN(e,t){let r={};return void 0!==e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?rF(BigInt(e.r)):e.r,s:e.s?rF(BigInt(e.s)):e.s,chainId:rF(e.chainId),nonce:rF(e.nonce),...void 0!==e.yParity?{yParity:rF(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:rF(e.v)}:{}}))),void 0!==e.accessList&&(r.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map(e=>r$(e)):r.blobs=e.blobs),void 0!==e.data&&(r.data=e.data),e.account&&(r.from=e.account.address),void 0!==e.from&&(r.from=e.from),void 0!==e.gas&&(r.gas=rF(e.gas)),void 0!==e.gasPrice&&(r.gasPrice=rF(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(r.maxFeePerBlobGas=rF(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=rF(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=rF(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=rF(e.nonce)),void 0!==e.to&&(r.to=e.to),void 0!==e.type&&(r.type=iM[e.type]),void 0!==e.value&&(r.value=rF(e.value)),r}function iU(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}let iL=2n**256n-1n;function ij(e){let{account:t,maxFeePerGas:r,maxPriorityFeePerGas:n,to:i}=e,o=t?n$(t):void 0;if(o&&!r0(o.address))throw new r_({address:o.address});if(i&&!r0(i))throw new r_({address:i});if(r&&r>iL)throw new nV({maxFeePerGas:r});if(n&&r&&n>r)throw new n6({maxFeePerGas:r,maxPriorityFeePerGas:n})}class i$ extends rv{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function iF(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:i}={}){let o=i??!1,s=void 0!==r?rF(r):void 0,a=null;if(!(a=t?await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[s||n,o]},{dedupe:!!s})))throw new i$({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||function(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:iC(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}})(a,"getBlock")}async function iz(e){return rN(await e.request({method:"eth_chainId"},{dedupe:!0}))}async function iD(e,t){let{account:r=e.account,accessList:n,authorizationList:i,chain:o=e.chain,blobVersionedHashes:s,blobs:a,data:u,gas:c,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,nonceManager:m,to:g,type:y,value:b,...w}=t,v=await (async()=>{if(!r||!m||void 0!==p)return p;let t=n$(r),n=o?o.id:await iU(e,iz,"getChainId")({});return await m.consume({address:t.address,chainId:n,client:e})})();ij(t);let _=o?.formatters?.transactionRequest?.format,x=(_||iN)({...iO(w,{format:_}),account:r?n$(r):void 0,accessList:n,authorizationList:i,blobs:a,blobVersionedHashes:s,data:u,gas:c,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:v,to:g,type:y,value:b},"fillTransaction");try{let r=await e.request({method:"eth_fillTransaction",params:[x]}),n=(o?.formatters?.transaction?.format||iC)(r.tx);delete n.blockHash,delete n.blockNumber,delete n.r,delete n.s,delete n.transactionIndex,delete n.v,delete n.yParity,n.data=n.input,n.gas&&(n.gas=t.gas??n.gas),n.gasPrice&&(n.gasPrice=t.gasPrice??n.gasPrice),n.maxFeePerBlobGas&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas??n.maxFeePerBlobGas),n.maxFeePerGas&&(n.maxFeePerGas=t.maxFeePerGas??n.maxFeePerGas),n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas??n.maxPriorityFeePerGas),n.nonce&&(n.nonce=t.nonce??n.nonce);let i=await (async()=>{if("function"==typeof o?.fees?.baseFeeMultiplier){let r=await iU(e,iF,"getBlock")({});return o.fees.baseFeeMultiplier({block:r,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(i<1)throw new nH;let s=i.toString().split(".")[1]?.length??0,a=10**s,u=e=>e*BigInt(Math.ceil(i*a))/BigInt(a);return n.maxFeePerGas&&!t.maxFeePerGas&&(n.maxFeePerGas=u(n.maxFeePerGas)),n.gasPrice&&!t.gasPrice&&(n.gasPrice=u(n.gasPrice)),{raw:r.raw,transaction:{from:x.from,...n}}}catch(r){throw iP(r,{...t,chain:e.chain})}}class iq extends rv{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class iH extends rv{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}async function iW({hash:t,signature:r}){let n=rx(t)?t:rL(t),{secp256k1:i}=await e.A(42471),o=(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:n,yParity:o}=r,s=iG(Number(o??n));return new i.Signature(rM(e),rM(t)).addRecoveryBit(s)}let e=rx(r)?r:rL(r);if(65!==rO(e))throw Error("invalid signature length");let t=iG(rN(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${o}`}function iG(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function iK({hash:e,signature:t}){var r;let n;return r=await iW({hash:e,signature:t}),n=rJ(`0x${r.substring(4)}`).substring(26),rY(`0x${n}`)}class iV extends rv{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class iJ extends rv{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class iZ extends rv{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}let iY={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new iZ({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new iJ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new iV({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new iV({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function iX(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(iY);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function iQ(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new rv("Length is too large.")}async function i0(e){let{authorization:t,signature:r}=e;return iK({hash:function(e){let{chainId:t,nonce:r,to:n}=e,i=e.contractAddress??e.address,o=rJ(na(["0x05",function(e,t="hex"){let r=function e(t){var r,n;let i,o,s,a;return Array.isArray(t)?(o=iQ(i=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+o+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+o),1===o?e.pushUint8(i):2===o?e.pushUint16(i):3===o?e.pushUint24(i):e.pushUint32(i)),r))t(e)}}):(a=iQ((s="string"==typeof(n=t)?rG(n):n).length),{length:1===s.length&&s[0]<128?1:s.length<=55?1+s.length:1+a+s.length,encode(e){1===s.length&&s[0]<128||(s.length<=55?e.pushByte(128+s.length):(e.pushByte(183+a),1===a?e.pushUint8(s.length):2===a?e.pushUint16(s.length):3===a?e.pushUint24(s.length):e.pushUint32(s.length))),e.pushBytes(s)}})}(e),n=iX(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?r$(n.bytes):n.bytes}([t?rF(t):"0x",i,r?rF(r):"0x"])]));return"bytes"===n?rG(o):o}(t),signature:r??t})}class i1 extends rv{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class i2 extends rv{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}async function i6(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function i5(e,t){let{block:r,chain:n=e.chain,request:i}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await iU(e,iF,"getBlock")({}),o=await t({block:n,client:e,request:i});if(null===o)throw Error();return o}if(void 0!==t)return t;let o=await e.request({method:"eth_maxPriorityFeePerGas"});return rM(o)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):iU(e,iF,"getBlock")({}),iU(e,i6,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new nW;let i=n-t.baseFeePerGas;if(i<0n)return 0n;return i}}async function i3(e,t){let{block:r,chain:n=e.chain,request:i,type:o="eip1559"}=t||{},s=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new nH;let a=s.toString().split(".")[1]?.length??0,u=10**a,c=e=>e*BigInt(Math.ceil(s*u))/BigInt(u),l=r||await iU(e,iF,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:i,type:o});if(null!==t)return t}if("eip1559"===o){if("bigint"!=typeof l.baseFeePerGas)throw new nW;let t="bigint"==typeof i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await i5(e,{block:l,chain:n,request:i}),r=c(l.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:i?.gasPrice??c(await iU(e,i6,"getGasPrice")({}))}}class i8 extends rv{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:o,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:c,to:l,value:f}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",n8({from:t?.address,to:l,value:void 0!==f&&`${n3(f)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==s&&`${nq(s)} gwei`,maxFeePerGas:void 0!==a&&`${nq(a)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${nq(u)} gwei`,nonce:c})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class i4 extends rv{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class i9 extends rv{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function i7(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new rA({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new rA({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}async function oe(e,t){let{account:r=e.account,prepare:n=!0}=t,i=r?n$(r):void 0,o=Array.isArray(n)?n:i?.type!=="local"?["blobVersionedHashes"]:void 0;try{let r=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await i0({authorization:t.authorizationList[0]}).catch(()=>{throw new rv("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:s,authorizationList:a,blobs:u,blobVersionedHashes:c,blockNumber:l,blockTag:f,data:d,gas:h,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:b,value:w,stateOverride:v,..._}=n?await ol(e,{...t,parameters:o,to:r}):t;if(h&&t.gas!==h)return h;let x=("bigint"==typeof l?rF(l):void 0)||f,E=function(e){if(!e)return;let t={};for(let{address:r,...n}of e){if(!r0(r,{strict:!1}))throw new r_({address:r});if(t[r])throw new i4({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:o}=e,s={};if(void 0!==o&&(s.code=o),void 0!==t&&(s.balance=rF(t)),void 0!==r&&(s.nonce=rF(r)),void 0!==n&&(s.state=i7(n)),void 0!==i){if(s.state)throw new i9;s.stateDiff=i7(i)}return s}(n)}return t}(v);ij(t);let S=e.chain?.formatters?.transactionRequest?.format,A=(S||iN)({...iO(_,{format:S}),account:i,accessList:s,authorizationList:a,blobs:u,blobVersionedHashes:c,data:d,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:b,to:r,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:E?[A,x??e.experimental_blockTag??"latest",E]:x?[A,x]:[A]}))}catch(r){throw function(e,{docsPath:t,...r}){let n;return new i8((n=iB(e,r))instanceof n5?e:n,{docsPath:t,...r})}(r,{...t,account:i,chain:e.chain})}}async function ot(e,{address:t,blockTag:r="latest",blockNumber:n}){return rN(await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?rF(n):r]},{dedupe:!!n}))}function or(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>rG(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>r$(e))}function on(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>rG(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>rG(e)):e.commitments,o=[];for(let e=0;e<n.length;e++){let r=n[e],s=i[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,s)))}return"bytes"===r?o:o.map(e=>r$(e))}var oi=e.i(40473);class oo extends rv{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class os extends rv{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}let oa=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ou=new Map,oc=new ry(128);async function ol(e,t){let r,n,i=t;i.account??=e.account,i.chain??=e.chain,i.parameters??=oa;let{account:o,chain:s,nonceManager:a,parameters:u}=i,c="function"==typeof s?.prepareTransactionRequest?{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(s?.prepareTransactionRequest)?{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}:void 0;async function l(){return r?r:void 0!==i.chainId?i.chainId:s?s.id:r=await iU(e,iz,"getChainId")({})}let f=o?n$(o):o,d=i.nonce;if(u.includes("nonce")&&void 0===d&&f&&a){let t=await l();d=await a.consume({address:f.address,chainId:t,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(i=await c.fn(i,{phase:"beforeFillTransaction"}),d??=i.nonce);let h=(!(u.includes("blobVersionedHashes")||u.includes("sidecars"))||!i.kzg||!i.blobs)&&!1!==oc.get(e.uid)&&["fees","gas"].some(e=>u.includes(e))&&(u.includes("chainId")&&"number"!=typeof i.chainId||u.includes("nonce")&&"number"!=typeof d||u.includes("fees")&&"bigint"!=typeof i.gasPrice&&("bigint"!=typeof i.maxFeePerGas||"bigint"!=typeof i.maxPriorityFeePerGas)||u.includes("gas")&&"bigint"!=typeof i.gas)?await iU(e,iD,"fillTransaction")({...i,nonce:d}).then(t=>{let{chainId:r,from:n,gas:o,gasPrice:s,nonce:a,maxFeePerBlobGas:u,maxFeePerGas:c,maxPriorityFeePerGas:l,type:f,...d}=t.transaction;return oc.set(e.uid,!0),{...i,...n?{from:n}:{},...f?{type:f}:{},...void 0!==r?{chainId:r}:{},...void 0!==o?{gas:o}:{},...void 0!==s?{gasPrice:s}:{},...void 0!==a?{nonce:a}:{},...void 0!==u?{maxFeePerBlobGas:u}:{},...void 0!==c?{maxFeePerGas:c}:{},...void 0!==l?{maxPriorityFeePerGas:l}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&oc.set(e.uid,!1),i)):i;d??=h.nonce;let{blobs:p,gas:m,kzg:g,type:y}=i={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};async function b(){return n||(n=await iU(e,iF,"getBlock")({blockTag:"latest"}))}if(c?.fn&&c.runAt?.includes("beforeFillParameters")&&(i=await c.fn(i,{phase:"beforeFillParameters"})),u.includes("nonce")&&void 0===d&&f&&!a&&(i.nonce=await iU(e,ot,"getTransactionCount")({address:f.address,blockTag:"pending"})),(u.includes("blobVersionedHashes")||u.includes("sidecars"))&&p&&g){let e=or({blobs:p,kzg:g});if(u.includes("blobVersionedHashes")){let t=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=(0,oi.sha256)(rx(t,{strict:!1})?rH(t):t);return i.set([r],0),"bytes"===n?i:r$(i)}({commitment:e,to:n,version:r}));return i}({commitments:e,to:"hex"});i.blobVersionedHashes=t}if(u.includes("sidecars")){let t=on({blobs:p,commitments:e,kzg:g}),r=function(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?rG(e.data):e.data,n=rO(r);if(!n)throw new os;if(n>761855)throw new oo({maxSize:761855,size:n});let i=[],o=!0,s=0;for(;o;){let e=iX(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(s,s+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),o=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>r$(e.bytes))}({data:t,to:n}),o=e.commitments??or({blobs:i,kzg:r,to:n}),s=e.proofs??on({blobs:i,commitments:o,kzg:r,to:n}),a=[];for(let e=0;e<i.length;e++)a.push({blob:i[e],commitment:o[e],proof:s[e]});return a}({blobs:p,commitments:e,proofs:t,to:"hex"});i.sidecars=r}}if(u.includes("chainId")&&(i.chainId=await l()),(u.includes("fees")||u.includes("type"))&&void 0===y)try{i.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n4({transaction:e})}(i)}catch{let t=ou.get(e.uid);if(void 0===t){let r=await b();t="bigint"==typeof r?.baseFeePerGas,ou.set(e.uid,t)}i.type=t?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==i.type&&"eip2930"!==i.type){if(void 0===i.maxFeePerGas||void 0===i.maxPriorityFeePerGas){let t=await b(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await i3(e,{block:t,chain:s,request:i});if(void 0===i.maxPriorityFeePerGas&&i.maxFeePerGas&&i.maxFeePerGas<n)throw new nG({maxPriorityFeePerGas:n});i.maxPriorityFeePerGas=n,i.maxFeePerGas=r}}else{if(void 0!==i.maxFeePerGas||void 0!==i.maxPriorityFeePerGas)throw new nW;if(void 0===i.gasPrice){let t=await b(),{gasPrice:r}=await i3(e,{block:t,chain:s,request:i,type:"legacy"});i.gasPrice=r}}return u.includes("gas")&&void 0===m&&(i.gas=await iU(e,oe,"estimateGas")({...i,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(i=await c.fn(i,{phase:"afterFillParameters"})),ij(i),delete i.parameters,i}async function of(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}let od=new ry(128);async function oh(e,t){let{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:u,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,type:p,value:m,...g}=t;if(void 0===r)throw new iq({docsPath:"/docs/actions/wallet/sendTransaction"});let y=r?n$(r):null;try{ij(t);let r=await (async()=>t.to?t.to:null!==t.to&&o&&o.length>0?await i0({authorization:o[0]}).catch(()=>{throw new rv("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(y?.type==="json-rpc"||null===y){let t;null!==n&&(t=await iU(e,iz,"getChainId")({}),function({chain:e,currentChainId:t}){if(!e)throw new i2;if(t!==e.id)throw new i1({chain:e,currentChainId:t})}({currentChainId:t,chain:n}));let b=e.chain?.formatters?.transactionRequest?.format,w=(b||iN)({...iO(g,{format:b}),accessList:i,account:y,authorizationList:o,blobs:s,chainId:t,data:a,gas:u,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,to:r,type:p,value:m},"sendTransaction"),v=od.get(e.uid);try{return await e.request({method:v?"wallet_sendTransaction":"eth_sendTransaction",params:[w]},{retryCount:0})}catch(t){if(!1===v)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[w]},{retryCount:0}).then(t=>(od.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw od.set(e.uid,!1),t;throw r});throw t}}if(y?.type==="local"){let t=await iU(e,ol,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:o,blobs:s,chain:n,data:a,gas:u,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:h,nonceManager:y.nonceManager,parameters:[...oa,"sidecars"],type:p,value:m,...g,to:r}),b=n?.serializers?.transaction,w=await y.signTransaction(t,{serializer:b});return await iU(e,of,"sendRawTransaction")({serializedTransaction:w})}if(y?.type==="smart")throw new iH({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new iH({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(e){if(e instanceof iH)throw e;throw iP(e,{...t,account:y,chain:t.chain||void 0})}}rF(0,{size:32}),new ry(128);let op={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},om={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},og={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function oy(e,t={}){return void 0!==t.size&&rC(e,{size:t.size}),rN(r$(e,t),t)}function ob(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(ob);let r=np(e.type);return!!(r&&ob({...e,type:r[1]}))}function ow({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?nm(t[r]):t[r]}`).join(", ")})`}class ov extends rv{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s}){const a=nv({abi:t,args:r,name:o}),u=a?ow({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,c=n8({address:n&&n,function:a?r2(a,{includeName:!0}):void 0,args:u&&"()"!==u&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],c&&"Contract Call:",c].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=o,this.sender=s}}class o_ extends rv{constructor({abi:e,data:t,functionName:r,message:n}){let i,o,s,a,u;if(t&&"0x"!==t)try{const{abiItem:r,errorName:n,args:i}=o=function(e){let{abi:t,data:r}=e,n=nu(r,0,4);if("0x"===n)throw new r3;let i=[...t||[],om,og].find(e=>"error"===e.type&&n===nw(r2(e)));if(!i)throw new r7(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?function(e,t){let r="string"==typeof t?rG(t):t,n=iX(r);if(0===rO(r)&&e.length>0)throw new r3;if(rO(t)&&32>rO(t))throw new r5({data:"string"==typeof t?t:r$(t),params:e,size:rO(t)});let i=0,o=[];for(let t=0;t<e.length;++t){let r=e[t];n.setPosition(i);let[s,a]=function e(t,r,{staticPosition:n}){let i=np(r.type);if(i){let[o,s]=i;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+oy(t.readBytes(32)),o=n+32;t.setPosition(n);let s=oy(t.readBytes(32)),a=ob(r),u=0,c=[];for(let n=0;n<s;++n){t.setPosition(o+(a?32*n:u));let[i,s]=e(t,r,{staticPosition:o});u+=s,c.push(i)}return t.setPosition(i+32),[c,32]}if(ob(r)){let o=i+oy(t.readBytes(32)),s=[];for(let i=0;i<n;++i){t.setPosition(o+32*i);let[n]=e(t,r,{staticPosition:o});s.push(n)}return t.setPosition(i+32),[s,32]}let o=0,s=[];for(let a=0;a<n;++a){let[n,a]=e(t,r,{staticPosition:i+o});o+=a,s.push(n)}return[s,o]}(t,{...r,type:s},{length:o,staticPosition:n})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),o=i?[]:{},s=0;if(ob(r)){let a=n+oy(t.readBytes(32));for(let n=0;n<r.components.length;++n){let u=r.components[n];t.setPosition(a+s);let[c,l]=e(t,u,{staticPosition:a});s+=l,o[i?n:u?.name]=c}return t.setPosition(n+32),[o,32]}for(let a=0;a<r.components.length;++a){let u=r.components[a],[c,l]=e(t,u,{staticPosition:n});o[i?a:u?.name]=c,s+=l}return[o,s]}(t,r,{staticPosition:n});if("address"===r.type)return[rY(r$(nf(t.readBytes(32),-20))),32];if("bool"===r.type)return[function(e,t={}){let r=e;if(void 0!==t.size&&(rC(r,{size:t.size}),r=rR(r)),r.length>1||r[0]>1)throw new rB(r);return!!r[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=oy(e.readBytes(32));e.setPosition(r+t);let n=oy(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[r$(i),32]}return[r$(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:n});if(r.type.startsWith("uint")||r.type.startsWith("int")){var o,s;let e,n,i;return o=t,e=(s=r).type.startsWith("int"),n=Number.parseInt(s.type.split("int")[1]||"256",10),i=o.readBytes(32),[n>48?function(e,t={}){return void 0!==t.size&&rC(e,{size:t.size}),rM(r$(e,t),t)}(i,{signed:e}):oy(i,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=oy(e.readBytes(32));e.setPosition(t+r);let n=oy(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=function(e,t={}){let r=e;return void 0!==t.size&&(rC(r,{size:t.size}),r=rR(r,{dir:"right"})),new TextDecoder().decode(r)}(rR(e.readBytes(n,32)));return e.setPosition(t+32),[i,32]}(t,{staticPosition:n});throw new nn(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(n,r,{staticPosition:0});i+=a,o.push(s)}return o}(i.inputs,nu(r,4)):void 0,errorName:i.name}}({abi:e,data:t});if("Error"===n)a=i[0];else if("Panic"===n){const[e]=i;a=op[e]}else{const e=r?r2(r,{includeName:!0}):void 0,t=r&&i?ow({abiItem:r,args:i,includeFunctionName:!1,includeName:!1}):void 0;s=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){i=e}else n&&(a=n);i instanceof r7&&(u=i.signature,s=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(a&&"execution reverted"!==a||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,a||u].join("\n"):`The contract function "${r}" reverted.`,{cause:i,metaMessages:s,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=t,this.reason=a,this.signature=u}}class ox extends rv{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class oE extends rv{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}async function oS(e,t){return oS.internal(e,oh,"sendTransaction",t)}(oS||(oS={})).internal=async function(e,t,r,n){let{abi:i,account:o=e.account,address:s,args:a,dataSuffix:u,functionName:c,...l}=n;if(void 0===o)throw new iq({docsPath:"/docs/contract/writeContract"});let f=o?n$(o):null,d=function(e){let{args:t}=e,{abi:r,functionName:n}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=nv({abi:t,args:r,name:n});if(!e)throw new ne(n,{docsPath:n_});i=e}if("function"!==i.type)throw new ne(void 0,{docsPath:n_});return{abi:[i],functionName:nw(r2(i))}}(e),i=r[0];return na([n,("inputs"in i&&i.inputs?function(e,t){if(e.length!==t.length)throw new r9({expectedLength:e.length,givenLength:t.length});let r=nh(function({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(function e({param:t,value:r}){let n=np(t.type);if(n){let[i,o]=n;return function(t,{length:r,param:n}){let i=null===r;if(!Array.isArray(t))throw new ni(t);if(!i&&t.length!==r)throw new r8({expectedLength:r,givenLength:t.length,type:`${n.type}[${r}]`});let o=!1,s=[];for(let r=0;r<t.length;r++){let i=e({param:n,value:t[r]});i.dynamic&&(o=!0),s.push(i)}if(i||o){let e=nh(s);if(i){let t=rF(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?ns([t,e]):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ns(s.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:o}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let o=0;o<r.components.length;o++){let s=r.components[o],a=Array.isArray(t)?o:s.name,u=e({param:s,value:t[a]});i.push(u),u.dynamic&&(n=!0)}return{dynamic:n,encoded:n?nh(i):ns(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type){var i=r;if(!r0(i))throw new r_({address:i});return{dynamic:!1,encoded:rI(i.toLowerCase())}}if("bool"===t.type){var o=r;if("boolean"!=typeof o)throw new rv(`Invalid boolean value: "${o}" (type: ${typeof o}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rI(rj(o))}}if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=nd.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new rT({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:rF(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),n=rO(e);if(!r){let t=e;return n%32!=0&&(t=rI(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:ns([rI(rF(n,{size:32})),t])}}if(n!==Number.parseInt(r,10))throw new r4({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:rI(e,{dir:"right"})}}(r,{param:t});if("string"===t.type){var s=r;let e=rD(s),t=Math.ceil(rO(e)/32),n=[];for(let r=0;r<t;r++)n.push(rI(nu(e,32*r,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ns([rI(rF(rO(e),{size:32})),...n])}}throw new nr(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[n],value:t[n]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}(i.inputs,t??[]):void 0)??"0x"])}({abi:i,args:a,functionName:c});try{return await iU(e,t,r)({data:`${d}${u?u.replace("0x",""):""}`,to:s,account:f,...l})}catch(e){throw function(e,{abi:t,address:r,args:n,docsPath:i,functionName:o,sender:s}){let a=e instanceof oE?e:e instanceof rv?e.walk(e=>"data"in e)||e.walk():{},{code:u,data:c,details:l,message:f,shortMessage:d}=a;return new ov(e instanceof r3?new ox({functionName:o}):[3,ia.code].includes(u)&&(c||l||f||d)||u===iu.code&&"execution reverted"===l&&c?new o_({abi:t,data:"object"==typeof c?c.data:c,functionName:o,message:a instanceof n7?l:d??f}):e,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:o,sender:s})}(e,{abi:i,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:c,sender:f?.address})}},w.Analytics.registerPackageVersion("core",S.VERSION),(0,v.setPlatformServices)({crypto:_.webCrypto,storage:E.webStorage,oauth:x.webOAuth}),e.s([],28870);var oA={exports:{}},ok={exports:{}};function oI(){if(m)return p;m=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};return p=e}let oT=(b||(b=1,h||(h=1,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ok.exports=o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&o.rotl(e,8)|0xff00ff00&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(i.charAt(n>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((i.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|i.indexOf(e.charAt(r))>>>6-2*n);return t}}),s=ok.exports,a=oI().utf8,u=function(){if(y)return g;function e(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}return y=1,g=function(t){var r;return null!=t&&(e(t)||"function"==typeof(r=t).readFloatLE&&"function"==typeof r.slice&&e(r.slice(0,0))||!!t._isBuffer)}}(),c=oI().bin,(l=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?c.stringToBytes(e):a.stringToBytes(e):u(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=s.bytesToWords(e),n=8*e.length,i=0x67452301,o=-0x10325477,f=-0x67452302,d=0x10325476,h=0;h<r.length;h++)r[h]=(r[h]<<8|r[h]>>>24)&0xff00ff|(r[h]<<24|r[h]>>>8)&0xff00ff00;r[n>>>5]|=128<<n%32,r[(n+64>>>9<<4)+14]=n;for(var p=l._ff,m=l._gg,g=l._hh,y=l._ii,h=0;h<r.length;h+=16){var b=i,w=o,v=f,_=d;i=p(i,o,f,d,r[h+0],7,-0x28955b88),d=p(d,i,o,f,r[h+1],12,-0x173848aa),f=p(f,d,i,o,r[h+2],17,0x242070db),o=p(o,f,d,i,r[h+3],22,-0x3e423112),i=p(i,o,f,d,r[h+4],7,-0xa83f051),d=p(d,i,o,f,r[h+5],12,0x4787c62a),f=p(f,d,i,o,r[h+6],17,-0x57cfb9ed),o=p(o,f,d,i,r[h+7],22,-0x2b96aff),i=p(i,o,f,d,r[h+8],7,0x698098d8),d=p(d,i,o,f,r[h+9],12,-0x74bb0851),f=p(f,d,i,o,r[h+10],17,-42063),o=p(o,f,d,i,r[h+11],22,-0x76a32842),i=p(i,o,f,d,r[h+12],7,0x6b901122),d=p(d,i,o,f,r[h+13],12,-0x2678e6d),f=p(f,d,i,o,r[h+14],17,-0x5986bc72),o=p(o,f,d,i,r[h+15],22,0x49b40821),i=m(i,o,f,d,r[h+1],5,-0x9e1da9e),d=m(d,i,o,f,r[h+6],9,-0x3fbf4cc0),f=m(f,d,i,o,r[h+11],14,0x265e5a51),o=m(o,f,d,i,r[h+0],20,-0x16493856),i=m(i,o,f,d,r[h+5],5,-0x29d0efa3),d=m(d,i,o,f,r[h+10],9,0x2441453),f=m(f,d,i,o,r[h+15],14,-0x275e197f),o=m(o,f,d,i,r[h+4],20,-0x182c0438),i=m(i,o,f,d,r[h+9],5,0x21e1cde6),d=m(d,i,o,f,r[h+14],9,-0x3cc8f82a),f=m(f,d,i,o,r[h+3],14,-0xb2af279),o=m(o,f,d,i,r[h+8],20,0x455a14ed),i=m(i,o,f,d,r[h+13],5,-0x561c16fb),d=m(d,i,o,f,r[h+2],9,-0x3105c08),f=m(f,d,i,o,r[h+7],14,0x676f02d9),o=m(o,f,d,i,r[h+12],20,-0x72d5b376),i=g(i,o,f,d,r[h+5],4,-378558),d=g(d,i,o,f,r[h+8],11,-0x788e097f),f=g(f,d,i,o,r[h+11],16,0x6d9d6122),o=g(o,f,d,i,r[h+14],23,-0x21ac7f4),i=g(i,o,f,d,r[h+1],4,-0x5b4115bc),d=g(d,i,o,f,r[h+4],11,0x4bdecfa9),f=g(f,d,i,o,r[h+7],16,-0x944b4a0),o=g(o,f,d,i,r[h+10],23,-0x41404390),i=g(i,o,f,d,r[h+13],4,0x289b7ec6),d=g(d,i,o,f,r[h+0],11,-0x155ed806),f=g(f,d,i,o,r[h+3],16,-0x2b10cf7b),o=g(o,f,d,i,r[h+6],23,0x4881d05),i=g(i,o,f,d,r[h+9],4,-0x262b2fc7),d=g(d,i,o,f,r[h+12],11,-0x1924661b),f=g(f,d,i,o,r[h+15],16,0x1fa27cf8),o=g(o,f,d,i,r[h+2],23,-0x3b53a99b),i=y(i,o,f,d,r[h+0],6,-0xbd6ddbc),d=y(d,i,o,f,r[h+7],10,0x432aff97),f=y(f,d,i,o,r[h+14],15,-0x546bdc59),o=y(o,f,d,i,r[h+5],21,-0x36c5fc7),i=y(i,o,f,d,r[h+12],6,0x655b59c3),d=y(d,i,o,f,r[h+3],10,-0x70f3336e),f=y(f,d,i,o,r[h+10],15,-1051523),o=y(o,f,d,i,r[h+1],21,-0x7a7ba22f),i=y(i,o,f,d,r[h+8],6,0x6fa87e4f),d=y(d,i,o,f,r[h+15],10,-0x1d31920),f=y(f,d,i,o,r[h+6],15,-0x5cfebcec),o=y(o,f,d,i,r[h+13],21,0x4e0811a1),i=y(i,o,f,d,r[h+4],6,-0x8ac817e),d=y(d,i,o,f,r[h+11],10,-0x42c50dcb),f=y(f,d,i,o,r[h+2],15,0x2ad7d2bb),o=y(o,f,d,i,r[h+9],21,-0x14792c6f),i=i+b>>>0,o=o+w>>>0,f=f+v>>>0,d=d+_>>>0}return s.endian([i,o,f,d])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},l._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},l._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},l._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},l._blocksize=16,l._digestsize=16,oA.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var r=s.wordsToBytes(l(e,t));return t&&t.asBytes?r:t&&t.asString?c.bytesToString(r):s.bytesToHex(r)}),(f=oA.exports)&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default"))?f.default:f;var oB=e.i(76396);let oP=null,oO=Symbol.for("@coinbase/cdp-analytics"),oR=((r=globalThis)[oO]||(r[oO]={identifier:"",enabled:!0,isProduction:!1,isUsingMocks:!1,sendEvent:oC,sendActionCallEvent:e=>oC({...e,type:"action_call"}),sendHookCallEvent:e=>oC({...e,type:"hook_call"}),sendComponentCallEvent:e=>oC({...e,type:"component_call"}),versionRegistry:{},registerPackageVersion:(e,t)=>{oR.versionRegistry[e]=t}}),r[oO]);async function oC(e){if(!oR.enabled||!oR.identifier)return;let t=Date.now(),r=JSON.stringify([{user_id:oR.identifier,event_type:e.type,platform:oM()?"web":"native",timestamp:t,event_properties:{project_name:"cdp-embedded-wallet",framework:(null===oP&&(oP=!function(){try{if(typeof window>"u")return!1;let e=window;return!!e.__REACT_DEVTOOLS_GLOBAL_HOOK__||!!e.React||!!document.querySelector("[data-reactroot], [data-reactid], ._reactRoot, ._reactRootContainer")}catch{return!1}}()?!function(){try{return"u">typeof navigator&&"ReactNative"===navigator.product}catch{return!1}}()?!function(){try{if(typeof window>"u")return"u">typeof oB.default&&oB.default.env&&"__NEXT_PROCESSED_ENV"in oB.default.env;let e=window;return!!(e.__NEXT_DATA__||e.next||document.getElementById("__next"))}catch{return!1}}()?!function(){try{if(typeof window>"u")return!1;let e=window;return!!(e.__VUE__||e.__VUE_DEVTOOLS_GLOBAL_HOOK__||document.querySelector("[data-v-]"))}catch{return!1}}()?"unknown":"vue":"nextjs":"react-native":"react"),oP),isLocalHost:!!oM()&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),isUsingMocks:oR.isUsingMocks,package_versions:oR.versionRegistry,...e}}]),n=oT(r+t.toString()),i={client:oR.isProduction?"d473b1dcc969105adab157226cd9cf63":"1f8d3e558f493e38a037dbfadb8ba344",e:r,checksum:n};await fetch("https://cca-lite.coinbase.com/amp",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}function oM(){return"u">typeof window&&"u">typeof document}var oN=e.i(33856),oU=e.i(13896);let oL=(0,oN.createContext)(null);function oj({children:e,config:t}){let[r,n]=(0,oN.useState)(null),[i,o]=(0,oN.useState)(!1),[s,a]=(0,oN.useState)(null);(0,oN.useEffect)(()=>{o(!1),(async()=>{await t1(t),eg().addAuthStateChangeCallback(e=>{n(e)}),o(!0)})(),eb().addOAuthStateChangeCallback(e=>{a(e)})},[t]);let u=(0,oN.useMemo)(()=>({isInitialized:i,currentUser:r,isSignedIn:!!r,config:t,oauthState:s}),[r,i,t,s]);return(0,oU.jsx)(oL.Provider,{value:u,children:e})}function o$(){let e=(0,oN.useContext)(oL);if(!e)throw Error("useCDP must be used within a CDPHooksProvider");return e}function oF(e){let t=(0,oN.useRef)(!1);(0,oN.useEffect)(()=>{t.current||(oR.sendHookCallEvent({name:e}),t.current=!0)},[e])}e.s(["CDPContext",()=>oL,"CDPHooksProvider",()=>oj,"useCDP",()=>o$],65843);var oz=e.i(41157);let oD=256,oq;function oH(e=11){if(!oq||oD+e>512){oq="",oD=0;for(let e=0;e<256;e++)oq+=(256+256*Math.random()|0).toString(16).substring(1)}return oq.substring(oD,oD+++e)}var oW=e.i(24525),oG=e.i(81597),oK=e.i(27649),oV=e.i(72549),oJ=e.i(23835),oZ=e.i(93705),oY=e.i(74085),oX=e.i(46048),oQ=e.i(75975);function o0(e,t){if(!(e instanceof oX.BaseError))return!1;let r=e.walk(e=>e instanceof oQ.ContractFunctionRevertedError);return r instanceof oQ.ContractFunctionRevertedError&&!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&r.reason===oY.panicReasons[50])}var o1=e.i(24449),o2=e.i(71393),o6=e.i(94694),o5=e.i(80015),o3=e.i(47398);function o8(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,o3.isHex)(t)?t:null}function o4(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,oZ.bytesToHex)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=o8(r[e]),i=n?(0,o6.toBytes)(n):(0,o5.keccak256)((0,o6.stringToBytes)(r[e]),"bytes");t=(0,o5.keccak256)((0,o2.concat)([t,i]),"bytes")}return(0,oZ.bytesToHex)(t)}function o9(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,o6.stringToBytes)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){var o;let t=(0,o6.stringToBytes)(i[e]);t.byteLength>255&&(t=(0,o6.stringToBytes)((o=function(e){let t=new Uint8Array(32).fill(0);return e?o8(e)||(0,o5.keccak256)((0,o6.stringToBytes)(e)):(0,oZ.bytesToHex)(t)}(i[e]),`[${o.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}function o7(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}var se=e.i(82641),st=e.i(4102),sr=oX;class sn extends sr.BaseError{constructor(e,{code:t,docsPath:r,metaMessages:n,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof st.RpcRequestError?e.code:t??-1}}class si extends sn{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class so extends sn{constructor(e){super(e,{code:so.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ss extends sn{constructor(e){super(e,{code:ss.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class sa extends sn{constructor(e,{method:t}={}){super(e,{code:sa.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class su extends sn{constructor(e){super(e,{code:su.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class sc extends sn{constructor(e){super(e,{code:sc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(sc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class sl extends sn{constructor(e){super(e,{code:sl.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(sl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class sf extends sn{constructor(e){super(e,{code:sf.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class sd extends sn{constructor(e){super(e,{code:sd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class sh extends sn{constructor(e){super(e,{code:sh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(sh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class sp extends sn{constructor(e,{method:t}={}){super(e,{code:sp.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class sm extends sn{constructor(e){super(e,{code:sm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class sg extends sn{constructor(e){super(e,{code:sg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class sy extends si{constructor(e){super(e,{code:sy.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(sy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class sb extends si{constructor(e){super(e,{code:sb.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(sb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sw extends si{constructor(e,{method:t}={}){super(e,{code:sw.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(sw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class sv extends si{constructor(e){super(e,{code:sv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(sv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class s_ extends si{constructor(e){super(e,{code:s_.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(s_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class sx extends si{constructor(e){super(e,{code:sx.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(sx,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class sE extends si{constructor(e){super(e,{code:sE.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(sE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class sS extends si{constructor(e){super(e,{code:sS.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(sS,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class sA extends si{constructor(e){super(e,{code:sA.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(sA,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class sk extends si{constructor(e){super(e,{code:sk.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(sk,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sI extends si{constructor(e){super(e,{code:sI.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sT extends si{constructor(e){super(e,{code:sT.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sT,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class sB extends si{constructor(e){super(e,{code:sB.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(sB,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class sP extends sn{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function sO(e,{abi:t,address:r,args:n,docsPath:i,functionName:o,sender:s}){let a=e instanceof oQ.RawContractError?e:e instanceof oX.BaseError?e.walk(e=>"data"in e)||e.walk():{},{code:u,data:c,details:l,message:f,shortMessage:d}=a,h=e instanceof se.AbiDecodingZeroDataError?new oQ.ContractFunctionZeroDataError({functionName:o}):[3,sc.code].includes(u)&&(c||l||f||d)?new oQ.ContractFunctionRevertedError({abi:t,data:"object"==typeof c?c.data:c,functionName:o,message:a instanceof st.RpcRequestError?l:d??f}):e;return new oQ.ContractFunctionExecutionError(h,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:o,sender:s})}var sR=e.i(69858);async function sC(e,t){let{abi:r,address:n,args:i,functionName:o,...s}=t,a=(0,oK.encodeFunctionData)({abi:r,args:i,functionName:o});try{let{data:t}=await o7(e,sR.call,"call")({...s,data:a,to:n});return(0,oG.decodeFunctionResult)({abi:r,args:i,functionName:o,data:t||"0x"})}catch(e){throw sO(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function sM(e,t){let{blockNumber:r,blockTag:n,coinType:i,name:o,gatewayUrls:s,strict:a}=t,{chain:u}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,oV.getChainContractAddress)({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})(),l=u?.ensTlds;if(l&&!l.some(e=>o.endsWith(e)))return null;try{let t=(0,oK.encodeFunctionData)({abi:oW.addressResolverAbi,functionName:"addr",...null!=i?{args:[o4(o),BigInt(i)]}:{args:[o4(o)]}}),a={address:c,abi:oW.universalResolverResolveAbi,functionName:"resolve",args:[(0,oZ.toHex)(o9(o)),t,s??[o1.localBatchGatewayUrl]],blockNumber:r,blockTag:n},u=await o7(e,sC,"readContract")(a);if("0x"===u[0])return null;let l=(0,oG.decodeFunctionResult)({abi:oW.addressResolverAbi,args:null!=i?[o4(o),BigInt(i)]:void 0,functionName:"addr",data:u[0]});return"0x"===l||"0x00"===(0,oJ.trim)(l)?null:l}catch(e){if(a)throw e;if(o0(e,"resolve"))return null;throw e}}var sN=oX;class sU extends sN.BaseError{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class sL extends sN.BaseError{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class sj extends sN.BaseError{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class s$ extends sN.BaseError{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}let sF=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,sz=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,sD=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,sq=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function sH(e){try{let t=await fetch(e,{method:"HEAD"});return 200===t.status&&t.headers.get("content-type")?.startsWith("image/")}catch(t){return!("object"==typeof t&&"u">typeof t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function sW(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function sG({uri:e,gatewayUrls:t}){let r=sD.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=sW(t?.ipfs,"https://ipfs.io"),i=sW(t?.arweave,"https://arweave.net"),o=e.match(sF),{protocol:s,subpath:a,target:u,subtarget:c=""}=o?.groups||{},l="ipns:/"===s||"ipns/"===a,f="ipfs:/"===s||"ipfs/"===a||sz.test(e);if(e.startsWith("http")&&!l&&!f){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((l||f)&&u)return{uri:`${n}/${l?"ipns":"ipfs"}/${u}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&u)return{uri:`${i}/${u}${c||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(sq,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new sj({uri:e})}function sK(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new sU({data:e});return e.image||e.image_url||e.image_data}async function sV({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await sJ({gatewayUrls:e,uri:sK(r)})}catch{throw new sj({uri:t})}}async function sJ({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=sG({uri:t,gatewayUrls:e});if(n||await sH(r))return r;throw new sj({uri:t})}async function sZ(e,{nft:t}){if("erc721"===t.namespace)return sC(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return sC(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new s$({namespace:t.namespace})}async function sY(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?sX(e,{gatewayUrls:t,record:r}):sJ({uri:r,gatewayUrls:t})}async function sX(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[o,s]=r.split(":"),[a,u]=n.split(":");if(!o||"eip155"!==o.toLowerCase())throw new sL({reason:"Only EIP-155 supported"});if(!s)throw new sL({reason:"Chain ID not found"});if(!u)throw new sL({reason:"Contract address not found"});if(!i)throw new sL({reason:"Token ID not found"});if(!a)throw new sL({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:u,tokenID:i}}(r),{uri:i,isOnChain:o,isEncoded:s}=sG({uri:await sZ(e,{nft:n}),gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return sJ({uri:sK(JSON.parse(s?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let a=n.tokenID;return"erc1155"===n.namespace&&(a=a.replace("0x","").padStart(64,"0")),sV({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,a)})}async function sQ(e,t){let{blockNumber:r,blockTag:n,key:i,name:o,gatewayUrls:s,strict:a}=t,{chain:u}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,oV.getChainContractAddress)({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})(),l=u?.ensTlds;if(l&&!l.some(e=>o.endsWith(e)))return null;try{let t={address:c,abi:oW.universalResolverResolveAbi,functionName:"resolve",args:[(0,oZ.toHex)(o9(o)),(0,oK.encodeFunctionData)({abi:oW.textResolverAbi,functionName:"text",args:[o4(o),i]}),s??[o1.localBatchGatewayUrl]],blockNumber:r,blockTag:n},a=await o7(e,sC,"readContract")(t);if("0x"===a[0])return null;let u=(0,oG.decodeFunctionResult)({abi:oW.textResolverAbi,functionName:"text",data:a[0]});return""===u?null:u}catch(e){if(a)throw e;if(o0(e,"resolve"))return null;throw e}}async function s0(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let u=await o7(e,sQ,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!u)return null;try{return await sY(e,{record:u,gatewayUrls:n})}catch{return null}}async function s1(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");a=(0,oV.getChainContractAddress)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}let u=`${t.toLowerCase().substring(2)}.addr.reverse`;try{let o={address:a,abi:oW.universalResolverReverseAbi,functionName:"reverse",args:[(0,oZ.toHex)(o9(u))],blockNumber:r,blockTag:n},s=o7(e,sC,"readContract"),[c,l]=i?await s({...o,args:[...o.args,i]}):await s(o);return t.toLowerCase()!==l.toLowerCase()?null:c}catch(e){if(o)throw e;if(o0(e,"reverse"))return null;throw e}}async function s2(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:o}=e,s=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw Error("client chain not configured. universalResolverAddress is required.");return(0,oV.getChainContractAddress)({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[u]=await o7(e,sC,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,oZ.toHex)(o9(i))],blockNumber:r,blockTag:n});return u}var s6=e.i(41093),s5=e.i(1834),s3=e.i(90733),s8=e.i(65778);async function s4(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h,...p}=t,m=r?(0,oz.parseAccount)(r):void 0;try{(0,s8.assertRequest)(t);let r=("bigint"==typeof n?(0,oZ.numberToHex)(n):void 0)||i,g=e.chain?.formatters?.transactionRequest?.format,y=(g||s3.formatTransactionRequest)({...(0,s5.extract)(p,{format:g}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,to:d,value:h}),b=await e.request({method:"eth_createAccessList",params:[y,r]});return{accessList:b.accessList,gasUsed:BigInt(b.gasUsed)}}catch(r){throw(0,s6.getCallError)(r,{...t,account:m,chain:e.chain})}}function s9(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:o})=>{"success"===i&&t===e&&(r[n]=o.request)}),t=>r[t]||e.request}async function s7(e){let t=s9(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var ae=oX;class at extends ae.BaseError{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var ar=e.i(57985),an=e.i(17767),ai=e.i(78780),ao=e.i(18748);let as="/docs/contract/encodeEventTopics";function aa(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,ao.getAbiItem)({abi:t,name:r});if(!e)throw new se.AbiEventNotFoundError(r,{docsPath:as});i=e}if("event"!==i.type)throw new se.AbiEventNotFoundError(void 0,{docsPath:as});let o=(0,ai.formatAbiItem)(i),s=(0,ar.toEventSelector)(o),a=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(a=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>au({param:e,value:t[r][i]})):"u">typeof t[r]&&null!==t[r]?au({param:e,value:t[r]}):null)??[])}return[s,...a]}function au({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,o5.keccak256)((0,o6.toBytes)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new at(e.type);return(0,an.encodeAbiParameters)([e],[t])}async function ac(e,t){let{address:r,abi:n,args:i,eventName:o,fromBlock:s,strict:a,toBlock:u}=t,c=s9(e,{method:"eth_newFilter"}),l=o?aa({abi:n,args:i,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof s?(0,oZ.numberToHex)(s):s,toBlock:"bigint"==typeof u?(0,oZ.numberToHex)(u):u,topics:l}]});return{abi:n,args:i,eventName:o,id:f,request:c(f),strict:!!a,type:"event"}}async function al(e,{address:t,args:r,event:n,events:i,fromBlock:o,strict:s,toBlock:a}={}){let u=i??(n?[n]:void 0),c=s9(e,{method:"eth_newFilter"}),l=[];u&&(l=[u.flatMap(e=>aa({abi:[e],eventName:e.name,args:r}))],n&&(l=l[0]));let f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?(0,oZ.numberToHex)(o):o,toBlock:"bigint"==typeof a?(0,oZ.numberToHex)(a):a,...l.length?{topics:l}:{}}]});return{abi:u,args:r,eventName:n?n.name:void 0,fromBlock:o,id:f,request:c(f),strict:!!s,toBlock:a,type:"event"}}async function af(e){let t=s9(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ad=e.i(40041),ah=e.i(66562),ap=e.i(85516);async function am({hash:t,signature:r}){let n=(0,o3.isHex)(t)?t:(0,oZ.toHex)(t),{secp256k1:i}=await e.A(52753);return`0x${(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:n,yParity:o}=r,s=ag(Number(o??n));return new i.Signature((0,ap.hexToBigInt)(e),(0,ap.hexToBigInt)(t)).addRecoveryBit(s)}let e=(0,o3.isHex)(r)?r:(0,oZ.toHex)(r);if(65!==(0,ah.size)(e))throw Error("invalid signature length");let t=ag((0,ap.hexToNumber)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ag(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function ay({hash:e,signature:t}){var r;let n;return r=await am({hash:e,signature:t}),n=(0,o5.keccak256)(`0x${r.substring(4)}`).substring(26),(0,ad.checksumAddress)(`0x${n}`)}var ab=e.i(53486);function aw(e,t="hex"){let r=function e(t){var r,n;let i,o,s,a;return Array.isArray(t)?(o=av(i=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+o+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+o),1===o?e.pushUint8(i):2===o?e.pushUint16(i):3===o?e.pushUint24(i):e.pushUint32(i)),r))t(e)}}):(a=av((s="string"==typeof(n=t)?(0,o6.hexToBytes)(n):n).length),{length:1===s.length&&s[0]<128?1:s.length<=55?1+s.length:1+a+s.length,encode(e){1===s.length&&s[0]<128||(s.length<=55?e.pushByte(128+s.length):(e.pushByte(183+a),1===a?e.pushUint8(s.length):2===a?e.pushUint16(s.length):3===a?e.pushUint24(s.length):e.pushUint32(s.length))),e.pushBytes(s)}})}(e),n=(0,ab.createCursor)(new Uint8Array(r.length));return r.encode(n),"hex"===t?(0,oZ.bytesToHex)(n.bytes):n.bytes}function av(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new oX.BaseError("Length is too large.")}async function a_(e){let{authorization:t,signature:r}=e;return ay({hash:function(e){let{chainId:t,nonce:r,to:n}=e,i=e.contractAddress??e.address,o=(0,o5.keccak256)((0,o2.concatHex)(["0x05",aw([t?(0,oZ.numberToHex)(t):"0x",i,r?(0,oZ.numberToHex)(r):"0x"])]));return"bytes"===n?(0,o6.hexToBytes)(o):o}(t),signature:r??t})}var ax=e.i(30938),aE=e.i(58402),aS=oX,aA=e.i(22935);class ak extends aS.BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:o,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:c,to:l,value:f}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,aA.prettyPrint)({from:t?.address,to:l,value:"u">typeof f&&`${(0,ax.formatEther)(f)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:"u">typeof s&&`${(0,aE.formatGwei)(s)} gwei`,maxFeePerGas:"u">typeof a&&`${(0,aE.formatGwei)(a)} gwei`,maxPriorityFeePerGas:"u">typeof u&&`${(0,aE.formatGwei)(u)} gwei`,nonce:c})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var aI=e.i(89901),aT=e.i(48294),aB=e.i(67020),aP=oX;class aO extends aP.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class aR extends aP.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class aC extends aP.BaseError{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,aE.formatGwei)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}var aM=oX;class aN extends aM.BaseError{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}function aU(e,t){return({exclude:r,format:n})=>({exclude:r,format:e=>{let i=t(e);if(r)for(let e of r)delete i[e];return{...i,...n(e)}},type:e})}let aL={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function aj(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,ap.hexToNumber)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,ap.hexToNumber)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?aL[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return+(t.v%2n===0n)}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}let a$=aU("transaction",aj);function aF(e){let t=(e.transactions??[]).map(e=>"string"==typeof e?e:aj(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let az=aU("block",aF);async function aD(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:i}={}){let o=i??!1,s=void 0!==r?(0,oZ.numberToHex)(r):void 0,a=null;if(!(a=t?await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[s||n,o]},{dedupe:!!s})))throw new aN({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||aF)(a)}async function aq(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function aH(e,t){return aW(e,t)}async function aW(e,t){let{block:r,chain:n=e.chain,request:i}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await o7(e,aD,"getBlock")({}),o=await t({block:n,client:e,request:i});if(null===o)throw Error();return o}if("u">typeof t)return t;let o=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,ap.hexToBigInt)(o)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):o7(e,aD,"getBlock")({}),o7(e,aq,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new aR;let i=n-t.baseFeePerGas;return i<0n?0n:i}}async function aG(e,t){return aK(e,t)}async function aK(e,t){let{block:r,chain:n=e.chain,request:i,type:o="eip1559"}=t||{},s=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new aO;let a=10**(s.toString().split(".")[1]?.length??0),u=e=>e*BigInt(Math.ceil(s*a))/BigInt(a),c=r||await o7(e,aD,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:u,request:i,type:o});if(null!==t)return t}if("eip1559"===o){if("bigint"!=typeof c.baseFeePerGas)throw new aR;let t="bigint"==typeof i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await aW(e,{block:c,chain:n,request:i}),r=u(c.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:i?.gasPrice??u(await o7(e,aq,"getGasPrice")({}))}}async function aV(e,{address:t,blockTag:r="latest",blockNumber:n}){let i=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?(0,oZ.numberToHex)(n):r]},{dedupe:!!n});return(0,ap.hexToNumber)(i)}function aJ(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,o6.hexToBytes)(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>(0,oZ.bytesToHex)(e))}function aZ(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,o6.hexToBytes)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,o6.hexToBytes)(e)):e.commitments,o=[];for(let e=0;e<n.length;e++){let r=n[e],s=i[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,s)))}return"bytes"===r?o:o.map(e=>(0,oZ.bytesToHex)(e))}let aY=e.i(4379).sha256;function aX(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=aY((0,o3.isHex)(t,{strict:!1})?(0,o6.toBytes)(t):t);return i.set([r],0),"bytes"===n?i:(0,oZ.bytesToHex)(i)}({commitment:e,to:n,version:r}));return i}var aQ=oX;class a0 extends aQ.BaseError{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class a1 extends aQ.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class a2 extends aQ.BaseError{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class a6 extends aQ.BaseError{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function a5(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,o6.hexToBytes)(e.data):e.data,n=(0,ah.size)(r);if(!n)throw new a1;if(n>761855)throw new a0({maxSize:761855,size:n});let i=[],o=!0,s=0;for(;o;){let e=(0,ab.createCursor)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(s,s+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),o=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,oZ.bytesToHex)(e.bytes))}({data:t,to:n}),o=e.commitments??aJ({blobs:i,kzg:r,to:n}),s=e.proofs??aZ({blobs:i,commitments:o,kzg:r,to:n}),a=[];for(let e=0;e<i.length;e++)a.push({blob:i[e],commitment:o[e],proof:s[e]});return a}function a3(e){if(e.type)return e.type;if("u">typeof e.authorizationList)return"eip7702";if("u">typeof e.blobs||"u">typeof e.blobVersionedHashes||"u">typeof e.maxFeePerBlobGas||"u">typeof e.sidecars)return"eip4844";if("u">typeof e.maxFeePerGas||"u">typeof e.maxPriorityFeePerGas)return"eip1559";if("u">typeof e.gasPrice)return"u">typeof e.accessList?"eip2930":"legacy";throw new aA.InvalidSerializableTransactionError({transaction:e})}async function a8(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,ap.hexToNumber)(t)}let a4=["blobVersionedHashes","chainId","fees","gas","nonce","type"],a9=new Map;async function a7(e,t){let r,n,{account:i=e.account,blobs:o,chain:s,gas:a,kzg:u,nonce:c,nonceManager:l,parameters:f=a4,type:d}=t,h=i&&(0,oz.parseAccount)(i),p={...t,...h?{from:h?.address}:{}};async function m(){return r||(r=await o7(e,aD,"getBlock")({blockTag:"latest"}))}async function g(){return n||(s?s.id:"u">typeof t.chainId?t.chainId:n=await o7(e,a8,"getChainId")({}))}if(f.includes("nonce")&&typeof c>"u"&&h)if(l){let t=await g();p.nonce=await l.consume({address:h.address,chainId:t,client:e})}else p.nonce=await o7(e,aV,"getTransactionCount")({address:h.address,blockTag:"pending"});if((f.includes("blobVersionedHashes")||f.includes("sidecars"))&&o&&u){let e=aJ({blobs:o,kzg:u});if(f.includes("blobVersionedHashes")&&(p.blobVersionedHashes=aX({commitments:e,to:"hex"})),f.includes("sidecars")){let t=aZ({blobs:o,commitments:e,kzg:u});p.sidecars=a5({blobs:o,commitments:e,proofs:t,to:"hex"})}}if(f.includes("chainId")&&(p.chainId=await g()),(f.includes("fees")||f.includes("type"))&&typeof d>"u")try{p.type=a3(p)}catch{let t=a9.get(e.uid);typeof t>"u"&&(t="bigint"==typeof(await m())?.baseFeePerGas,a9.set(e.uid,t)),p.type=t?"eip1559":"legacy"}if(f.includes("fees"))if("legacy"!==p.type&&"eip2930"!==p.type){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){let r=await m(),{maxFeePerGas:n,maxPriorityFeePerGas:i}=await aK(e,{block:r,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<i)throw new aC({maxPriorityFeePerGas:i});p.maxPriorityFeePerGas=i,p.maxFeePerGas=n}}else{if("u">typeof t.maxFeePerGas||"u">typeof t.maxPriorityFeePerGas)throw new aR;if(typeof t.gasPrice>"u"){let t=await m(),{gasPrice:r}=await aK(e,{block:t,chain:s,request:p,type:"legacy"});p.gasPrice=r}}return f.includes("gas")&&typeof a>"u"&&(p.gas=await o7(e,ut,"estimateGas")({...p,account:h&&{address:h.address,type:"json-rpc"}})),(0,s8.assertRequest)(p),delete p.parameters,p}async function ue(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){let i="bigint"==typeof r?(0,oZ.numberToHex)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}async function ut(e,t){let{account:r=e.account}=t,n=r?(0,oz.parseAccount)(r):void 0;try{let r=function(t){let{block:r,request:n,rpcStateOverride:i}=t;return e.request({method:"eth_estimateGas",params:i?[n,r??e.experimental_blockTag??"latest",i]:r?[n,r]:[n]})},{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:u,blockTag:c,data:l,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,value:y,stateOverride:b,...w}=await a7(e,{...t,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),v=("bigint"==typeof u?(0,oZ.numberToHex)(u):void 0)||c,_=(0,aB.serializeStateOverride)(b),x=await (async()=>w.to?w.to:o&&o.length>0?await a_({authorization:o[0]}).catch(()=>{throw new oX.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,s8.assertRequest)(t);let E=e.chain?.formatters?.transactionRequest?.format,S=(E||s3.formatTransactionRequest)({...(0,s5.extract)(w,{format:E}),from:n?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:l,gas:f,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,to:x,value:y}),A=BigInt(await r({block:v,request:S,rpcStateOverride:_}));if(o){let t=await ue(e,{address:S.from}),i=await Promise.all(o.map(async e=>{let{address:i}=e,o=await r({block:v,request:{authorizationList:void 0,data:l,from:n?.address,to:i,value:(0,oZ.numberToHex)(t)},rpcStateOverride:_}).catch(()=>100000n);return 2n*BigInt(o)}));A+=i.reduce((e,t)=>e+t,0n)}return A}catch(r){throw function(e,{docsPath:t,...r}){let n;return new ak((n=(0,aT.getNodeError)(e,r))instanceof aI.UnknownNodeError?e:n,{docsPath:t,...r})}(r,{...t,account:n,chain:e.chain})}}async function ur(e,t){let{abi:r,address:n,args:i,functionName:o,dataSuffix:s,...a}=t,u=(0,oK.encodeFunctionData)({abi:r,args:i,functionName:o});try{return await o7(e,ut,"estimateGas")({data:`${u}${s?s.replace("0x",""):""}`,to:n,...a})}catch(t){let e=a.account?(0,oz.parseAccount)(a.account):void 0;throw sO(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:e?.address})}}async function un(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}let ui=new Map,uo=new Map;async function us(e,{cacheKey:t,cacheTime:r=1/0}){let n,i,o,s=(i=(n=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}))(t,ui),{clear:()=>{i.clear(),o.clear()},promise:i,response:o=n(t,uo)}),a=s.response.get();if(a&&r>0&&new Date().getTime()-a.created.getTime()<r)return a.data;let u=s.promise.get();u||(u=e(),s.promise.set(u));try{let e=await u;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}async function ua(e,{cacheTime:t=e.cacheTime}={}){let r;return BigInt(await us(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t}))}async function uu(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i,o=void 0!==r?(0,oZ.numberToHex)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]},{dedupe:!!o}),(0,ap.hexToNumber)(i)}async function uc(e,{address:t,blockNumber:r,blockTag:n="latest"}){let i=void 0!==r?(0,oZ.numberToHex)(r):void 0,o=await e.request({method:"eth_getCode",params:[t,i||n]},{dedupe:!!i});if("0x"!==o)return o}var ul=e.i(66755),uf=e.i(24381),ud=e.i(32931);let uh="/docs/contract/decodeEventLog";function up(e){let{abi:t,data:r,strict:n,topics:i}=e,o=n??!0,[s,...a]=i;if(!s)throw new se.AbiEventSignatureEmptyTopicsError({docsPath:uh});let u=t.find(e=>"event"===e.type&&s===(0,ar.toEventSelector)((0,ai.formatAbiItem)(e)));if(!(u&&"name"in u)||"event"!==u.type)throw new se.AbiEventSignatureNotFoundError(s,{docsPath:uh});let{name:c,inputs:l}=u,f=l?.some(e=>!("name"in e&&e.name)),d=f?[]:{},h=l.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<h.length;e++){let[t,r]=h[e],n=a[e];if(!n)throw new se.DecodeLogTopicsMismatch({abiItem:u,param:t});d[f?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,ud.decodeAbiParameters)([e],t)||[])[0]}({param:t,value:n})}let p=l.filter(e=>!("indexed"in e&&e.indexed));if(p.length>0){if(r&&"0x"!==r)try{let e=(0,ud.decodeAbiParameters)(p,r);if(e)if(f)for(let t=0;t<l.length;t++)d[t]=d[t]??e.shift();else for(let t=0;t<p.length;t++)d[p[t].name]=e[t]}catch(e){if(o)throw e instanceof se.AbiDecodingDataSizeTooSmallError||e instanceof uf.PositionOutOfBoundsError?new se.DecodeLogDataMismatch({abiItem:u,data:r,params:p,size:(0,ah.size)(r)}):e}else if(o)throw new se.DecodeLogDataMismatch({abiItem:u,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(d).length>0?d:void 0}}function um(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,ar.toEventSelector)(t));if(!n)return null;let s=up({...e,abi:[n],strict:i});return(!o||o.includes(s.eventName))&&function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{return"address"===e.type?(0,ul.isAddressEqual)(t,r):"string"===e.type||"bytes"===e.type?(0,o5.keccak256)((0,o6.toBytes)(t))===r:t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let o=r[n];return!!o&&(Array.isArray(e)?e:[e]).some(e=>i(o,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let o=r.find(t=>t.name===e);return!!o&&(Array.isArray(n)?n:[n]).some(r=>i(o,r,t[e]))})}({args:s.args,inputs:n.inputs,matchArgs:r})?{...s,...e}:null}catch(n){let t,r;if(n instanceof se.AbiEventSignatureNotFoundError)return null;if(n instanceof se.DecodeLogDataMismatch||n instanceof se.DecodeLogTopicsMismatch){if(i)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}function ug(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function uy(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:o,events:s,args:a,strict:u}={}){let c=s??(o?[o]:void 0),l=[];c&&(l=[c.flatMap(e=>aa({abi:[e],eventName:e.name,args:s?void 0:a}))],o&&(l=l[0]));let f=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:"bigint"==typeof n?(0,oZ.numberToHex)(n):n,toBlock:"bigint"==typeof i?(0,oZ.numberToHex)(i):i}]})).map(e=>ug(e));return c?um({abi:c,args:a,logs:f,strict:u??!1}):f}async function ub(e,t){let{abi:r,address:n,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:u,strict:c}=t,l=s?(0,ao.getAbiItem)({abi:r,name:s}):void 0,f=l?void 0:r.filter(e=>"event"===e.type);return o7(e,uy,"getLogs")({address:n,args:i,blockHash:o,event:l,events:f,fromBlock:a,toBlock:u,strict:c})}var uw=oX;class uv extends uw.BaseError{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function u_(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,o,s,a,u,c,l]=await o7(e,sC,"readContract")({abi:ux,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:s,chainId:Number(a),verifyingContract:u,salt:c},extensions:l,fields:t}}catch(e){throw"ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name?new uv({address:r}):e}}let ux=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function uE(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var o;let s="bigint"==typeof r?(0,oZ.numberToHex)(r):void 0;return{baseFeePerGas:(o=await e.request({method:"eth_feeHistory",params:[(0,oZ.numberToHex)(t),s||n,i]},{dedupe:!!s})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:o.gasUsedRatio,oldestBlock:BigInt(o.oldestBlock),reward:o.reward?.map(e=>e.map(e=>BigInt(e)))}}async function uS(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>ug(e));return"abi"in t&&t.abi?um({abi:t.abi,logs:i,strict:r}):i}async function uA(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>ug(e));return t.abi?um({abi:t.abi,logs:n,strict:r}):n}async function uk(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){let o=void 0!==r?(0,oZ.numberToHex)(r):void 0;var s=await e.request({method:"eth_getProof",params:[t,i,o||(n??"latest")]});return{...s,balance:s.balance?BigInt(s.balance):void 0,nonce:s.nonce?(0,ap.hexToNumber)(s.nonce):void 0,storageProof:s.storageProof?s.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function uI(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let o=void 0!==r?(0,oZ.numberToHex)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,o||n]})}async function uT(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:o}){let s=n||"latest",a=void 0!==r?(0,oZ.numberToHex)(r):void 0,u=null;if(!(u=i?await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,oZ.numberToHex)(o)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,(0,oZ.numberToHex)(o)]},{dedupe:!!a})))throw new aA.TransactionNotFoundError({blockHash:t,blockNumber:r,blockTag:s,hash:i,index:o});return(e.chain?.formatters?.transaction?.format||aj)(u)}async function uB(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([o7(e,ua,"getBlockNumber")({}),t?o7(e,uT,"getTransaction")({hash:t}):void 0]),o=r?.blockNumber||i?.blockNumber;return o?n-o+1n:0n}let uP={"0x0":"reverted","0x1":"success"};function uO(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>ug(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,ap.hexToNumber)(e.transactionIndex):null,status:e.status?uP[e.status]:null,type:e.type?aL[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}let uR=aU("transactionReceipt",uO);async function uC(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new aA.TransactionReceiptNotFoundError({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||uO)(r)}async function uM(e,t){let{account:r,allowFailure:n=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:u}=t,c=t.contracts,l=i??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024),f=a;if(!f){if(!e.chain)throw Error("client chain not configured. multicallAddress is required.");f=(0,oV.getChainContractAddress)({blockNumber:o,chain:e.chain,contract:"multicall3"})}let d=[[]],h=0,p=0;for(let e=0;e<c.length;e++){let{abi:t,address:i,args:o,functionName:s}=c[e];try{let e=(0,oK.encodeFunctionData)({abi:t,args:o,functionName:s});p+=(e.length-2)/2,l>0&&p>l&&d[h].length>0&&(h++,p=(e.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:e,target:i}]}catch(a){let e=sO(a,{abi:t,address:i,args:o,docsPath:"/docs/contract/multicall",functionName:s,sender:r});if(!n)throw e;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:i}]}}let m=await Promise.allSettled(d.map(t=>o7(e,sC,"readContract")({abi:oW.multicall3Abi,account:r,address:f,args:[t],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:u}))),g=[];for(let e=0;e<m.length;e++){let t=m[e];if("rejected"===t.status){if(!n)throw t.reason;for(let r=0;r<d[e].length;r++)g.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:i,success:o}=r[t],{callData:s}=d[e][t],{abi:a,address:u,functionName:l,args:f}=c[g.length];try{if("0x"===s)throw new se.AbiDecodingZeroDataError;if(!o)throw new oQ.RawContractError({data:i});let e=(0,oG.decodeFunctionResult)({abi:a,args:f,data:i,functionName:l});g.push(n?{result:e,status:"success"}:e)}catch(t){let e=sO(t,{abi:a,address:u,args:f,docsPath:"/docs/contract/multicall",functionName:l});if(!n)throw e;g.push({error:e,result:void 0,status:"failure"})}}}if(g.length!==c.length)throw new oX.BaseError("multicall results mismatch");return g}var uN=e.i(98344);async function uU(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=t;try{let t=[];for(let e of i){let r=e.blockOverrides?(0,uN.toRpc)(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,oz.parseAccount)(e.account):void 0,r=e.abi?(0,oK.encodeFunctionData)(e):e.data,n={...e,data:e.dataSuffix?(0,o2.concat)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,s8.assertRequest)(n),(0,s3.formatTransactionRequest)(n)}),i=e.stateOverrides?(0,aB.serializeStateOverride)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let u=("bigint"==typeof r?(0,oZ.numberToHex)(r):void 0)||n;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((e,t)=>({...aF(e),calls:e.calls.map((e,r)=>{let{abi:n,args:o,functionName:s,to:a}=i[t].calls[r],u=e.error?.data??e.returnData,c=BigInt(e.gasUsed),l=e.logs?.map(e=>ug(e)),f="0x1"===e.status?"success":"failure",d=n&&"success"===f&&"0x"!==u?(0,oG.decodeFunctionResult)({abi:n,data:u,functionName:s}):null,h=(()=>{let t;if("success"!==f&&(e.error?.data==="0x"?t=new se.AbiDecodingZeroDataError:e.error&&(t=new oQ.RawContractError(e.error)),t))return sO(t,{abi:n??[],address:a??"0x",args:o,functionName:s??"<unknown>"})})();return{data:u,gasUsed:c,logs:l,status:f,..."success"===f?{result:d}:{error:h}}})}))}catch(t){let e=(0,aT.getNodeError)(t,{});throw e instanceof aI.UnknownNodeError?t:e}}var uL=e.i(98954),uj=e.i(58302),u$=uL,uF=e.i(17840);function uz(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}var uD=e.i(21861);let uq=new TextEncoder;class uH extends u$.BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class uW extends u$.BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function uG(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,i=(0,uj.keccak_256)(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&((0,uD.assertSize)(e,r),n=(0,uF.padRight)(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let o=i.length/2,s=new Uint8Array(o);for(let e=0,t=0;e<o;e++){let r=uz(i.charCodeAt(t++)),n=uz(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new u$.BaseError(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*r+n}return s}(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?i:(0,uF.fromBytes)(i)}class uK extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let uV={checksum:new uK(8192)}.checksum;var uJ=uL;let uZ=/^0x[a-fA-F0-9]{40}$/;function uY(e,t={}){let{strict:r=!0}=t;if(!uZ.test(e))throw new uQ({address:e,cause:new u0});if(r){if(e.toLowerCase()===e)return;if(function(e){if(uV.has(e))return uV.get(e);uY(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=uG(function(e,t={}){let{size:r}=t,n=uq.encode(e);return"number"==typeof r?(function(e,t){if(e.length>t)throw new uH({givenSize:e.length,maxSize:t})}(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new uW({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let o="right"===r;i[o?t:n-t-1]=e[o?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return uV.set(e,i),i}(e)!==e)throw new uQ({address:e,cause:new u1})}}function uX(e,t={}){let{strict:r=!0}=t??{};try{return uY(e,{strict:r}),!0}catch{return!1}}class uQ extends uJ.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class u0 extends uJ.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class u1 extends uJ.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function u2(e){let t=!0,r="",n=0,i="",o=!1;for(let s=0;s<e.length;s++){let a=e[s];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function","error",""].includes(i))i="";else if(i+=a,")"===a){o=!0;break}continue}if(" "===a){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=a,r+=a}}if(!o)throw new uL.BaseError("Unable to normalize signature.");return i}var u6=e.i(1600),u5=e.i(26043),u3=e.i(3200),u8=e.i(9592),u4=e.i(30154);function u9(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,u8.parseSignature)(e);else{let r=(0,u3.parseStructs)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,u5.isStructSignature)(n)){t=(0,u8.parseSignature)(n,r);break}}}if(!t)throw new u6.InvalidAbiItemError({signature:e});return t}(e):e;return{...n,...r?{hash:ce(n)}:{}}}function u7(e){return(0,uF.slice)(ce(e),0,4)}function ce(e){return"string"!=typeof e&&"hash"in e&&e.hash?e.hash:uG((0,uF.fromString)(u2("string"==typeof e?e:(0,u4.formatAbiItem)(e))))}class ct extends uL.BaseError{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${u2((0,u4.formatAbiItem)(e.abiItem))}\`, and`,`\`${t.type}\` in \`${u2((0,u4.formatAbiItem)(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class cr extends uL.BaseError{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}var cn=uL;let ci=/^(.*)\[([0-9]*)\]$/,co=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cs=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ca(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,uF.size)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,uF.fromNumber)(t+i,{size:32})),n.push(a),i+=(0,uF.size)(a)):r.push(a)}return(0,uF.concat)(...r,...n)}function cu(e,t,r){let{checksumAddress:n=!1}={};if(e.length!==t.length)throw new cd({expectedLength:e.length,givenLength:t.length});let i=ca(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i,o=(i=r.type.match(/^(.*)\[(\d+)?\]$/))?[i[2]?Number(i[2]):null,i[1]]:void 0;if(o){let[i,s]=o;return function(t,r){let{checksumAddress:n,length:i,parameter:o}=r,s=null===i;if(!Array.isArray(t))throw new ch(t);if(!s&&t.length!==i)throw new cl({expectedLength:i,givenLength:t.length,type:`${o.type}[${i}]`});let a=!1,u=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:o,value:t[r]});i.dynamic&&(a=!0),u.push(i)}if(s||a){let e=ca(u);if(s){let t=(0,uF.fromNumber)(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?(0,uF.concat)(t,e):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,uF.concat)(...u.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:i,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,o=!1,s=[];for(let r=0;r<i.components.length;r++){let a=i.components[r],u=Array.isArray(t)?r:a.name,c=e({checksumAddress:n,parameter:a,value:t[u]});s.push(c),c.dynamic&&(o=!0)}return{dynamic:o,encoded:o?ca(s):(0,uF.concat)(...s.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return uY(e,{strict:r}),{dynamic:!1,encoded:(0,uF.padLeft)(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var s=n;if("boolean"!=typeof s)throw new uL.BaseError(`Invalid boolean value: "${s}" (type: ${typeof s}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,uF.padLeft)((0,uF.fromBoolean)(s))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=cs.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new uF.IntegerOutOfRangeError({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,uF.fromNumber)(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=(0,uF.size)(e);if(!r){let t=e;return n%32!=0&&(t=(0,uF.padRight)(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:(0,uF.concat)((0,uF.padLeft)((0,uF.fromNumber)(n,{size:32})),t)}}if(n!==Number.parseInt(r))throw new cf({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:(0,uF.padRight)(e)}}(n,{type:r.type});if("string"===r.type){var a=n;let e=(0,uF.fromString)(a),t=Math.ceil((0,uF.size)(e)/32),r=[];for(let n=0;n<t;n++)r.push((0,uF.padRight)((0,uF.slice)(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:(0,uF.concat)((0,uF.padRight)((0,uF.fromNumber)((0,uF.size)(e),{size:32})),...r)}}throw new cp(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function cc(e,t){if(e.length!==t.length)throw new cd({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n];r.push(cc.encode(i,o))}return(0,uF.concat)(...r)}(cc||(cc={})).encode=function e(t,r,n=!1){if("address"===t)return uY(r),(0,uF.padLeft)(r.toLowerCase(),32*!!n);if("string"===t)return(0,uF.fromString)(r);if("bytes"===t)return r;if("bool"===t)return(0,uF.padLeft)((0,uF.fromBoolean)(r),n?32:1);let i=t.match(cs);if(i){let[e,t,o="256"]=i,s=Number.parseInt(o)/8;return(0,uF.fromNumber)(r,{size:n?32:s,signed:"int"===t})}let o=t.match(co);if(o){let[e,t]=o;if(Number.parseInt(t)!==(r.length-2)/2)throw new cf({expectedSize:Number.parseInt(t),value:r});return(0,uF.padRight)(r,32*!!n)}let s=t.match(ci);if(s&&Array.isArray(r)){let[t,n]=s,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":(0,uF.concat)(...i)}throw new cp(t)};class cl extends cn.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class cf extends cn.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,uF.size)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class cd extends cn.BaseError{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class ch extends cn.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class cp extends cn.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function cm(e,t={}){return u9(e,t)}let cg="0x0000000000000000000000000000000000000000";var cy=e.i(14408);async function cb(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:u}=t,c=t.account?(0,oz.parseAccount)(t.account):void 0;if(s&&!c)throw new oX.BaseError("`account` is required when `traceAssetChanges` is true");let l=c?function(e,t){let{bytecode:r,args:n}=t;return(0,uF.concat)(r,e.inputs?.length&&n?.length?cu(e.inputs,n):"0x")}(u9("constructor(bytes, bytes)"),{bytecode:cy.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(e,...t){let{overloads:r}=e,n=r?function(e,t,r){let n=function(e,t,r){let n,{args:i=[],prepare:o=!0}=r??{},s=(0,uF.validate)(t,{strict:!1}),a=e.filter(e=>s?"function"===e.type||"error"===e.type?u7(e)===(0,uF.slice)(t,0,4):"event"===e.type&&ce(e)===t:"name"in e&&e.name===t);if(0===a.length)throw new cr({name:t});if(1===a.length)return{...a[0],...o?{hash:ce(a[0])}:{}};for(let e of a)if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...o?{hash:ce(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return uX(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===i&&"components"in r?Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?"string"===n||t instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)&&Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}))}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let o=t[i],s=r[i];if("tuple"===o.type&&"tuple"===s.type&&"components"in o&&"components"in s)return e(o.components,s.components,n[i]);let a=[o.type,s.type];if(a.includes("address")&&a.includes("bytes20")||(a.includes("address")&&a.includes("string")?uX(n[i],{strict:!1}):!!(a.includes("address")&&a.includes("bytes"))&&uX(n[i],{strict:!1})))return a}}(e.inputs,n.inputs,i);if(t)throw new ct({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}let u=(()=>{if(n)return n;let[e,...t]=a;return{...e,overloads:t}})();if(!u)throw new cr({name:t});return{...u,...o?{hash:ce(u)}:{}}}(e,t,r);if("function"!==n.type)throw new cr({name:t,type:"function"});return n}([e,...r],e.name,{args:t[0]}):e,i=u7(n),o=t.length>0?cu(n.inputs,t[0]):void 0;return o?(0,uF.concat)(i,o):i}(cm("function getBalance(address)"),[c.address])]}):void 0,f=s?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await s4(e,{account:c.address,...t,data:t.abi?(0,oK.encodeFunctionData)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],d=await uU(e,{blockNumber:r,blockTag:n,blocks:[...s?[{calls:[{data:l}],stateOverrides:o},{calls:f.map((e,t)=>({abi:[cm("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:e,from:cg,nonce:t})),stateOverrides:[{address:cg,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:l}]},{calls:f.map((e,t)=>({abi:[cm("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:e,from:cg,nonce:t})),stateOverrides:[{address:cg,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[cm("function decimals() returns (uint256)")],functionName:"decimals",from:cg,nonce:t})),stateOverrides:[{address:cg,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[cm("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:cg,nonce:t})),stateOverrides:[{address:cg,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[cm("function symbol() returns (string)")],functionName:"symbol",from:cg,nonce:t})),stateOverrides:[{address:cg,nonce:0}]}]:[]],traceTransfers:a,validation:u}),h=s?d[2]:d[0],[p,m,,g,y,b,w,v]=s?d:[],{calls:_,...x}=h,E=_.slice(0,-1)??[],S=[...p?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,ap.hexToBigInt)(e.data):null),A=[...g?.calls??[],...y?.calls??[]].map(e=>"success"===e.status?(0,ap.hexToBigInt)(e.data):null),k=(b?.calls??[]).map(e=>"success"===e.status?e.result:null),I=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(w?.calls??[]).map(e=>"success"===e.status?e.result:null),B=[];for(let[e,t]of A.entries()){let r=S[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=k[e-1],i=I[e-1],o=T[e-1],s=0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:o||n?Number(n??1):void 0,symbol:i??void 0};B.some(e=>e.token.address===s.address)||B.push({token:s,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:B,block:x,results:E}}async function cw(e,t){let{abi:r,address:n,args:i,dataSuffix:o,functionName:s,...a}=t,u=a.account?(0,oz.parseAccount)(a.account):e.account,c=(0,oK.encodeFunctionData)({abi:r,args:i,functionName:s});try{let{data:l}=await o7(e,sR.call,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:n,...a,account:u}),f=(0,oG.decodeFunctionResult)({abi:r,args:i,functionName:s,data:l||"0x"}),d=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:f,request:{abi:d,address:n,args:i,dataSuffix:o,functionName:s,...a,account:u}}}catch(e){throw sO(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:u?.address})}}async function cv(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let c_=`Ethereum Signed Message:
`;function cx(e,t){let r,n;return(0,o5.keccak256)((r="string"==typeof e?(0,oZ.stringToHex)(e):"string"==typeof e.raw?e.raw:(0,oZ.bytesToHex)(e.raw),n=(0,oZ.stringToHex)(`${c_}${(0,ah.size)(r)}`),(0,o2.concat)([n,r])),t)}var cE=e.i(19141);let cS="0x6492649264926492649264926492649264926492649264926492649264926492";var cA=e.i(79905),ck=e.i(14259);async function cI(e,t){let{address:r,factory:n,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=e.chain?.contracts?.universalSignatureVerifier?.address,...u}=t,c=(0,o3.isHex)(s)?s:"object"==typeof s&&"r"in s&&"s"in s?function({r:e,s:t,to:r="hex",v:n,yParity:i}){let o=(()=>{if(0===i||1===i)return i;if(n&&(27n===n||28n===n||n>=35n))return+(n%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),s=`0x${new ck.secp256k1.Signature((0,ap.hexToBigInt)(e),(0,ap.hexToBigInt)(t)).toCompactHex()}${0===o?"1b":"1c"}`;return"hex"===r?s:(0,o6.hexToBytes)(s)}(s):(0,oZ.bytesToHex)(s),l=await (async()=>(n||i)&&(0,cA.sliceHex)(c,-32)!==cS?function(e){let{address:t,data:r,signature:n,to:i="hex"}=e,o=(0,o2.concatHex)([(0,an.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),cS]);return"hex"===i?o:(0,o6.hexToBytes)(o)}({address:n,data:i,signature:c}):c)();try{let t=a?{to:a,data:(0,oK.encodeFunctionData)({abi:oW.universalSignatureValidatorAbi,functionName:"isValidSig",args:[r,o,l]}),...u}:{data:(0,cE.encodeDeployData)({abi:oW.universalSignatureValidatorAbi,args:[r,o,l],bytecode:cy.universalSignatureValidatorByteCode}),...u},{data:n}=await o7(e,sR.call,"call")(t);return(0,ap.hexToBool)(n??"0x0")}catch(e){try{if((0,ul.isAddressEqual)((0,ad.getAddress)(r),await ay({hash:o,signature:s})))return!0}catch{}if(e instanceof oQ.CallExecutionError)return!1;throw e}}async function cT(e,{address:t,message:r,factory:n,factoryData:i,signature:o,...s}){return cI(e,{address:t,factory:n,factoryData:i,hash:cx(r),signature:o,...s})}var cB=e.i(19125),cP=e.i(33847),cO=oX;class cR extends cO.BaseError{constructor({domain:e}){super(`Invalid domain "${(0,cP.stringify)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class cC extends cO.BaseError{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cM extends cO.BaseError{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var cN=e.i(84903),cU=e.i(24901);function cL({data:e,primaryType:t,types:r}){let n=function e({data:t,primaryType:r,types:n}){let i=[{type:"bytes32"}],o=[function({primaryType:e,types:t}){let r=(0,oZ.toHex)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u)?.[0];if(n.has(i)||void 0===r[i])return n;for(let t of(n.add(i),r[i]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,o5.keccak256)(r)}({primaryType:r,types:n})];for(let s of n[r]){let[r,a]=function t({types:r,name:n,type:i,value:o}){if(void 0!==r[i])return[{type:"bytes32"},(0,o5.keccak256)(e({data:o,primaryType:i,types:r}))];if("bytes"===i)return o=`0x${(o.length%2?"0":"")+o.slice(2)}`,[{type:"bytes32"},(0,o5.keccak256)(o)];if("string"===i)return[{type:"bytes32"},(0,o5.keccak256)((0,oZ.toHex)(o))];if(i.lastIndexOf("]")===i.length-1){let e=i.slice(0,i.lastIndexOf("[")),s=o.map(i=>t({name:n,type:e,types:r,value:i}));return[{type:"bytes32"},(0,o5.keccak256)((0,an.encodeAbiParameters)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:i},o]}({types:n,name:s.name,type:s.type,value:t[s.name]});i.push(r),o.push(a)}return(0,an.encodeAbiParameters)(i,o)}({data:e,primaryType:t,types:r});return(0,o5.keccak256)(n)}async function cj(e,t){let{address:r,factory:n,factoryData:i,signature:o,message:s,primaryType:a,types:u,domain:c,...l}=t;return cI(e,{address:r,factory:n,factoryData:i,hash:function(e){let{domain:t={},message:r,primaryType:n}=e,i={EIP712Domain:function({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:t}),...e.types};!function(e){let{domain:t,message:r,primaryType:n,types:i}=e,o=(e,t)=>{for(let r of e){let{name:e,type:n}=r,s=t[e],a=n.match(cU.integerRegex);if(a&&("number"==typeof s||"bigint"==typeof s)){let[e,t,r]=a;(0,oZ.numberToHex)(s,{signed:"int"===t,size:Number.parseInt(r)/8})}if("address"===n&&"string"==typeof s&&!(0,cN.isAddress)(s))throw new cB.InvalidAddressError({address:s});let u=n.match(cU.bytesRegex);if(u){let[e,t]=u;if(t&&(0,ah.size)(s)!==Number.parseInt(t))throw new se.BytesSizeMismatchError({expectedSize:Number.parseInt(t),givenSize:(0,ah.size)(s)})}let c=i[n];c&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new cM({type:e})}(n),o(c,s))}};if(i.EIP712Domain&&t){if("object"!=typeof t)throw new cR({domain:t});o(i.EIP712Domain,t)}if("EIP712Domain"!==n)if(i[n])o(i[n],r);else throw new cC({primaryType:n,types:i})}({domain:t,message:r,primaryType:n,types:i});let o=["0x1901"];return t&&o.push(function({domain:e,types:t}){return cL({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:i})),"EIP712Domain"!==n&&o.push(cL({data:r,primaryType:n,types:i})),(0,o5.keccak256)((0,o2.concat)(o))}({message:s,primaryType:a,types:u,domain:c}),signature:o,...l})}let c$=new Map,cF=new Map,cz=0;function cD(e,t,r){let n=++cz,i=()=>c$.get(e)||[],o=()=>{let t,r=i();if(!r.some(e=>e.id===n))return;let o=cF.get(e);if(1===r.length&&o){let e=o();e instanceof Promise&&e.catch(()=>{})}t=i(),c$.set(e,t.filter(e=>e.id!==n))},s=i();if(c$.set(e,[...s,{id:n,fns:t}]),s&&s.length>0)return o;let a={};for(let e in t)a[e]=(...t)=>{let r=i();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let u=r(a);return"function"==typeof u&&cF.set(e,u),o}var cq=e.i(38104);async function cH(e){return new Promise(t=>setTimeout(t,e))}function cW(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,o)=>{let s=async({count:a=0}={})=>{let u=async({error:e})=>{let r="function"==typeof t?t({count:a,error:e}):t;r&&await cH(r),s({count:a+1})};try{let t=await e();i(t)}catch(e){if(a<r&&await n({count:a,error:e}))return u({error:e});o(e)}};s()})}function cG(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0,o=()=>i=!1;return(async()=>{let s;t&&(s=await e({unpoll:o}));let a=await r?.(s)??n;await cH(a);let u=async()=>{i&&(await e({unpoll:o}),await cH(n),u())};u()})(),o}function cK(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:o,pollingInterval:s=e.pollingInterval}){let a;return("u">typeof o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?cD((0,cP.stringify)(["watchBlockNumber",e.uid,t,r,s]),{onBlockNumber:n,onError:i},n=>cG(async()=>{try{let t=await o7(e,ua,"getBlockNumber")({cacheTime:0});if(a){if(t===a)return;if(t-a>1&&r)for(let e=a+1n;e<t;e++)n.onBlockNumber(e,a),a=e}(!a||t>a)&&(n.onBlockNumber(t,a),a=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:s})):cD((0,cP.stringify)(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:i},t=>{let r=!0,n=()=>r=!1;return(async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:o}=await i.subscribe({params:["newHeads"],onData(e){if(!r)return;let n=(0,ap.hexToBigInt)(e.result?.number);t.onBlockNumber(n,a),a=n},onError(e){t.onError?.(e)}});n=o,r||n()}catch(e){i?.(e)}})(),()=>n()})}async function cV(e,t){let{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:o,retryCount:s=6,retryDelay:a=({count:e})=>200*~~(1<<e),timeout:u=18e4}=t,c=(0,cP.stringify)(["waitForTransactionReceipt",e.uid,i]),l=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,f,d,h,p=!1,m,g,{promise:y,resolve:b,reject:w}=(0,cq.withResolvers)(),v=u?setTimeout(()=>{g(),m(),w(new aA.WaitForTransactionReceiptTimeoutError({hash:i}))},u):void 0;return m=cD(c,{onReplaced:o,resolve:b,reject:w},async t=>{if((h=await o7(e,uC,"getTransactionReceipt")({hash:i}).catch(()=>{}))&&n<=1){clearTimeout(v),t.resolve(h),m();return}g=o7(e,cK,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(o){let u=e=>{clearTimeout(v),g(),e(),m()},c=o;if(!p)try{if(h){if(n>1&&(!h.blockNumber||c-h.blockNumber+1n<n))return;u(()=>t.resolve(h));return}if(r&&!f&&(p=!0,await cW(async()=>{(f=await o7(e,uT,"getTransaction")({hash:i})).blockNumber&&(c=f.blockNumber)},{delay:a,retryCount:s}),p=!1),h=await o7(e,uC,"getTransactionReceipt")({hash:i}),n>1&&(!h.blockNumber||c-h.blockNumber+1n<n))return;u(()=>t.resolve(h))}catch(r){if(r instanceof aA.TransactionNotFoundError||r instanceof aA.TransactionReceiptNotFoundError){if(!f){p=!1;return}try{d=f,p=!0;let r=await cW(()=>o7(e,aD,"getBlock")({blockNumber:c,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:e})=>e instanceof aN});p=!1;let i=r.transactions.find(({from:e,nonce:t})=>e===d.from&&t===d.nonce);if(!i||(h=await o7(e,uC,"getTransactionReceipt")({hash:i.hash}),n>1&&(!h.blockNumber||c-h.blockNumber+1n<n)))return;let o="replaced";i.to===d.to&&i.value===d.value&&i.input===d.input?o="repriced":i.from===i.to&&0n===i.value&&(o="cancelled"),u(()=>{t.onReplaced?.({reason:o,replacedTransaction:d,transaction:i,transactionReceipt:h}),t.resolve(h)})}catch(e){u(()=>t.reject(e))}}else u(()=>t.reject(r))}}})}),y}let cJ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,cZ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function cY(e,t){let{address:r,domain:n,message:i,nonce:o,scheme:s,signature:a,time:u=new Date,...c}=t,l=function(e){let{scheme:t,statement:r,...n}=e.match(cJ)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:u,...c}=e.match(cZ)?.groups??{},l=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...u?{requestId:u}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!l.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:o,time:s=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||o&&n.scheme!==o||n.expirationTime&&s>=n.expirationTime||n.notBefore&&s<n.notBefore)return!1;try{if(!n.address||!(0,cN.isAddress)(n.address,{strict:!1})||t&&!(0,ul.isAddressEqual)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:l,nonce:o,scheme:s,time:u}))return!1;let f=cx(i);return cI(e,{address:l.address,hash:f,signature:a,...c})}async function cX(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function cQ(e){return{call:t=>(0,sR.call)(e,t),createAccessList:t=>s4(e,t),createBlockFilter:()=>s7(e),createContractEventFilter:t=>ac(e,t),createEventFilter:t=>al(e,t),createPendingTransactionFilter:()=>af(e),estimateContractGas:t=>ur(e,t),estimateGas:t=>ut(e,t),getBalance:t=>ue(e,t),getBlobBaseFee:()=>un(e),getBlock:t=>aD(e,t),getBlockNumber:t=>ua(e,t),getBlockTransactionCount:t=>uu(e,t),getBytecode:t=>uc(e,t),getChainId:()=>a8(e),getCode:t=>uc(e,t),getContractEvents:t=>ub(e,t),getEip712Domain:t=>u_(e,t),getEnsAddress:t=>sM(e,t),getEnsAvatar:t=>s0(e,t),getEnsName:t=>s1(e,t),getEnsResolver:t=>s2(e,t),getEnsText:t=>sQ(e,t),getFeeHistory:t=>uE(e,t),estimateFeesPerGas:t=>aG(e,t),getFilterChanges:t=>uS(e,t),getFilterLogs:t=>uA(e,t),getGasPrice:()=>aq(e),getLogs:t=>uy(e,t),getProof:t=>uk(e,t),estimateMaxPriorityFeePerGas:t=>aH(e,t),getStorageAt:t=>uI(e,t),getTransaction:t=>uT(e,t),getTransactionConfirmations:t=>uB(e,t),getTransactionCount:t=>aV(e,t),getTransactionReceipt:t=>uC(e,t),multicall:t=>uM(e,t),prepareTransactionRequest:t=>a7(e,t),readContract:t=>sC(e,t),sendRawTransaction:t=>cX(e,t),simulate:t=>uU(e,t),simulateBlocks:t=>uU(e,t),simulateCalls:t=>cb(e,t),simulateContract:t=>cw(e,t),verifyMessage:t=>cT(e,t),verifySiweMessage:t=>cY(e,t),verifyTypedData:t=>cj(e,t),uninstallFilter:t=>cv(e,t),waitForTransactionReceipt:t=>cV(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:u=e.pollingInterval}){let c,l,f,d,h="u">typeof a?a:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),p=s??!1;return h?cD((0,cP.stringify)(["watchBlocks",e.uid,t,r,n,p,u]),{onBlock:i,onError:o},i=>cG(async()=>{try{let n=await o7(e,aD,"getBlock")({blockTag:t,includeTransactions:p});if(null!==n.number&&c?.number!=null){if(n.number===c.number)return;if(n.number-c.number>1&&r)for(let t=c?.number+1n;t<n.number;t++){let r=await o7(e,aD,"getBlock")({blockNumber:t,includeTransactions:p});i.onBlock(r,c),c=r}}(c?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>c.number)&&(i.onBlock(n,c),c=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:u})):(l=!0,f=!0,d=()=>l=!1,(async()=>{try{n&&o7(e,aD,"getBlock")({blockTag:t,includeTransactions:p}).then(e=>{l&&f&&(i(e,void 0),f=!1)}).catch(o);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await r.subscribe({params:["newHeads"],async onData(t){if(!l)return;let r=await o7(e,aD,"getBlock")({blockNumber:t.result?.number,includeTransactions:p}).catch(()=>{});l&&(i(r,c),f=!1,c=r)},onError(e){o?.(e)}});d=s,l||d()}catch(e){o?.(e)}})(),()=>d())})(e,t),watchBlockNumber:t=>cK(e,t),watchContractEvent:t=>(function(e,t){let r,n,i,o,{abi:s,address:a,args:u,batch:c=!0,eventName:l,fromBlock:f,onError:d,onLogs:h,poll:p,pollingInterval:m=e.pollingInterval,strict:g}=t;return("u">typeof p?p:"bigint"==typeof f||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(r=g??!1,cD((0,cP.stringify)(["watchContractEvent",a,u,c,e.uid,l,m,r,f]),{onLogs:h,onError:d},t=>{let n;void 0!==f&&(n=f-1n);let i,o=!1,d=cG(async()=>{if(!o){try{i=await o7(e,ac,"createContractEventFilter")({abi:s,address:a,args:u,eventName:l,strict:r,fromBlock:f})}catch{}o=!0;return}try{let o;if(i)o=await o7(e,uS,"getFilterChanges")({filter:i});else{let t=await o7(e,ua,"getBlockNumber")({});o=n&&n<t?await o7(e,ub,"getContractEvents")({abi:s,address:a,args:u,eventName:l,fromBlock:n+1n,toBlock:t,strict:r}):[],n=t}if(0===o.length)return;if(c)t.onLogs(o);else for(let e of o)t.onLogs([e])}catch(e){i&&e instanceof sl&&(o=!1),t.onError?.(e)}},{emitOnBegin:!0,interval:m});return async()=>{i&&await o7(e,cv,"uninstallFilter")({filter:i}),d()}})):(n=(0,cP.stringify)(["watchContractEvent",a,u,c,e.uid,l,m,g??!1]),i=!0,o=()=>i=!1,cD(n,{onLogs:h,onError:d},t=>((async()=>{try{let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),n=l?aa({abi:s,eventName:l,args:u}):[],{unsubscribe:c}=await r.subscribe({params:["logs",{address:a,topics:n}],onData(e){if(!i)return;let r=e.result;try{let{eventName:e,args:n}=up({abi:s,data:r.data,topics:r.topics,strict:g}),i=ug(r,{args:n,eventName:e});t.onLogs([i])}catch(o){let e,n;if(o instanceof se.DecodeLogDataMismatch||o instanceof se.DecodeLogTopicsMismatch){if(g)return;e=o.abiItem.name,n=o.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=ug(r,{args:n?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});o=c,i||o()}catch(e){d?.(e)}})(),()=>o())))})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:u,poll:c,pollingInterval:l=e.pollingInterval,strict:f}){let d,h,p="u">typeof c?c:"bigint"==typeof s||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),m=f??!1;return p?cD((0,cP.stringify)(["watchEvent",t,r,n,e.uid,i,l,s]),{onLogs:u,onError:a},a=>{let u;void 0!==s&&(u=s-1n);let c,f=!1,d=cG(async()=>{if(!f){try{c=await o7(e,al,"createEventFilter")({address:t,args:r,event:i,events:o,strict:m,fromBlock:s})}catch{}f=!0;return}try{let s;if(c)s=await o7(e,uS,"getFilterChanges")({filter:c});else{let n=await o7(e,ua,"getBlockNumber")({});s=u&&u!==n?await o7(e,uy,"getLogs")({address:t,args:r,event:i,events:o,fromBlock:u+1n,toBlock:n}):[],u=n}if(0===s.length)return;if(n)a.onLogs(s);else for(let e of s)a.onLogs([e])}catch(e){c&&e instanceof sl&&(f=!1),a.onError?.(e)}},{emitOnBegin:!0,interval:l});return async()=>{c&&await o7(e,cv,"uninstallFilter")({filter:c}),d()}}):(d=!0,h=()=>d=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),s=o??(i?[i]:void 0),c=[];s&&(c=[s.flatMap(e=>aa({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:l}=await n.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!d)return;let t=e.result;try{let{eventName:e,args:r}=up({abi:s??[],data:t.data,topics:t.topics,strict:m}),n=ug(t,{args:r,eventName:e});u([n])}catch(i){let e,r;if(i instanceof se.DecodeLogDataMismatch||i instanceof se.DecodeLogTopicsMismatch){if(f)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=ug(t,{args:r?[]:{},eventName:e});u([n])}},onError(e){a?.(e)}});h=l,d||h()}catch(e){a?.(e)}})(),()=>h())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:o=e.pollingInterval}){let s,a;return("u">typeof i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?cD((0,cP.stringify)(["watchPendingTransactions",e.uid,t,o]),{onTransactions:n,onError:r},r=>{let n,i=cG(async()=>{try{if(!n)try{n=await o7(e,af,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let o=await o7(e,uS,"getFilterChanges")({filter:n});if(0===o.length)return;if(t)r.onTransactions(o);else for(let e of o)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:o});return async()=>{n&&await o7(e,cv,"uninstallFilter")({filter:n}),i()}}):(s=!0,a=()=>s=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!s)return;let t=e.result;n([t])},onError(e){r?.(e)}});a=t,s||a()}catch(e){r?.(e)}})(),()=>a())})(e,t)}}function c0(e){let{key:t="public",name:r="Public Client"}=e;return(function(e){let{batch:t,chain:r,ccipRead:n,key:i="base",name:o="Base Client",type:s="base"}=e,a=e.experimental_blockTag??("number"==typeof r?.experimental_preconfirmationTime?"pending":void 0),u=Math.min(Math.max(Math.floor((r?.blockTime??12e3)/2),500),4e3),c=e.pollingInterval??u,l=e.cacheTime??c,f=e.account?(0,oz.parseAccount)(e.account):void 0,{config:d,request:h,value:p}=e.transport({chain:r,pollingInterval:c}),m={account:f,batch:t,cacheTime:l,ccipRead:n,chain:r,key:i,name:o,pollingInterval:c,request:h,transport:{...d,...p},type:s,uid:oH(),...a?{experimental_blockTag:a}:{}};return Object.assign(m,{extend:function e(t){return r=>{let n=r(t);for(let e in m)delete n[e];let i={...t,...n};return Object.assign(i,{extend:e(i)})}}(m)})})({...e,key:t,name:r,type:"publicClient"}).extend(cQ)}let c1={block:az({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=aj(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,ap.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:a$({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,ap.hexToBigInt)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:uR({format:e=>({l1GasPrice:e.l1GasPrice?(0,ap.hexToBigInt)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,ap.hexToBigInt)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,ap.hexToBigInt)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};var c2=e.i(31443),c6=e.i(78764);function c5(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new c6.InvalidChainIdError({chainId:t});if(i&&!(0,cN.isAddress)(i))throw new cB.InvalidAddressError({address:i});if(n&&n>c2.maxUint256)throw new aI.FeeCapTooHighError({maxFeePerGas:n});if(r&&n&&r>n)throw new aI.TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:r})}function c3(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new aA.InvalidStorageKeySizeError({storageKey:i[e]});if(!(0,cN.isAddress)(n,{strict:!1}))throw new cB.InvalidAddressError({address:n});t.push([n,i])}return t}function c8(e,t){let r=t??e,{v:n,yParity:i}=r;if(typeof r.r>"u"||typeof r.s>"u"||typeof n>"u"&&typeof i>"u")return[];let o=(0,oJ.trim)(r.r),s=(0,oJ.trim)(r.s);return["number"==typeof i?i?(0,oZ.numberToHex)(1):"0x":0n===n?"0x":1n===n?(0,oZ.numberToHex)(1):27n===n?"0x":(0,oZ.numberToHex)(1),"0x00"===o?"0x":o,"0x00"===s?"0x":s]}let c4={blockTime:2e3,contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:c1,serializers:{transaction:function(e,t){var r;let n;return"deposit"===(r=e).type||"u">typeof r.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,cN.isAddress)(t))throw new cB.InvalidAddressError({address:t});if(r&&!(0,cN.isAddress)(r))throw new cB.InvalidAddressError({address:r})}(e);let{sourceHash:t,data:r,from:n,gas:i,isSystemTx:o,mint:s,to:a,value:u}=e,c=[t,n,a??"0x",s?(0,oZ.toHex)(s):"0x",u?(0,oZ.toHex)(u):"0x",i?(0,oZ.toHex)(i):"0x",o?"0x1":"0x",r??"0x"];return(0,o2.concatHex)(["0x7e",aw(c)])}(e):"eip1559"===(n=a3(e))?function(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:c,data:l}=e;c5(e);let f=c3(c),d=[(0,oZ.numberToHex)(r),i?(0,oZ.numberToHex)(i):"0x",u?(0,oZ.numberToHex)(u):"0x",a?(0,oZ.numberToHex)(a):"0x",n?(0,oZ.numberToHex)(n):"0x",o??"0x",s?(0,oZ.numberToHex)(s):"0x",l??"0x",f,...c8(e,t)];return(0,o2.concatHex)(["0x02",aw(d)])}(e,t):"eip2930"===n?function(e,t){let{chainId:r,gas:n,data:i,nonce:o,to:s,value:a,accessList:u,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=e;if(t<=0)throw new c6.InvalidChainIdError({chainId:t});if(o&&!(0,cN.isAddress)(o))throw new cB.InvalidAddressError({address:o});if(r||i)throw new oX.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>c2.maxUint256)throw new aI.FeeCapTooHighError({maxFeePerGas:n})}(e);let l=c3(u),f=[(0,oZ.numberToHex)(r),o?(0,oZ.numberToHex)(o):"0x",c?(0,oZ.numberToHex)(c):"0x",n?(0,oZ.numberToHex)(n):"0x",s??"0x",a?(0,oZ.numberToHex)(a):"0x",i??"0x",l,...c8(e,t)];return(0,o2.concatHex)(["0x01",aw(f)])}(e,t):"eip4844"===n?function(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:f}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new a1;for(let e of t){let t=(0,ah.size)(e),r=(0,ap.hexToNumber)((0,cA.slice)(e,0,1));if(32!==t)throw new a2({hash:e,size:t});if(1!==r)throw new a6({hash:e,version:r})}}c5(e)}(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,oZ.bytesToHex)(e)),r=e.kzg,n=aJ({blobs:t,kzg:r});if(typeof d>"u"&&(d=aX({commitments:n})),typeof h>"u"){let e=aZ({blobs:t,commitments:n,kzg:r});h=a5({blobs:t,commitments:n,proofs:e})}}let p=c3(l),m=[(0,oZ.numberToHex)(r),i?(0,oZ.numberToHex)(i):"0x",c?(0,oZ.numberToHex)(c):"0x",u?(0,oZ.numberToHex)(u):"0x",n?(0,oZ.numberToHex)(n):"0x",o??"0x",s?(0,oZ.numberToHex)(s):"0x",f??"0x",p,a?(0,oZ.numberToHex)(a):"0x",d??[],...c8(e,t)],g=[],y=[],b=[];if(h)for(let e=0;e<h.length;e++){let{blob:t,commitment:r,proof:n}=h[e];g.push(t),y.push(r),b.push(n)}return(0,o2.concatHex)(["0x03",h?aw([m,g,y,b]):aw(m)])}(e,t):"eip7702"===n?function(e,t){let{authorizationList:r,chainId:n,gas:i,nonce:o,to:s,value:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:l,data:f}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!(0,cN.isAddress)(r))throw new cB.InvalidAddressError({address:r});if(t<0)throw new c6.InvalidChainIdError({chainId:t})}c5(e)}(e);let d=c3(l),h=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{chainId:e,nonce:n,...i}=r,o=r.address;t.push([e?(0,oZ.toHex)(e):"0x",o,n?(0,oZ.toHex)(n):"0x",...c8({},i)])}return t}(r);return(0,o2.concatHex)(["0x04",aw([(0,oZ.numberToHex)(n),o?(0,oZ.numberToHex)(o):"0x",c?(0,oZ.numberToHex)(c):"0x",u?(0,oZ.numberToHex)(u):"0x",i?(0,oZ.numberToHex)(i):"0x",s??"0x",a?(0,oZ.numberToHex)(a):"0x",f??"0x",d,h,...c8(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:n,data:i,nonce:o,to:s,value:a,gasPrice:u}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=e;if(o&&!(0,cN.isAddress)(o))throw new cB.InvalidAddressError({address:o});if("u">typeof t&&t<=0)throw new c6.InvalidChainIdError({chainId:t});if(r||i)throw new oX.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>c2.maxUint256)throw new aI.FeeCapTooHighError({maxFeePerGas:n})}(e);let c=[o?(0,oZ.numberToHex)(o):"0x",u?(0,oZ.numberToHex)(u):"0x",n?(0,oZ.numberToHex)(n):"0x",s??"0x",a?(0,oZ.numberToHex)(a):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new aA.InvalidLegacyVError({v:t.v});return e})(),n=(0,oJ.trim)(t.r),i=(0,oJ.trim)(t.s);c=[...c,(0,oZ.numberToHex)(e),"0x00"===n?"0x":n,"0x00"===i?"0x":i]}else r>0&&(c=[...c,(0,oZ.numberToHex)(r),"0x","0x"]);return aw(c)}(e,t)}}};function c9(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}let c7=c9({...c4,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...c4.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:1});({...c7});var le=oX;class lt extends le.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var lr=e.i(1800);let ln={current:0,take(){return this.current++},reset(){this.current=0}},li=new(e.i(26416)).LruMap(8192);function lo(e,t={}){let{batch:r,fetchOptions:n,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:u,retryDelay:c,raw:l}=t;return({chain:e,retryCount:f,timeout:d})=>{let{batchSize:h=1e3,wait:p=0}="object"==typeof r?r:{},m=t.retryCount??f,g=d??t.timeout??1e4,y=e?.rpcUrls.default.http[0];if(!y)throw new lt;let b=function(e,t={}){return{async request(r){let{body:n,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:s=t.timeout??1e4}=r,a={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:c,signal:l}=a;try{let t,r=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let s;try{let t=new AbortController;r>0&&(s=setTimeout(()=>{n&&t.abort()},r)),i(await e({signal:t?.signal||null}))}catch(e){e?.name==="AbortError"&&o(t),o(e)}finally{clearTimeout(s)}})()})}(async({signal:t})=>{let r={...a,body:Array.isArray(n)?(0,cP.stringify)(n.map(e=>({jsonrpc:"2.0",id:e.id??ln.take(),...e}))):(0,cP.stringify)({jsonrpc:"2.0",id:n.id??ln.take(),...n}),headers:{"Content-Type":"application/json",...u},method:c||"POST",signal:l||(s>0?t:null)},o=new Request(e,r),f=await i?.(o,r)??{...r,url:e};return await fetch(f.url??e,f)},{errorInstance:new st.TimeoutError({body:n,url:e}),timeout:s,signal:!0});if(o&&await o(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new st.HttpRequestError({body:n,details:(0,cP.stringify)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){throw t instanceof st.HttpRequestError||t instanceof st.TimeoutError?t:new st.HttpRequestError({body:n,cause:t,url:e})}}}}(y,{fetchOptions:n,onRequest:a,onResponse:u,timeout:g});return function({key:e,methods:t,name:r,request:n,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},u){return{config:{key:e,methods:t,name:r,request:n,retryCount:i,retryDelay:o,timeout:s,type:a},request:function(e,t={}){return async(r,n={})=>{let{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:u}={...t,...n},{method:c}=r;if(o?.exclude?.includes(c)||o?.include&&!o.include.includes(c))throw new sp(Error("method not supported"),{method:c});let l=i?(0,oZ.stringToHex)(`${u}.${(0,cP.stringify)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(li.get(r))return li.get(r);let n=e().finally(()=>li.delete(r));return li.set(r,n),n}(()=>cW(async()=>{try{return await e(r)}catch(e){switch(e.code){case so.code:throw new so(e);case ss.code:throw new ss(e);case sa.code:throw new sa(e,{method:r.method});case su.code:throw new su(e);case sc.code:throw new sc(e);case sl.code:throw new sl(e);case sf.code:throw new sf(e);case sd.code:throw new sd(e);case sh.code:throw new sh(e);case sp.code:throw new sp(e,{method:r.method});case sm.code:throw new sm(e);case sg.code:throw new sg(e);case sy.code:throw new sy(e);case sb.code:throw new sb(e);case sw.code:throw new sw(e);case sv.code:throw new sv(e);case s_.code:throw new s_(e);case sx.code:throw new sx(e);case sE.code:throw new sE(e);case sS.code:throw new sS(e);case sA.code:throw new sA(e);case sk.code:throw new sk(e);case sI.code:throw new sI(e);case sT.code:throw new sT(e);case sB.code:throw new sB(e);case 5e3:throw new sy(e);default:throw e instanceof oX.BaseError?e:new sP(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof st.HttpRequestError){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return~~(1<<e)*s},retryCount:a,shouldRetry:({error:e})=>{var t;return"code"in(t=e)&&"number"==typeof t.code?-1===t.code||t.code===sm.code||t.code===sc.code:!(t instanceof st.HttpRequestError)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status}}),{enabled:i,id:l})}}(n,{methods:t,retryCount:i,retryDelay:o,uid:oH()}),value:u}}({key:i,methods:o,name:s,async request({method:e,params:t}){let n={method:e,params:t},{schedule:i}=(0,lr.createBatchScheduler)({id:y,wait:p,shouldSplitBatch:e=>e.length>h,fn:e=>b.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?i(e):[await b.request({body:e})],[{error:s,result:a}]=await o(n);if(l)return{error:s,result:a};if(s)throw new st.RpcRequestError({body:n,error:s,url:y});return a},retryCount:m,retryDelay:c,timeout:g,type:"http"},{fetchOptions:n,url:y})}}let ls=c9({...c4,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...c4.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});({...ls});let la=()=>{oF("use_config");let{config:e}=o$();return{config:e}},lu=()=>{oF("use_is_initialized");let{isInitialized:e}=o$();return{isInitialized:e}},lc=()=>(oF("use_sign_in_with_email"),{signInWithEmail:lU(t2)}),ll=()=>(oF("use_sign_in_with_sms"),{signInWithSms:lU(t6)}),lf=()=>(oF("use_verify_email_otp"),{verifyEmailOTP:t3}),ld=()=>(oF("use_verify_sms_otp"),{verifySmsOTP:t8}),lh=()=>(oF("use_authenticate_with_jwt"),{authenticateWithJWT:t9}),lp=()=>{oF("use_sign_in_with_oauth");let{oauthState:e}=lm();return{signInWithOAuth:t5,oauthState:e}},lm=()=>{oF("use_oauth_state");let{oauthState:e}=o$();return{oauthState:e}},lg=()=>{oF("use_is_signed_in");let{isSignedIn:e}=o$();return{isSignedIn:e}},ly=()=>{oF("use_current_user");let{currentUser:e}=o$();return{currentUser:e}},lb=()=>(oF("use_sign_out"),{signOut:lN(t7)}),lw=()=>(oF("use_get_access_token"),{getAccessToken:re}),lv=()=>{oF("use_evm_address");let{currentUser:e}=ly();return{evmAddress:e?.evmSmartAccountObjects?.[0]?.address??e?.evmAccountObjects?.[0]?.address??null}},l_=()=>{oF("use_solana_address");let{currentUser:e}=ly();return{solanaAddress:e?.solanaAccountObjects?.[0]?.address??null}},lx=()=>{oF("use_evm_account_objects");let{currentUser:e}=ly();return{evmAccounts:e?.evmAccountObjects??null}},lE=()=>{oF("use_solana_account_objects");let{currentUser:e}=ly();return{solanaAccounts:e?.solanaAccountObjects??null}},lS=()=>{oF("use_evm_smart_account_objects");let{currentUser:e}=ly();return{evmSmartAccounts:e?.evmSmartAccountObjects??null}},lA=()=>(oF("use_sign_evm_hash"),{signEvmHash:lN(rt)}),lk=()=>(oF("use_sign_evm_transaction"),{signEvmTransaction:lN(rr)}),lI=()=>{oF("use_send_evm_transaction");let[e,t]=(0,oN.useState)(null),[r,n]=(0,oN.useState)(null),[i,o]=(0,oN.useState)(null),{config:s}=o$(),a=lN(async e=>{let r=await ri(e);return t({hash:r.transactionHash,network:e.network}),o(null),n(null),r});return(0,oN.useEffect)(()=>{e&&(async()=>{try{let t=await ((e,t)=>{if("base"===e)return c0({chain:c7,transport:t.transports?.[c7.id]??lo()});if("base-sepolia"===e)return c0({chain:ls,transport:t.transports?.[ls.id]??lo()});throw Error(`Unsupported network: ${e}`)})(e.network,s).waitForTransactionReceipt({hash:e.hash});n(t)}catch(e){o(e instanceof Error?e:Error(String(e)))}})()},[e]),{sendEvmTransaction:a,data:(0,oN.useMemo)(()=>e?r?{status:"success",receipt:r}:i?{status:"error",error:i}:{status:"pending",hash:e.hash}:{status:"idle"},[e,r,i])}},lT=()=>(oF("use_sign_evm_message"),{signEvmMessage:lN(rs)}),lB=()=>(oF("use_sign_solana_message"),{signSolanaMessage:lN(ra)}),lP=()=>(oF("use_sign_evm_typed_data"),{signEvmTypedData:lN(ru)}),lO=()=>(oF("use_export_evm_account"),{exportEvmAccount:lN(rf)}),lR=()=>(oF("use_export_solana_account"),{exportSolanaAccount:lN(rd)}),lC=()=>(oF("use_sign_solana_transaction"),{signSolanaTransaction:lN(rn)}),lM=()=>(oF("use_send_solana_transaction"),{sendSolanaTransaction:lN(ro)}),lN=e=>{let{isSignedIn:t}=o$();return(0,oN.useCallback)(async(...r)=>{if(!t)throw Error("User is not authenticated");return e(...r)},[t,e])},lU=e=>{let{isSignedIn:t}=o$();return(0,oN.useCallback)(async(...r)=>{if(t)throw Error("User is already authenticated. Please sign out first.");return e(...r)},[t,e])},lL=()=>{oF("use_send_user_operation");let[e,t]=(0,oN.useState)(void 0),{status:r,data:n,error:i}=lj(e);return{sendUserOperation:lN(async e=>{let r=await rc(e);return t({userOperationHash:r.userOperationHash,evmSmartAccount:e.evmSmartAccount,network:e.network}),r}),data:n,error:i,status:r}},lj=(e={})=>{oF("use_wait_for_user_operation");let{userOperationHash:t,evmSmartAccount:r,network:n,enabled:i}=e,[o,s]=(0,oN.useState)("idle"),[a,u]=(0,oN.useState)(void 0),[c,l]=(0,oN.useState)(void 0),{currentUser:f}=ly();(0,oN.useEffect)(()=>{t&&r&&n&&(s(!1!==i?"pending":"idle"),u(void 0),l(void 0))},[t,r,n,i]);let d=!1!==i&&!!(t&&r&&n&&f);return((e,t)=>{let{startPolling:r}=(e=>{let{pollFn:t,shouldStop:r,interval:n=2e3,enabled:i,onSuccess:o,onError:s}=e;return{startPolling:(0,oN.useCallback)(async()=>{if(!i)return;let e,a=!1,u=async()=>{try{let n=await t();if(a)return;r(n)&&(o(n),e&&clearInterval(e))}catch(t){if(a)return;s(t instanceof Error?t:Error(String(t))),e&&clearInterval(e)}};return await u(),e=setInterval(u,n),()=>{a=!0,e&&clearInterval(e)}},[t,r,n,i,o,s])}})(e);(0,oN.useEffect)(()=>{let t;if(e.enabled)return(async()=>{t=await r()})(),()=>{t&&t()}},t)})({pollFn:async()=>{let e=await rl({userOperationHash:t,evmSmartAccount:r,network:n});return u(e),e},shouldStop:e=>"complete"===e.status||"dropped"===e.status||"failed"===e.status,enabled:d,onSuccess:e=>{"complete"===e.status?(u(e),s("success")):("failed"===e.status?l(Error(e.receipts?.[0]?.revert?.message||"User operation failed")):"dropped"===e.status?l(Error('User operation failed with status: "dropped"')):u(e),s("error"))},onError:e=>{l(e),s("error")}},[t,r,n,d]),{status:o,data:a,error:c}};function l$(){return oF("use_link_sms"),{linkSms:nx}}function lF(){return oF("use_link_email"),{linkEmail:nE}}e.s(["useAuthenticateWithJWT",()=>lh,"useConfig",()=>la,"useCurrentUser",()=>ly,"useEnforceAuthenticated",()=>lN,"useEnforceUnauthenticated",()=>lU,"useEvmAccounts",()=>lx,"useEvmAddress",()=>lv,"useEvmSmartAccounts",()=>lS,"useExportEvmAccount",()=>lO,"useExportSolanaAccount",()=>lR,"useGetAccessToken",()=>lw,"useIsInitialized",()=>lu,"useIsSignedIn",()=>lg,"useOAuthState",()=>lm,"useSendEvmTransaction",()=>lI,"useSendSolanaTransaction",()=>lM,"useSendUserOperation",()=>lL,"useSignEvmHash",()=>lA,"useSignEvmMessage",()=>lT,"useSignEvmTransaction",()=>lk,"useSignEvmTypedData",()=>lP,"useSignInWithEmail",()=>lc,"useSignInWithOAuth",()=>lp,"useSignInWithSms",()=>ll,"useSignOut",()=>lb,"useSignSolanaMessage",()=>lB,"useSignSolanaTransaction",()=>lC,"useSolanaAccounts",()=>lE,"useSolanaAddress",()=>l_,"useVerifyEmailOTP",()=>lf,"useVerifySmsOTP",()=>ld,"useWaitForUserOperation",()=>lj],13055),e.s(["useLinkSms",()=>l$],84246),e.s(["useLinkEmail",()=>lF],70757),oR.registerPackageVersion("hooks","0.0.73"),e.s([],29429)},51738,90481,e=>{"use strict";var t=e.i(13896);e.i(29429);var r=e.i(44719),n=e.i(65843),i=e.i(33856);let o="#0052ff",s="#0a0b0d",a="#ffffff",u="#eef0f3",c={bg:{default:{value:a},alternate:{value:u},contrast:{value:"{colors.fg.default}"},overlay:{value:"{colors.bg.alternate}",modify:{type:"color-alpha",value:.33}},skeleton:{value:"{colors.fg.default}",modify:{type:"color-alpha",value:.1}},primary:{value:o},secondary:{value:u},positiveWash:{value:"{colors.fg.positive}",modify:{type:"color-mix",value:[["{colors.bg.default}","92%"]]}},negativeWash:{value:"{colors.fg.negative}",modify:{type:"color-mix",value:[["{colors.bg.default}","92%"]]}},warningWash:{value:"{colors.fg.warning}",modify:{type:"color-mix",value:[["{colors.bg.default}","92%"]]}}},fg:{default:{value:s},muted:{value:"#5b616e"},primary:{value:o},onPrimary:{value:a},onSecondary:{value:s},positive:{value:"#098551"},negative:{value:"#cf202f"},warning:{value:"#ed702f"},onPositiveWash:{value:"{colors.fg.default}"},onNegativeWash:{value:"{colors.fg.default}"},onWarningWash:{value:"{colors.fg.default}"}},line:{default:{value:"#dcdfe4"},heavy:{value:"#9397a0"},primary:{value:"{colors.fg.primary}"},positive:{value:"{colors.fg.positive}"},negative:{value:"{colors.fg.negative}"}},...{page:{bg:{default:{value:"{colors.bg.default}"}},border:{default:{value:"{colors.line.default}"}},text:{default:{value:"{colors.fg.default}"},muted:{value:"{colors.fg.muted}"}}},cta:{primary:{bg:{default:{value:"{colors.bg.primary}"},hover:{value:"{colors.bg.primary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","15%"]]}},pressed:{value:"{colors.bg.primary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","30%"]]}}},border:{focus:{value:"{colors.line.primary}"}},text:{default:{value:"{colors.fg.onPrimary}"},hover:{value:"{colors.fg.onPrimary}"}}},secondary:{bg:{default:{value:"{colors.bg.secondary}"},hover:{value:"{colors.bg.secondary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","10%"]]}},pressed:{value:"{colors.bg.secondary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","20%"]]}}},border:{focus:{value:"{colors.line.primary}"}},text:{default:{value:"{colors.fg.onSecondary}"},hover:{value:"{colors.fg.onSecondary}"}}}},link:{primary:{text:{default:{value:"{colors.fg.primary}"},hover:{value:"{colors.fg.primary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","15%"]]}},pressed:{value:"{colors.fg.primary}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","30%"]]}}}},secondary:{text:{default:{value:"{colors.fg.default}"},hover:{value:"{colors.fg.default}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","10%"]]}},pressed:{value:"{colors.fg.default}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","20%"]]}}}}},input:{bg:{default:{value:"{colors.bg.default}"},readonly:{value:"{colors.bg.alternate}"}},border:{default:{value:"{colors.line.heavy}"},focus:{value:"{colors.line.primary}"},error:{value:"{colors.line.negative}"},success:{value:"{colors.line.positive}"}},label:{default:{value:"{colors.fg.default}"}},placeholder:{default:{value:"{colors.fg.muted}"}},text:{default:{value:"{colors.fg.default}"},readonly:{value:"{colors.fg.muted}"}},errorText:{default:{value:"{colors.fg.negative}"}},successText:{default:{value:"{colors.fg.positive}"}}},select:{label:{default:{value:"{colors.fg.default}"}},trigger:{bg:{default:{value:"{colors.bg.default}"},hover:{value:"{colors.bg.default}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","5%"]]}},pressed:{value:"{colors.bg.default}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","7%"]]}}},border:{default:{value:"{colors.line.default}"},focus:{value:"{colors.line.primary}"},error:{value:"{colors.line.negative}"},success:{value:"{colors.line.positive}"}},placeholder:{default:{value:"{colors.fg.muted}"}},text:{default:{value:"{colors.fg.default}"}},errorText:{default:{value:"{colors.fg.negative}"}},successText:{default:{value:"{colors.fg.positive}"}}},list:{bg:{default:{value:"{colors.bg.default}"}},border:{default:{value:"{colors.line.default}"},focus:{value:"{colors.line.primary}"},error:{value:"{colors.line.negative}"},success:{value:"{colors.line.positive}"}},item:{bg:{default:{value:"{colors.bg.default}"},highlight:{value:"{colors.bg.default}",modify:{type:"color-mix",value:[["{colors.bg.contrast}","10%"]]}}},text:{default:{value:"{colors.fg.default}"},muted:{value:"{colors.fg.muted}"},onHighlight:{value:"{colors.fg.default}"},mutedOnHighlight:{value:"{colors.fg.muted}"}}}}},code:{bg:{default:{value:"{colors.bg.alternate}"}},border:{default:{value:"{colors.line.heavy}"}},text:{default:{value:"{colors.fg.default}"}}}}},l={family:{mono:{value:'"DM Mono", monospace'},sans:{value:'"Rethink Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},body:{value:"{font.family.sans}"},interactive:{value:"{font.family.sans}"},page:{value:"{font.family.body}"},cta:{value:"{font.family.interactive}"},link:{value:"{font.family.interactive}"},input:{value:"{font.family.interactive}"},select:{value:"{font.family.interactive}"},code:{value:"{font.family.mono}"},iframe:{value:"{font.family.interactive}"}},url:{iframe:{value:""}},size:{base:{value:16}}},f=(e,t)=>e.startsWith("{")&&e.endsWith("}")?`var(--${t?`${t}-`:""}${e.slice(1,-1).replace(/\./g,"-")})`:e,d=(e,t)=>{let r="number"==typeof e.value?`${e.value}px`:f(e.value,t);if(e.modify?.type==="color-alpha")return`color(from ${r} srgb r g b / ${e.modify.value??1})`;if(e.modify?.type==="color-hsl"){let[t,n,i]=e.modify.value;return`hsl(from ${r} calc(h * ${t}) calc(s * ${n}) calc(l * ${i}))`}if(e.modify?.type==="color-mix"){let n=r;return e.modify.value.forEach(e=>{if("string"==typeof e)n+=`, ${f(e,t)}`;else{let[r,i]=e;n+=`, ${f(r,t)} ${i}`}}),`color-mix(in oklab, ${n})`}return e.modify?.type==="multiply"?`calc(${r} * ${e.modify.value})`:r},h=function(e,t="cdp-web"){let r={};return function e(n,i){for(let o in n)if(Object.prototype.hasOwnProperty.call(n,o)){let s=[...i,o],a=n[o];"object"==typeof a&&null!==a&&"value"in a&&("string"==typeof a.value||"number"==typeof a.value)?r[s.join("-")]=d(a,t):"object"==typeof a&&null!==a&&e(a,s)}}(e,[]),r}({borderRadius:{none:{value:0},xs:{value:"{font.size.base}",modify:{type:"multiply",value:.25}},sm:{value:"{font.size.base}",modify:{type:"multiply",value:.5}},md:{value:"{font.size.base}",modify:{type:"multiply",value:.75}},lg:{value:"{font.size.base}",modify:{type:"multiply",value:1}},xl:{value:"{font.size.base}",modify:{type:"multiply",value:1.5}},full:{value:99999},banner:{value:"{borderRadius.lg}"},cta:{value:"{borderRadius.full}"},input:{value:"{borderRadius.sm}"},link:{value:"{borderRadius.full}"},modal:{value:"{borderRadius.sm}"},select:{trigger:{value:"{borderRadius.sm}"},list:{value:"{borderRadius.sm}"}}},colors:c,font:l}),p=(0,i.createContext)(void 0),m=({children:e,className:r="",style:n,theme:o})=>{let s=(0,i.useMemo)(()=>o?{...h,...o}:h,[o]),a=(0,i.useMemo)(()=>Object.entries(s).reduce((e,[t,r])=>(e[`--cdp-web-${t}`]=r,e),{}),[s]),u=(0,i.useMemo)(()=>({theme:s,cssVariables:a}),[s,a]);return(0,t.jsx)(p.Provider,{value:u,children:(0,t.jsx)("div",{className:`ThemeProvider-module__wrapper___aXwhZ ${r}`,style:{...n,...a},children:e})})},g=()=>{let e=(0,i.useContext)(p);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e};e.s(["ThemeProvider",()=>m,"useTheme",()=>g],90481);let y=(0,i.lazy)(()=>e.A(21309)),b=([...Object.keys(r.OAuth2ProviderType).map(e=>`oauth:${e}`)],({children:e,className:r="",config:o,name:s,style:a,theme:u})=>{let{appName:c,appLogoUrl:l,showCoinbaseFooter:f,authMethods:d,projectId:h,secureIframeBasePath:p,useMock:g,debugging:b,basePath:w,ethereum:v,solana:x,disableAnalytics:E,customAuth:S}=o,{createOnLogin:A}=v??{},{createOnLogin:k}=x??{},I=(0,i.useMemo)(()=>({projectId:h,useMock:g,debugging:b,basePath:w,secureIframeBasePath:p,disableAnalytics:E,customAuth:S,ethereum:{createOnLogin:A},solana:{createOnLogin:k}}),[h,g,b,w,p,A,k,E,S]),T=d?.some(e=>e.startsWith("oauth:")),B=(0,t.jsx)(_,{name:s,config:{appName:c,appLogoUrl:l,showCoinbaseFooter:f,authMethods:d},children:(0,t.jsxs)(m,{className:r,style:a,theme:u,children:[e,T&&(0,t.jsx)(y,{})]})});return(0,i.useContext)(n.CDPContext)?B:(0,t.jsx)(n.CDPHooksProvider,{config:I,children:B})}),w=(0,i.createContext)(void 0),v=["email"],_=({children:e,config:r,name:n})=>{let{appName:o="",appLogoUrl:s="",showCoinbaseFooter:a=!0,authMethods:u=v}=r??{},c=(e=>{try{return JSON.stringify(e)}catch{}return""})(u),l=(0,i.useMemo)(()=>{let e=["email"];try{e=JSON.parse(c)}catch{}return{app:{appName:o,appLogoUrl:s,showCoinbaseFooter:a,authMethods:Array.isArray(e)&&e?.length?e:v},name:n}},[o,s,a,c,n]);return(0,t.jsx)(w.Provider,{value:l,children:e})},x=()=>{let e=(0,i.useContext)(w);if(!e)throw Error("useAppConfig must be used within an AppConfigProvider");return e.app},E=()=>{let e=(0,i.useContext)(w);if(!e)throw Error("useProviderName must be used within an AppConfigProvider");return e.name??""};e.s(["CDPReactProvider",()=>b,"useAppConfig",()=>x,"useProviderName",()=>E],51738)}]);