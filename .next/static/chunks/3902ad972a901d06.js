(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22109,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},r.toByteArray=function(e){var t,r,n=l(e),a=n[0],o=n[1],u=new s((a+o)*3/4-o),c=0,f=o>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(function(e,t,r){for(var i,s=[],a=t;a<r;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i[45]=62,i[95]=63},75249,(e,t,r)=>{r.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,u=(1<<o)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=256*s+e[t+f],f+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===s)s=1-l;else{if(s===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),s-=l}return(h?-1:1)*a*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var a,o,u,l=8*s-i-1,c=(1<<l)-1,f=c>>1,d=5960464477539062e-23*(23===i),h=n?0:s-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(t*u-1)*Math.pow(2,i),a+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&o,h+=p,o/=256,i-=8);for(a=a<<i|o,l+=i;l>0;e[r+h]=255&a,h+=p,a/=256,l-=8);e[r+h-p]|=128*m}},95095,(e,t,r)=>{"use strict";let n=e.r(22109),i=e.r(75249),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),s=a(r),u=s.write(n,i);return u!==r&&(s=s.slice(0,u)),s}if(ArrayBuffer.isView(e)){var s=e;if(j(s,Uint8Array)){let e=new Uint8Array(s);return d(e.buffer,e.byteOffset,e.byteLength)}return f(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(j(e,SharedArrayBuffer)||e&&j(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return o.from(u,t,r);let l=function(e){if(o.isBuffer(e)){let t=0|h(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|h(e))}function f(e){let t=e.length<0?0:0|h(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:C(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=N[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var s,a,o;return s=this,a=t,o=r,0===a&&o===s.length?n.fromByteArray(s):n.fromByteArray(s.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,a=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return -1}function v(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,u;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(s=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(s=u);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&u<1114112&&(s=u)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}var s=n;let a=s.length;if(a<=4096)return String.fromCharCode.apply(String,s);let o="",u=0;for(;u<a;)o+=String.fromCharCode.apply(String,s.slice(u,u+=4096));return o}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){O(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function k(e,t,r,n,i){O(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function _(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,n,s){return t*=1,r>>>=0,s||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,s){return t*=1,r>>>=0,s||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}r.Buffer=o,r.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(j(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,a=r-t,u=Math.min(s,a),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){s=l[e],a=c[e];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,s,a,o,u,l,c,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){var o;let n=parseInt(t.substr(2*i,2),16);if((o=n)!=o)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,L(C(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=r,L(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,o);case"base64":return u=t,l=r,L(U(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=r,L(function(e,t){let r,n,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=z(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=z(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=z(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=z(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=z(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=z(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=z(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=z(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let B={};function I(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,s){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new B.ERR_OUT_OF_RANGE("value",n,e)}T(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&P(i,n.length-(s+1))}function T(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw T(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),I("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=M(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=M(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let R=/[^+/0-9A-Za-z-_]/g;function C(e,t){let r;t=t||1/0;let n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let N=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function z(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw Error("BigInt not supported")}},45480,(e,t,r)=>{!function(e,t){"use strict";function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}e.exports=i,i.BN=i,i.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:void 0}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function o(e,t,n,i){for(var s=0,a=0,o=Math.min(e.length,n),u=t;u<o;u++){var l=e.charCodeAt(u)-48;s*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<i,"Invalid character"),s+=a}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return 0>e.cmp(t)?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(r(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,a=0;a<this.length;a++)this.words[a]=0;var o=0;if("be"===n)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&0x3ffffff,this.words[i+1]=s>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,i++);else if("le"===n)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&0x3ffffff,this.words[i+1]=s>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<s,this.words[o]|=0x3ffffff&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<s,this.words[o]|=0x3ffffff&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=0x3ffffff;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,a=s%n,u=Math.min(s,s-a)+r,l=0,c=r;c<u;c+=n)l=o(e,c,c+n,t),this.imuln(i),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=o(e,c,e.length,t),c=0;c<a;c++)f*=t;this.imuln(f),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c,f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=0x3ffffff&a,u=a/0x4000000|0;r.words[0]=o;for(var l=1;l<n;l++){for(var c=u>>>26,f=0x3ffffff&u,d=Math.min(l,t.length-1),h=Math.max(0,l-e.length+1);h<=d;h++){var p=l-h|0;c+=(a=(i=0|e.words[p])*(s=0|t.words[h])+f)/0x4000000|0,f=0x3ffffff&a}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var n="",i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],u=((o<<i|s)&0xffffff).toString(16);s=o>>>24-i&0xffffff,(i+=2)>=26&&(i-=26,a--),n=0!==s||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(c).toString(e);n=(p=p.idivn(c)).isZero()?m+n:f[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(c,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var a=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===s?(r<e.length&&(e[r++]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===s?(r>=0&&(e[r--]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r((this.negative|e.negative)==0),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r((this.negative|e.negative)==0),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r((this.negative|e.negative)==0),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=0x3ffffff&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&0x3ffffff>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=0x3ffffff&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=0x3ffffff&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var s=0,a=0;a<r.length;a++)s=(n=(0|t.words[a])-(0|r.words[a])+s)>>26,this.words[a]=0x3ffffff&n;for(;0!==s&&a<t.length;a++)s=(n=(0|t.words[a])+s)>>26,this.words[a]=0x3ffffff&n;if(0===s&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,s,a=e.words,o=t.words,u=r.words,l=0,c=0|a[0],f=8191&c,d=c>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],y=8191&g,b=g>>>13,v=0|a[3],w=8191&v,x=v>>>13,E=0|a[4],k=8191&E,_=E>>>13,S=0|a[5],A=8191&S,B=S>>>13,I=0|a[6],M=8191&I,O=I>>>13,T=0|a[7],P=8191&T,R=T>>>13,C=0|a[8],U=8191&C,L=C>>>13,j=0|a[9],N=8191&j,z=j>>>13,Z=0|o[0],D=8191&Z,F=Z>>>13,q=0|o[1],$=8191&q,K=q>>>13,W=0|o[2],V=8191&W,H=W>>>13,Y=0|o[3],G=8191&Y,J=Y>>>13,Q=0|o[4],X=8191&Q,ee=Q>>>13,et=0|o[5],er=8191&et,en=et>>>13,ei=0|o[6],es=8191&ei,ea=ei>>>13,eo=0|o[7],eu=8191&eo,el=eo>>>13,ec=0|o[8],ef=8191&ec,ed=ec>>>13,eh=0|o[9],ep=8191&eh,em=eh>>>13;r.negative=e.negative^t.negative,r.length=19,n=Math.imul(f,D);var eg=(l+n|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(d,D)|0))<<13)|0;l=((s=Math.imul(d,F))+(i>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F),n=n+Math.imul(f,$)|0;var ey=(l+n|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,K)|0,n=n+Math.imul(f,V)|0;var eb=(l+n|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=0x3ffffff,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(x,D)|0,s=Math.imul(x,F),n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,H)|0,n=n+Math.imul(f,G)|0;var ev=(l+n|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,n=Math.imul(k,D),i=(i=Math.imul(k,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,H)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,J)|0,n=n+Math.imul(f,X)|0;var ew=(l+n|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,n=Math.imul(A,D),i=(i=Math.imul(A,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0,n=n+Math.imul(f,er)|0;var ex=(l+n|0)+((8191&(i=(i=i+Math.imul(f,en)|0)+Math.imul(d,er)|0))<<13)|0;l=((s=s+Math.imul(d,en)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,n=Math.imul(M,D),i=(i=Math.imul(M,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(m,er)|0,s=s+Math.imul(m,en)|0,n=n+Math.imul(f,es)|0;var eE=(l+n|0)+((8191&(i=(i=i+Math.imul(f,ea)|0)+Math.imul(d,es)|0))<<13)|0;l=((s=s+Math.imul(d,ea)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,H)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,en)|0,n=n+Math.imul(p,es)|0,i=(i=i+Math.imul(p,ea)|0)+Math.imul(m,es)|0,s=s+Math.imul(m,ea)|0,n=n+Math.imul(f,eu)|0;var ek=(l+n|0)+((8191&(i=(i=i+Math.imul(f,el)|0)+Math.imul(d,eu)|0))<<13)|0;l=((s=s+Math.imul(d,el)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,n=Math.imul(U,D),i=(i=Math.imul(U,F))+Math.imul(L,D)|0,s=Math.imul(L,F),n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(x,er)|0,s=s+Math.imul(x,en)|0,n=n+Math.imul(y,es)|0,i=(i=i+Math.imul(y,ea)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,ea)|0,n=n+Math.imul(p,eu)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(m,eu)|0,s=s+Math.imul(m,el)|0,n=n+Math.imul(f,ef)|0;var e_=(l+n|0)+((8191&(i=(i=i+Math.imul(f,ed)|0)+Math.imul(d,ef)|0))<<13)|0;l=((s=s+Math.imul(d,ed)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,n=Math.imul(N,D),i=(i=Math.imul(N,F))+Math.imul(z,D)|0,s=Math.imul(z,F),n=n+Math.imul(U,$)|0,i=(i=i+Math.imul(U,K)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,H)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(k,er)|0,i=(i=i+Math.imul(k,en)|0)+Math.imul(_,er)|0,s=s+Math.imul(_,en)|0,n=n+Math.imul(w,es)|0,i=(i=i+Math.imul(w,ea)|0)+Math.imul(x,es)|0,s=s+Math.imul(x,ea)|0,n=n+Math.imul(y,eu)|0,i=(i=i+Math.imul(y,el)|0)+Math.imul(b,eu)|0,s=s+Math.imul(b,el)|0,n=n+Math.imul(p,ef)|0,i=(i=i+Math.imul(p,ed)|0)+Math.imul(m,ef)|0,s=s+Math.imul(m,ed)|0,n=n+Math.imul(f,ep)|0;var eS=(l+n|0)+((8191&(i=(i=i+Math.imul(f,em)|0)+Math.imul(d,ep)|0))<<13)|0;l=((s=s+Math.imul(d,em)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,n=Math.imul(N,$),i=(i=Math.imul(N,K))+Math.imul(z,$)|0,s=Math.imul(z,K),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,H)|0)+Math.imul(L,V)|0,s=s+Math.imul(L,H)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(A,er)|0,i=(i=i+Math.imul(A,en)|0)+Math.imul(B,er)|0,s=s+Math.imul(B,en)|0,n=n+Math.imul(k,es)|0,i=(i=i+Math.imul(k,ea)|0)+Math.imul(_,es)|0,s=s+Math.imul(_,ea)|0,n=n+Math.imul(w,eu)|0,i=(i=i+Math.imul(w,el)|0)+Math.imul(x,eu)|0,s=s+Math.imul(x,el)|0,n=n+Math.imul(y,ef)|0,i=(i=i+Math.imul(y,ed)|0)+Math.imul(b,ef)|0,s=s+Math.imul(b,ed)|0,n=n+Math.imul(p,ep)|0;var eA=(l+n|0)+((8191&(i=(i=i+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;l=((s=s+Math.imul(m,em)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,n=Math.imul(N,V),i=(i=Math.imul(N,H))+Math.imul(z,V)|0,s=Math.imul(z,H),n=n+Math.imul(U,G)|0,i=(i=i+Math.imul(U,J)|0)+Math.imul(L,G)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(M,er)|0,i=(i=i+Math.imul(M,en)|0)+Math.imul(O,er)|0,s=s+Math.imul(O,en)|0,n=n+Math.imul(A,es)|0,i=(i=i+Math.imul(A,ea)|0)+Math.imul(B,es)|0,s=s+Math.imul(B,ea)|0,n=n+Math.imul(k,eu)|0,i=(i=i+Math.imul(k,el)|0)+Math.imul(_,eu)|0,s=s+Math.imul(_,el)|0,n=n+Math.imul(w,ef)|0,i=(i=i+Math.imul(w,ed)|0)+Math.imul(x,ef)|0,s=s+Math.imul(x,ed)|0,n=n+Math.imul(y,ep)|0;var eB=(l+n|0)+((8191&(i=(i=i+Math.imul(y,em)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,em)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=0x3ffffff,n=Math.imul(N,G),i=(i=Math.imul(N,J))+Math.imul(z,G)|0,s=Math.imul(z,J),n=n+Math.imul(U,X)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(R,er)|0,s=s+Math.imul(R,en)|0,n=n+Math.imul(M,es)|0,i=(i=i+Math.imul(M,ea)|0)+Math.imul(O,es)|0,s=s+Math.imul(O,ea)|0,n=n+Math.imul(A,eu)|0,i=(i=i+Math.imul(A,el)|0)+Math.imul(B,eu)|0,s=s+Math.imul(B,el)|0,n=n+Math.imul(k,ef)|0,i=(i=i+Math.imul(k,ed)|0)+Math.imul(_,ef)|0,s=s+Math.imul(_,ed)|0,n=n+Math.imul(w,ep)|0;var eI=(l+n|0)+((8191&(i=(i=i+Math.imul(w,em)|0)+Math.imul(x,ep)|0))<<13)|0;l=((s=s+Math.imul(x,em)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,n=Math.imul(N,X),i=(i=Math.imul(N,ee))+Math.imul(z,X)|0,s=Math.imul(z,ee),n=n+Math.imul(U,er)|0,i=(i=i+Math.imul(U,en)|0)+Math.imul(L,er)|0,s=s+Math.imul(L,en)|0,n=n+Math.imul(P,es)|0,i=(i=i+Math.imul(P,ea)|0)+Math.imul(R,es)|0,s=s+Math.imul(R,ea)|0,n=n+Math.imul(M,eu)|0,i=(i=i+Math.imul(M,el)|0)+Math.imul(O,eu)|0,s=s+Math.imul(O,el)|0,n=n+Math.imul(A,ef)|0,i=(i=i+Math.imul(A,ed)|0)+Math.imul(B,ef)|0,s=s+Math.imul(B,ed)|0,n=n+Math.imul(k,ep)|0;var eM=(l+n|0)+((8191&(i=(i=i+Math.imul(k,em)|0)+Math.imul(_,ep)|0))<<13)|0;l=((s=s+Math.imul(_,em)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,n=Math.imul(N,er),i=(i=Math.imul(N,en))+Math.imul(z,er)|0,s=Math.imul(z,en),n=n+Math.imul(U,es)|0,i=(i=i+Math.imul(U,ea)|0)+Math.imul(L,es)|0,s=s+Math.imul(L,ea)|0,n=n+Math.imul(P,eu)|0,i=(i=i+Math.imul(P,el)|0)+Math.imul(R,eu)|0,s=s+Math.imul(R,el)|0,n=n+Math.imul(M,ef)|0,i=(i=i+Math.imul(M,ed)|0)+Math.imul(O,ef)|0,s=s+Math.imul(O,ed)|0,n=n+Math.imul(A,ep)|0;var eO=(l+n|0)+((8191&(i=(i=i+Math.imul(A,em)|0)+Math.imul(B,ep)|0))<<13)|0;l=((s=s+Math.imul(B,em)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,n=Math.imul(N,es),i=(i=Math.imul(N,ea))+Math.imul(z,es)|0,s=Math.imul(z,ea),n=n+Math.imul(U,eu)|0,i=(i=i+Math.imul(U,el)|0)+Math.imul(L,eu)|0,s=s+Math.imul(L,el)|0,n=n+Math.imul(P,ef)|0,i=(i=i+Math.imul(P,ed)|0)+Math.imul(R,ef)|0,s=s+Math.imul(R,ed)|0,n=n+Math.imul(M,ep)|0;var eT=(l+n|0)+((8191&(i=(i=i+Math.imul(M,em)|0)+Math.imul(O,ep)|0))<<13)|0;l=((s=s+Math.imul(O,em)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,n=Math.imul(N,eu),i=(i=Math.imul(N,el))+Math.imul(z,eu)|0,s=Math.imul(z,el),n=n+Math.imul(U,ef)|0,i=(i=i+Math.imul(U,ed)|0)+Math.imul(L,ef)|0,s=s+Math.imul(L,ed)|0,n=n+Math.imul(P,ep)|0;var eP=(l+n|0)+((8191&(i=(i=i+Math.imul(P,em)|0)+Math.imul(R,ep)|0))<<13)|0;l=((s=s+Math.imul(R,em)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,n=Math.imul(N,ef),i=(i=Math.imul(N,ed))+Math.imul(z,ef)|0,s=Math.imul(z,ed),n=n+Math.imul(U,ep)|0;var eR=(l+n|0)+((8191&(i=(i=i+Math.imul(U,em)|0)+Math.imul(L,ep)|0))<<13)|0;l=((s=s+Math.imul(L,em)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,n=Math.imul(N,ep);var eC=(l+n|0)+((8191&(i=(i=Math.imul(N,em))+Math.imul(z,ep)|0))<<13)|0;return l=((s=Math.imul(z,em))+(i>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,u[0]=eg,u[1]=ey,u[2]=eb,u[3]=ev,u[4]=ew,u[5]=ex,u[6]=eE,u[7]=ek,u[8]=e_,u[9]=eS,u[10]=eA,u[11]=eB,u[12]=eI,u[13]=eM,u[14]=eO,u[15]=eT,u[16]=eP,u[17]=eR,u[18]=eC,0!==l&&(u[19]=l,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var a=i;i=0;for(var o=0x3ffffff&n,u=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=u;l++){var c=s-l,f=(0|e.words[c])*(0|t.words[l]),d=0x3ffffff&f;a=a+(f/0x4000000|0)|0,o=0x3ffffff&(d=d+o|0),i+=(a=a+(d>>>26)|0)>>>26,a&=0x3ffffff}r.words[s]=o,n=a,a=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(e,t){this.x=e,this.y=t}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?r=m(this,e,t):n<63?r=p(this,e,t):r=g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,s){for(var a=0;a<s;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,u=Math.cos(2*Math.PI/o),l=Math.sin(2*Math.PI/o),c=0;c<i;c+=o)for(var f=u,d=l,h=0;h<a;h++){var p=r[c+h],m=n[c+h],g=r[c+h+a],y=n[c+h+a],b=f*g-d*y;y=f*y+d*g,g=b,r[c+h]=p+g,n[c+h]=m+y,r[c+h+a]=p-g,n[c+h+a]=m-y,h!==o&&(b=u*f-l*d,d=u*d+l*f,f=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=0x3ffffff&i,r=i<0x4000000?0:i/0x4000000|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],n[2*a]=8191&s,s>>>=13,n[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===s),r((-8192&s)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),a=Array(n),o=Array(n),u=Array(n),l=Array(n),c=Array(n),f=Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,s,o,u,n,i),this.transform(l,s,c,f,n,i);for(var h=0;h<n;h++){var p=o[h]*c[h]-u[h]*f[h];u[h]=o[h]*f[h]+u[h]*c[h],o[h]=p}return this.conjugate(o,u,n),this.transform(o,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<0x4000000);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(0x3ffffff&s)+(0x3ffffff&n);n>>=26,n+=(s/0x4000000|0)+(a>>>26),this.words[i]=0x3ffffff&a}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var s=r.sqr();n<t.length;n++,s=s.sqr())0!==t[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=0x3ffffff>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,u=(0|this.words[t])-o<<n;this.words[t]=u|a,a=o>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var i=t?(t-t%26)/26:0,s=e%26,a=Math.min((e-s)/26,this.length),o=0x3ffffff^0x3ffffff>>>s<<s;if(i-=a,i=Math.max(0,i),n){for(var u=0;u<a;u++)n.words[u]=this.words[u];n.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&o}return n&&0!==l&&(n.words[n.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n)&&!!(this.words[n]&1<<t)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>t<<t),this._strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return(r("number"==typeof e),r(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,s,a=e.length+n;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+o;var u=(0|e.words[i])*t;s-=0x3ffffff&u,o=(s>>26)-(u/0x4000000|0),this.words[i+n]=0x3ffffff&s}for(;i<this.length-n;i++)o=(s=(0|this.words[i+n])+o)>>26,this.words[i+n]=0x3ffffff&s;if(0===o)return this._strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=0x3ffffff&s;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,s=this.clone(),a=e,o=0|a.words[a.length-1];0!=(n=26-this._countBits(o))&&(a=a.ushln(n),s.iushln(n),o=0|a.words[a.length-1]);var u=s.length-a.length;if("mod"!==t){(r=new i(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=s.clone()._ishlnsubmul(a,1,u);0===c.negative&&(s=c,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var d=(0|s.words[a.length+f])*0x4000000+(0|s.words[a.length+f-1]);for(d=Math.min(d/o|0,0x3ffffff),s._ishlnsubmul(a,d,f);0!==s.negative;)d--,s.negative=0,s._ishlnsubmul(a,1,f),s.isZero()||(s.negative^=1);r&&(r.words[f]=d)}return r&&r._strip(),s._strip(),"div"!==t&&0!==n&&s.iushrn(n),{div:r||null,mod:s}},i.prototype.divmod=function(e,t,n){var s,a,o;return(r(!e.isZero()),this.isZero())?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):(this.negative&e.negative)!=0?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var n=0x4000000%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+0x4000000*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new i(1),a=new i(0),o=new i(0),u=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;(t.words[0]&h)==0&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(c),a.isub(f)),s.iushrn(1),a.iushrn(1);for(var p=0,m=1;(n.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(c),u.isub(f)),o.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o),a.isub(u)):(n.isub(t),o.isub(s),u.isub(a))}return{a:o,b:u,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,s=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var a=new i(1),o=new i(0),u=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var l=0,c=1;(n.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(n.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,d=1;(s.words[0]&d)==0&&f<26;++f,d<<=1);if(f>0)for(s.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);n.cmp(s)>=0?(n.isub(s),a.isub(o)):(s.isub(n),o.isub(a))}return 0>(t=0===n.cmpn(1)?a:o).cmpn(0)&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,a=n;0!==s&&a<this.length;a++){var o=0|this.words[a];o+=s,s=o>>>26,o&=0x3ffffff,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=0x3ffffff,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return -1===this.cmpn(e)},i.prototype.lt=function(e){return -1===this.cmp(e)},i.prototype.lten=function(e){return 0>=this.cmpn(e)},i.prototype.lte=function(e){return 0>=this.cmp(e)},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new _(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(w,v),w.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=0x3ffffff&t,t=64*n+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(x,v),n(E,v),n(k,v),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=0x3ffffff&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new w;else if("p224"===e)t=new x;else if("p192"===e)t=new E;else if("p25519"===e)t=new k;else throw Error("Unknown prime "+e);return b[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r((e.negative|t.negative)==0,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var s=this.m.subn(1),a=0;!s.isZero()&&0===s.andln(1);)a++,s.iushrn(1);r(!s.isZero());var o=new i(1).toRed(this),u=o.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,s),d=this.pow(e,s.addn(1).iushrn(1)),h=this.pow(e,s),p=a;0!==h.cmp(o);){for(var m=h,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(f,new i(1).iushln(p-g-1));d=d.redMul(y),f=y.redSqr(),h=h.redMul(f),p=g}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var s=r[0],a=0,o=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var f=l>>c&1;if(s!==r[0]&&(s=this.sqr(s)),0===f&&0===a){o=0;continue}a<<=1,a|=f,(4==++o||0===n&&0===c)&&(s=this.mul(s,r[a]),o=0,a=0)}u=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,_),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):0>s.cmpn(0)&&(a=s.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,e.e)},35696,(e,t,r)=>{var n=e.r(95095),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},53813,(e,t,r)=>{"use strict";var n=e.r(35696).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==t[a])throw TypeError(s+" is ambiguous");t[a]=i}var o=e.length,u=e.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===u;)i++,r++;for(var a=(e.length-r)*l+1>>>0,c=new Uint8Array(a);r<e.length;){var f=e.charCodeAt(r);if(f>255)return;var d=t[f];if(255===d)return;for(var h=0,p=a-1;(0!==d||h<s)&&-1!==p;p--,h++)d+=o*c[p]>>>0,c[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");s=h,r++}for(var m=a-s;m!==a&&0===c[m];)m++;var g=n.allocUnsafe(i+(a-m));g.fill(0,0,i);for(var y=i;m!==a;)g[y++]=c[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,a=t.length;s!==a&&0===t[s];)s++,r++;for(var l=(a-s)*c+1>>>0,f=new Uint8Array(l);s!==a;){for(var d=t[s],h=0,p=l-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*f[p]>>>0,f[p]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");i=h,s++}for(var m=l-i;m!==l&&0===f[m];)m++;for(var g=u.repeat(r);m<l;++m)g+=e.charAt(f[m]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},78458,(e,t,r)=>{t.exports=e.r(53813)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},90383,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=u(e),a=s[0],o=s[1],l=new i((a+o)*3/4-o),c=0,f=o>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=0,o=n-i;a<o;a+=16383)s.push(function(e,t,n){for(var i,s=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|h(n,i),u=a(s),l=u.write(n,i);return l!==s&&(u=u.slice(0,l)),u}if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(M(e,SharedArrayBuffer)||e&&M(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return o.from(c,t,r);var p=function(e){if(o.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(i)return n?-1:S(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,s,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=O[e[s]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,s=t,a=r,0===s&&a===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var s,a=1,o=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(s=r;s<o;s++)if(l(e,s)===l(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else -1!==c&&(s-=s-c),c=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){for(var f=!0,d=0;d<u;d++)if(l(e,s+d)!==l(t,d)){f=!1;break}if(f)return s}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(M(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(M(s,Uint8Array)&&(s=o.from(s)),!o.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(M(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,a=r-t,u=Math.min(s,a),l=this.slice(n,i),c=e.slice(t,r),f=0;f<u;++f)if(l[f]!==c[f]){s=l[f],a=c[f];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,a,o,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:(192&(s=e[i+1]))==128&&(u=(31&l)<<6|63&s)>127&&(c=u);break;case 3:s=e[i+1],a=e[i+2],(192&s)==128&&(192&a)==128&&(u=(15&l)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&(u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}var d=n,h=d.length;if(h<=4096)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<h;)p+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return p}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,s){return t*=1,r>>>=0,s||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,s){return t*=1,r>>>=0,s||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,a,o,u,l,c,f,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var h=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o,u=parseInt(t.substr(2*a,2),16);if((o=u)!=o)break;e[r+a]=u}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,I(S(e,this.length-i),this,i,s);case"ascii":return a=t,o=r,I(A(e),this,a,o);case"latin1":case"binary":return function(e,t,r,n){return I(A(t),e,r,n)}(this,e,t,r);case"base64":return u=t,l=r,I(B(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=r,I(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var s=1,a=0;for(this[t]=255&e;++a<r&&(s*=256);)this[t+a]=e/s&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var s=r-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,n),u=a.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%u]}return this};var _=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function A(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var O=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,u=(1<<o)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=256*s+e[t+f],f+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===s)s=1-l;else{if(s===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),s-=l}return(h?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,u,l=8*s-i-1,c=(1<<l)-1,f=c>>1,d=5960464477539062e-23*(23===i),h=n?0:s-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(t*u-1)*Math.pow(2,i),a+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&o,h+=p,o/=256,i-=8);for(a=a<<i|o,l+=i;l>0;e[r+h]=255&a,h+=p,a/=256,l-=8);e[r+h-p]|=128*m}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e](r,r.exports,s),a=!1}finally{a&&delete i[e]}return r.exports}s.ab="/ROOT/shopalive/shopalive/node_modules/next/dist/compiled/buffer/",t.exports=s(72)},35894,(e,t,r)=>{"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var o="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(e){var t=e.fatal,r=0,i=0,s=0,o=128,u=191;this.handler=function(e,l){if(-1===l&&0!==s)return s=0,a(t);if(-1===l)return -1;if(0===s){if(n(l,0,127))return l;if(n(l,194,223))s=1,r=l-192;else if(n(l,224,239))224===l&&(o=160),237===l&&(u=159),s=2,r=l-224;else{if(!n(l,240,244))return a(t);240===l&&(o=144),244===l&&(u=143),s=3,r=l-240}return r<<=6*s,null}if(!n(l,o,u))return r=s=i=0,o=128,u=191,e.prepend(l),a(t);if(o=128,u=191,i+=1,r+=l-128<<6*(s-i),i!==s)return null;var c=r;return r=s=i=0,c}}function f(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(n(t,0,127))return t;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var r,i,s=[(t>>6*r)+i];r>0;){var a=t>>6*(r-1);s.push(128|63&a),r-=1}return s}}u.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,n,a=new s(r),o=[];!a.endOfStream()&&-1!==(n=this._decoder.handler(a,a.read()));)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(a,a.read())))break;if(null===n)continue;Array.isArray(n)?o.push.apply(o,n):o.push(n)}while(!a.endOfStream())this._decoder=null}!o.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0);for(var u="",l=0;l<o.length;++l){var f=o[l];f<=65535?u+=String.fromCharCode(f):(f-=65536,u+=String.fromCharCode((f>>10)+55296,(1023&f)+56320))}return u}},l.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=!!t.stream;for(var r,n=[],a=new s(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var o=1023&s,u=1023&a;i.push(65536+(o<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}},r.TextEncoder=l,r.TextDecoder=u},7596,(e,t,r)=>{"use strict";var n=e.i(90383),i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUnchecked=r.deserialize=r.serialize=r.BinaryReader=r.BinaryWriter=r.BorshError=r.baseDecode=r.baseEncode=void 0;let l=u(e.r(45480)),c=u(e.r(78458)),f=o(e.r(35894)),d=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});r.baseEncode=function(e){return"string"==typeof e&&(e=n.Buffer.from(e,"utf8")),c.default.encode(n.Buffer.from(e))},r.baseDecode=function(e){return n.Buffer.from(c.default.decode(e))};class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}r.BorshError=h;class p{constructor(){this.buf=n.Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.Buffer.concat([this.buf,n.Buffer.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.Buffer.concat([n.Buffer.from(this.buf.subarray(0,this.length)),e,n.Buffer.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.Buffer.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new h("Reached the end of buffer when deserializing");throw e}}}r.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(e){throw new h(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"==typeof n)i[`write${y(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new h(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new h(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{b(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,s)=>{b(e,t,s,n.key,i),b(e,t,r,n.value,i)});break;default:throw new h(`FieldType ${n} unrecognized`)}else v(e,r,i)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function v(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let n=e.get(t.constructor);if(!n)throw new h(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{b(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let s=0;s<n.values.length;++s){let[a,o]=n.values[s];if(a===i){r.writeU8(s),b(e,a,t[a],o,r);break}}}else throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function w(e,t,r,n){try{if("string"==typeof r)return n[`read${y(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return n.readFixedArray(r[0]);else{if("number"!=typeof r[1])return n.readArray(()=>w(e,t,r[0],n));let i=[];for(let t=0;t<r[1];t++)i.push(w(e,null,r[0],n));return i}if("option"===r.kind){if(n.readU8())return w(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let s=w(e,t,r.key,n),a=w(e,t,r.value,n);i.set(s,a)}return i}return x(e,r,n)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function x(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new h(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,s]of e.get(t).fields)n[i]=w(e,i,s,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new h(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],o=w(e,s,a,r);return new t({[s]:o})}throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([m],g.prototype,"readU8",null),a([m],g.prototype,"readU16",null),a([m],g.prototype,"readU32",null),a([m],g.prototype,"readU64",null),a([m],g.prototype,"readU128",null),a([m],g.prototype,"readU256",null),a([m],g.prototype,"readU512",null),a([m],g.prototype,"readString",null),a([m],g.prototype,"readFixedArray",null),a([m],g.prototype,"readArray",null),r.BinaryReader=g,r.serialize=function(e,t,r=p){let n=new r;return v(e,t,n),n.toArray()},r.deserialize=function(e,t,r,n=g){let i=new n(r),s=x(e,t,i);if(i.offset<r.length)throw new h(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},r.deserializeUnchecked=function(e,t,r,n=g){return x(e,t,new n(r))}},66393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.s16=r.s8=r.nu64be=r.u48be=r.u40be=r.u32be=r.u24be=r.u16be=r.nu64=r.u48=r.u40=r.u32=r.u24=r.u16=r.u8=r.offset=r.greedy=r.Constant=r.UTF8=r.CString=r.Blob=r.Boolean=r.BitField=r.BitStructure=r.VariantLayout=r.Union=r.UnionLayoutDiscriminator=r.UnionDiscriminator=r.Structure=r.Sequence=r.DoubleBE=r.Double=r.FloatBE=r.Float=r.NearInt64BE=r.NearInt64=r.NearUInt64BE=r.NearUInt64=r.IntBE=r.Int=r.UIntBE=r.UInt=r.OffsetLayout=r.GreedyCount=r.ExternalLayout=r.bindConstructorLayout=r.nameWithProperty=r.Layout=r.uint8ArrayToBuffer=r.checkUint8Array=void 0,r.constant=r.utf8=r.cstr=r.blob=r.unionLayoutDiscriminator=r.union=r.seq=r.bits=r.struct=r.f64be=r.f64=r.f32be=r.f32=r.ns64be=r.s48be=r.s40be=r.s32be=r.s24be=r.s16be=r.ns64=r.s48=r.s40=r.s32=r.s24=void 0;let n=e.r(95095);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}r.checkUint8Array=i,r.uint8ArrayToBuffer=s;class a{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=a,r.nameWithProperty=o,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class u extends a{isCount(){throw Error("ExternalLayout is abstract")}}r.ExternalLayout=u;class l extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){return i(e),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}r.GreedyCount=l;class c extends u{constructor(e,t=0,r){if(!(e instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof f||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}r.OffsetLayout=c;class f extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}r.UInt=f;class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}r.UIntBE=d;class h extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeIntLE(e,r,this.span),this.span}}r.Int=h;class p extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeIntBE(e,r,this.span),this.span}}function m(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function g(e,t){return 0x100000000*e+t}r.IntBE=p;class y extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return g(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}r.NearUInt64=y;class b extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearUInt64BE=b;class v extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return g(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}r.NearInt64=v;class w extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearInt64BE=w;class x extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatLE(t)}encode(e,t,r=0){return s(t).writeFloatLE(e,r),4}}r.Float=x;class E extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatBE(t)}encode(e,t,r=0){return s(t).writeFloatBE(e,r),4}}r.FloatBE=E;class k extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleLE(t)}encode(e,t,r=0){return s(t).writeDoubleLE(e,r),8}}r.Double=k;class _ extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleBE(t)}encode(e,t,r=0){return s(t).writeDoubleBE(e,r),8}}r.DoubleBE=_;class S extends a{constructor(e,t,r){if(!(e instanceof a))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof u||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}r.Sequence=S;class A extends a{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(const n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,s=0;for(let n of this.fields){let a=n.span;if(s=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}r.Structure=A;class B{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}r.UnionDiscriminator=B;class I extends B{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}r.UnionLayoutDiscriminator=I;class M extends a{constructor(e,t,r){let n;if(e instanceof f||e instanceof d)n=new I(new c(e));else if(e instanceof u&&e.isCount())n=new I(e);else if(e instanceof B)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof a))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof f||e instanceof d)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof f||e instanceof d,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=s.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new O(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}r.Union=M;class O extends a{constructor(e,t,r,n){if(!(e instanceof M))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof a))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function T(e){return 0>e&&(e+=0x100000000),e}r.VariantLayout=O;class P extends a{constructor(e,t,r){if(!(e instanceof f||e instanceof d))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=T(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new R(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}r.BitStructure=P;class R{constructor(e,t,r){if(!(e instanceof P))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=T(this.valueMask<<this.start),this.property=r}decode(e,t){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==T(e&this.valueMask))throw TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=T(e<<this.start);this.container._packedSetValue(T(t&~this.wordMask)|r)}}r.BitField=R;class C extends R{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}r.Boolean=C;class U extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(o("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=s(e);return s(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}r.Blob=U;class L extends a{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return s(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),a=i.length;if(r+a>t.length)throw RangeError("encoding overruns Buffer");let o=s(t);return i.copy(o,r),o[r+a]=0,a+1}}r.CString=L;class j extends a{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return s(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw RangeError("text length exceeds maxSpan");if(r+a>t.length)throw RangeError("encoding overruns Buffer");return i.copy(s(t),r),a}}r.UTF8=j;class N extends a{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}r.Constant=N,r.greedy=(e,t)=>new l(e,t),r.offset=(e,t,r)=>new c(e,t,r),r.u8=e=>new f(1,e),r.u16=e=>new f(2,e),r.u24=e=>new f(3,e),r.u32=e=>new f(4,e),r.u40=e=>new f(5,e),r.u48=e=>new f(6,e),r.nu64=e=>new y(e),r.u16be=e=>new d(2,e),r.u24be=e=>new d(3,e),r.u32be=e=>new d(4,e),r.u40be=e=>new d(5,e),r.u48be=e=>new d(6,e),r.nu64be=e=>new b(e),r.s8=e=>new h(1,e),r.s16=e=>new h(2,e),r.s24=e=>new h(3,e),r.s32=e=>new h(4,e),r.s40=e=>new h(5,e),r.s48=e=>new h(6,e),r.ns64=e=>new v(e),r.s16be=e=>new p(2,e),r.s24be=e=>new p(3,e),r.s32be=e=>new p(4,e),r.s40be=e=>new p(5,e),r.s48be=e=>new p(6,e),r.ns64be=e=>new w(e),r.f32=e=>new x(e),r.f32be=e=>new E(e),r.f64=e=>new k(e),r.f64be=e=>new _(e),r.struct=(e,t,r)=>new A(e,t,r),r.bits=(e,t,r)=>new P(e,t,r),r.seq=(e,t,r)=>new S(e,t,r),r.union=(e,t,r)=>new M(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new I(e,t),r.blob=(e,t)=>new U(e,t),r.cstr=e=>new L(e),r.utf8=(e,t)=>new j(e,t),r.constant=(e,t)=>new N(e,t)},14923,e=>{"use strict";e.s([],63175),e.i(63175);var t,r,n,i=new Uint8Array(16);function s(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}let a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));let c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var f=0,d=0;let h=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function p(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=h(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(var o=0;o<16;++o)i[s+o]=a[o];return i}return c(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return(e+64>>>9<<4)+14+1}function g(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function y(e,t,r,n,i,s){var a;return g((a=g(g(t,e),g(n,s)))<<i|a>>>32-i,r)}function b(e,t,r,n,i,s,a){return y(t&r|~t&n,e,t,i,s,a)}function v(e,t,r,n,i,s,a){return y(t&n|r&~n,e,t,i,s,a)}function w(e,t,r,n,i,s,a){return y(t^r^n,e,t,i,s,a)}function x(e,t,r,n,i,s,a){return y(r^(t|~n),e,t,i,s,a)}var E=p("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=0x67452301,n=-0x10325477,i=-0x67452302,s=0x10325476,a=0;a<e.length;a+=16){var o=r,u=n,l=i,c=s;r=b(r,n,i,s,e[a],7,-0x28955b88),s=b(s,r,n,i,e[a+1],12,-0x173848aa),i=b(i,s,r,n,e[a+2],17,0x242070db),n=b(n,i,s,r,e[a+3],22,-0x3e423112),r=b(r,n,i,s,e[a+4],7,-0xa83f051),s=b(s,r,n,i,e[a+5],12,0x4787c62a),i=b(i,s,r,n,e[a+6],17,-0x57cfb9ed),n=b(n,i,s,r,e[a+7],22,-0x2b96aff),r=b(r,n,i,s,e[a+8],7,0x698098d8),s=b(s,r,n,i,e[a+9],12,-0x74bb0851),i=b(i,s,r,n,e[a+10],17,-42063),n=b(n,i,s,r,e[a+11],22,-0x76a32842),r=b(r,n,i,s,e[a+12],7,0x6b901122),s=b(s,r,n,i,e[a+13],12,-0x2678e6d),i=b(i,s,r,n,e[a+14],17,-0x5986bc72),n=b(n,i,s,r,e[a+15],22,0x49b40821),r=v(r,n,i,s,e[a+1],5,-0x9e1da9e),s=v(s,r,n,i,e[a+6],9,-0x3fbf4cc0),i=v(i,s,r,n,e[a+11],14,0x265e5a51),n=v(n,i,s,r,e[a],20,-0x16493856),r=v(r,n,i,s,e[a+5],5,-0x29d0efa3),s=v(s,r,n,i,e[a+10],9,0x2441453),i=v(i,s,r,n,e[a+15],14,-0x275e197f),n=v(n,i,s,r,e[a+4],20,-0x182c0438),r=v(r,n,i,s,e[a+9],5,0x21e1cde6),s=v(s,r,n,i,e[a+14],9,-0x3cc8f82a),i=v(i,s,r,n,e[a+3],14,-0xb2af279),n=v(n,i,s,r,e[a+8],20,0x455a14ed),r=v(r,n,i,s,e[a+13],5,-0x561c16fb),s=v(s,r,n,i,e[a+2],9,-0x3105c08),i=v(i,s,r,n,e[a+7],14,0x676f02d9),n=v(n,i,s,r,e[a+12],20,-0x72d5b376),r=w(r,n,i,s,e[a+5],4,-378558),s=w(s,r,n,i,e[a+8],11,-0x788e097f),i=w(i,s,r,n,e[a+11],16,0x6d9d6122),n=w(n,i,s,r,e[a+14],23,-0x21ac7f4),r=w(r,n,i,s,e[a+1],4,-0x5b4115bc),s=w(s,r,n,i,e[a+4],11,0x4bdecfa9),i=w(i,s,r,n,e[a+7],16,-0x944b4a0),n=w(n,i,s,r,e[a+10],23,-0x41404390),r=w(r,n,i,s,e[a+13],4,0x289b7ec6),s=w(s,r,n,i,e[a],11,-0x155ed806),i=w(i,s,r,n,e[a+3],16,-0x2b10cf7b),n=w(n,i,s,r,e[a+6],23,0x4881d05),r=w(r,n,i,s,e[a+9],4,-0x262b2fc7),s=w(s,r,n,i,e[a+12],11,-0x1924661b),i=w(i,s,r,n,e[a+15],16,0x1fa27cf8),n=w(n,i,s,r,e[a+2],23,-0x3b53a99b),r=x(r,n,i,s,e[a],6,-0xbd6ddbc),s=x(s,r,n,i,e[a+7],10,0x432aff97),i=x(i,s,r,n,e[a+14],15,-0x546bdc59),n=x(n,i,s,r,e[a+5],21,-0x36c5fc7),r=x(r,n,i,s,e[a+12],6,0x655b59c3),s=x(s,r,n,i,e[a+3],10,-0x70f3336e),i=x(i,s,r,n,e[a+10],15,-1051523),n=x(n,i,s,r,e[a+1],21,-0x7a7ba22f),r=x(r,n,i,s,e[a+8],6,0x6fa87e4f),s=x(s,r,n,i,e[a+15],10,-0x1d31920),i=x(i,s,r,n,e[a+6],15,-0x5cfebcec),n=x(n,i,s,r,e[a+13],21,0x4e0811a1),r=x(r,n,i,s,e[a+4],6,-0x8ac817e),s=x(s,r,n,i,e[a+11],10,-0x42c50dcb),i=x(i,s,r,n,e[a+2],15,0x2ad7d2bb),n=x(n,i,s,r,e[a+9],21,-0x14792c6f),r=g(r,o),n=g(n,u),i=g(i,l),s=g(s,c)}return[r,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))});function k(e,t){return e<<t|e>>>32-t}var _=p("v5",80,function(e){var t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],r=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=Math.ceil((e.length/4+2)/16),a=Array(s),o=0;o<s;++o){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*o+4*l]<<24|e[64*o+4*l+1]<<16|e[64*o+4*l+2]<<8|e[64*o+4*l+3];a[o]=u}a[s-1][14]=(e.length-1)*8/0x100000000,a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8|0;for(var c=0;c<s;++c){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=a[c][d];for(var h=16;h<80;++h)f[h]=k(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);for(var p=r[0],m=r[1],g=r[2],y=r[3],b=r[4],v=0;v<80;++v){var w=Math.floor(v/20),x=k(p,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(w,m,g,y)+b+t[w]+f[v]>>>0;b=y,y=g,g=k(m,30)>>>0,m=p,p=x}r[0]=r[0]+p>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,h,"stringify",0,c,"v1",0,function(e,t,i){var a=t&&i||0,o=t||Array(16),u=(e=e||{}).node||r,l=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==l){var h=e.random||(e.rng||s)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==l&&(l=n=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:d+1,g=p-f+(m-d)/1e4;if(g<0&&void 0===e.clockseq&&(l=l+1&16383),(g<0||p>f)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,d=m,n=l;var y=((0xfffffff&(p+=122192928e5))*1e4+m)%0x100000000;o[a++]=y>>>24&255,o[a++]=y>>>16&255,o[a++]=y>>>8&255,o[a++]=255&y;var b=p/0x100000000*1e4&0xfffffff;o[a++]=b>>>8&255,o[a++]=255&b,o[a++]=b>>>24&15|16,o[a++]=b>>>16&255,o[a++]=l>>>8|128,o[a++]=255&l;for(var v=0;v<6;++v)o[a+v]=u[v];return t||c(o)},"v3",0,E,"v4",0,function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return c(n)},"v5",0,_,"validate",0,o,"version",0,function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],14923)},65939,(e,t,r)=>{"use strict";let n=e.r(14923).v4;t.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let a={method:e};if(2===s&&(a.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");a.params=t}return void 0===r?a.id=("function"==typeof i.generator?i.generator:function(){return n()})(a,i):2===s&&null===r?i.notificationIdNull&&(a.id=null):a.id=r,a}},79113,(e,t,r)=>{"use strict";let n=e.r(14923).v4,i=e.r(65939),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};t.exports=s,s.prototype.request=function(e,t,r,n){let s,a=this,o=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let l=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||l)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);let s="function"==typeof n;try{o=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return n(e);throw e}if(!s)return o}try{s=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(s,function(e,t){a._parseResponse(e,t,n)}),o},s.prototype._parseResponse=function(e,t,r){let n;if(e)return void r(e);if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(n))return r(null,n.error,n.result);else{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}r(null,n)}},82425,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function s(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new a(r,n||e,s),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,a=Array(s);n<s;n++)a[n]=r[n].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,s),!0;case 6:return c.fn.call(c.context,t,r,n,s,a),!0}for(l=1,u=Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return u(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,s);else{for(var o=0,l=[],c=a.length;o<c;o++)(a[o].fn!==t||n&&!a[o].once||r&&a[o].context!==r)&&l.push(a[o]);l.length?this._events[s]=1===l.length?l[0]:l:u(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},61459,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function s(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new a(r,n||e,s),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,a=Array(s);n<s;n++)a[n]=r[n].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,s),!0;case 6:return c.fn.call(c.context,t,r,n,s,a),!0}for(l=1,u=Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return u(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,s);else{for(var o=0,l=[],c=a.length;o<c;o++)(a[o].fn!==t||n&&!a[o].once||r&&a[o].context!==r)&&l.push(a[o]);l.length?this._events[s]=1===l.length?l[0]:l:u(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},23505,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function s(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new a(r,n||e,s),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,a=Array(s);n<s;n++)a[n]=r[n].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,s),!0;case 6:return c.fn.call(c.context,t,r,n,s,a),!0}for(l=1,u=Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return u(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||u(this,s);else{for(var o=0,l=[],c=a.length;o<c;o++)(a[o].fn!==t||n&&!a[o].once||r&&a[o].context!==r)&&l.push(a[o]);l.length?this._events[s]=1===l.length?l[0]:l:u(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},10786,e=>{"use strict";let t,r,n,i,s,a,o,u,l,c,f,d;var h,p,m,g,y,b,v,w,x,E,k=e.i(13896);e.i(76396);var _="undefined"==typeof window||"Deno"in globalThis;function S(){}function A(e,t){return"function"==typeof e?e(t):e}function B(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==M(a,t.options))return!1}else if(!T(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!s||!!s(t))}function I(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(O(t.options.mutationKey)!==O(s))return!1}else if(!T(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function M(e,t){return(t?.queryKeyHashFn||O)(e)}function O(e){return JSON.stringify(e,(e,t)=>R(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function T(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>T(e[r],t[r]))}function P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function R(e){if(!C(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!C(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function U(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function L(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var j=Symbol();function N(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==j?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}var z=(n=[],i=0,s=e=>{e()},a=e=>{e()},o=e=>setTimeout(e,0),{batch:e=>{let t;i++;try{t=e()}finally{let e;--i||(e=n,n=[],e.length&&o(()=>{a(()=>{e.forEach(e=>{s(e)})})}))}return t},batchCalls:e=>(...t)=>{u(()=>{e(...t)})},schedule:u=e=>{i?n.push(e):o(()=>{s(e)})},setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{o=e}}),Z=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},D=new class extends Z{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!_&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}},F=new class extends Z{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!_&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function q(e){return Math.min(1e3*2**e,3e4)}function $(e){return(e??"online")!=="online"||F.isOnline()}var K=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function W(e){return e instanceof K}function V(e){let t,r=!1,n=0,i=!1,s=function(){let e,t,r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}(),a=()=>D.isFocused()&&("always"===e.networkMode||F.isOnline())&&e.canRun(),o=()=>$(e.networkMode)&&e.canRun(),u=r=>{i||(i=!0,e.onSuccess?.(r),t?.(),s.resolve(r))},l=r=>{i||(i=!0,e.onError?.(r),t?.(),s.reject(r))},c=()=>new Promise(r=>{t=e=>{(i||a())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,i||e.onContinue?.()}),f=()=>{let t;if(i)return;let s=0===n?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(u).catch(t=>{if(i)return;let s=e.retry??3*!_,o=e.retryDelay??q,u="function"==typeof o?o(n,t):o,d=!0===s||"number"==typeof s&&n<s||"function"==typeof s&&s(n,t);r||!d?l(t):(n++,e.onFail?.(n,t),new Promise(e=>{setTimeout(e,u)}).then(()=>a()?void 0:c()).then(()=>{r?l(t):f()}))})};return{promise:s,cancel:t=>{i||(l(new K(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?f():c().then(f),s)}}var H=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},Y=class extends H{#s;#a;#o;#u;#l;#c;#f;constructor(e){super(),this.#f=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#o=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){var r,n;let i=(r=this.state.data,"function"==typeof(n=this.options).structuralSharing?n.structuralSharing(r,e):!1!==n.structuralSharing?function e(t,r){if(t===r)return t;let n=P(t)&&P(r);if(n||R(t)&&R(r)){let i=n?t:Object.keys(t),s=i.length,a=n?r:Object.keys(r),o=a.length,u=n?[]:{},l=new Set(i),c=0;for(let i=0;i<o;i++){let s=n?i:a[i];(!n&&l.has(s)||n)&&void 0===t[s]&&void 0===r[s]?(u[s]=void 0,c++):(u[s]=e(t[s],r[s]),u[s]===t[s]&&void 0!==t[s]&&c++)}return s===o&&c===s?t:u}return r}(r,e):e);return this.#d({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#l?.promise;return this.#l?.cancel(e),t?t.then(S).catch(S):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>{var t;return!1!==(t=e.options.enabled,"function"==typeof t?t(this):t)})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===A(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Math.max(this.state.dataUpdatedAt+(e||0)-Date.now(),0))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#l&&(this.#f?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){let r;if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,n.signal)})},s=()=>{let e,r=N(this.options,t),n=(i(e={client:this.#u,queryKey:this.queryKey,meta:this.meta}),e);return(this.#f=!1,this.options.persister)?this.options.persister(r,n,this):r(n)},a=(i(r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:s}),r);this.options.behavior?.onFetch(a,this),this.#a=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#d({type:"fetch",meta:a.fetchOptions?.meta});let o=e=>{W(e)&&e.silent||this.#d({type:"error",error:e}),W(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#l=V({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0===e)return void o(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){o(e);return}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:o,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#l.start()}#d(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":var r;return{...t,...(r=t.data,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$(this.options.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return this.#a=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let n=e.error;if(W(n)&&n.revert&&this.#a)return{...this.#a,fetchStatus:"idle"};return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),z.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}},G=class extends Z{constructor(e={}){super(),this.config=e,this.#h=new Map}#h;build(e,t,r){let n=t.queryKey,i=t.queryHash??M(n,t),s=this.get(i);return s||(s=new Y({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>B(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>B(e,t)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},J=class extends H{#p;#m;#l;constructor(e){super(),this.mutationId=e.mutationId,this.#m=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#d({type:"continue"})};this.#l=V({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});let r="pending"===this.state.status,n=!this.#l.canStart();try{if(r)t();else{this.#d({type:"pending",variables:e,isPaused:n}),await this.#m.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:n})}let i=await this.#l.start();return await this.#m.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#m.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#d({type:"success",data:i}),i}catch(t){try{throw await this.#m.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#m.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#d({type:"error",error:t})}}finally{this.#m.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),z.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#m.notify({mutation:this,type:"updated",action:e})})}},Q=class extends Z{constructor(e={}){super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#b=0}#g;#y;#b;build(e,t,r){let n=new J({mutationCache:this,mutationId:++this.#b,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#g.add(e);let t=X(e);if("string"==typeof t){let r=this.#y.get(t);r?r.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){let t=X(e);if("string"==typeof t){let r=this.#y.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=X(e);if("string"!=typeof t)return!0;{let r=this.#y.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=X(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#y.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){z.batch(()=>{this.#g.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#g.clear(),this.#y.clear()})}getAll(){return Array.from(this.#g)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>I(t,e))}findAll(e={}){return this.getAll().filter(t=>I(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return z.batch(()=>Promise.all(e.map(e=>e.continue().catch(S))))}};function X(e){return e.options.scope?.id}function ee(e){return{onFetch:(t,r)=>{let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},u=0,l=async()=>{let r=!1,l=N(t.options,t.fetchOptions),c=async(e,n,i)=>{let s;if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let a=(Object.defineProperty(s={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),s),o=await l(a),{maxPages:u}=t.options,c=i?L:U;return{pages:c(e.pages,o,u),pageParams:c(e.pageParams,n,u)}};if(i&&s.length){let e="backward"===i,t={pages:s,pageParams:a},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:et)(n,t);o=await c(t,r,e)}else{let t=e??s.length;do{let e=0===u?a[0]??n.initialPageParam:et(n,o);if(u>0&&null==e)break;o=await c(o,e),u++}while(u<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function et(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var er=class{#v;#m;#c;#w;#x;#E;#k;#_;constructor(e={}){this.#v=e.queryCache||new G,this.#m=e.mutationCache||new Q,this.#c=e.defaultOptions||{},this.#w=new Map,this.#x=new Map,this.#E=0}mount(){this.#E++,1===this.#E&&(this.#k=D.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#v.onFocus())}),this.#_=F.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#v.onOnline())}))}unmount(){this.#E--,0===this.#E&&(this.#k?.(),this.#k=void 0,this.#_?.(),this.#_=void 0)}isFetching(e){return this.#v.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#v.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(A(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#v.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#v.get(n.queryHash),s=i?.state.data,a="function"==typeof t?t(s):t;if(void 0!==a)return this.#v.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return z.batch(()=>this.#v.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state}removeQueries(e){let t=this.#v;z.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#v;return z.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(z.batch(()=>this.#v.findAll(e).map(e=>e.cancel(r)))).then(S).catch(S)}invalidateQueries(e,t={}){return z.batch(()=>(this.#v.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(z.batch(()=>this.#v.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(S)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(S)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#v.build(this,t);return r.isStaleByTime(A(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(S).catch(S)}fetchInfiniteQuery(e){return e.behavior=ee(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(S).catch(S)}ensureInfiniteQueryData(e){return e.behavior=ee(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return F.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#v}getMutationCache(){return this.#m}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#w.set(O(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#w.values()],r={};return t.forEach(t=>{T(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#x.set(O(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#x.values()],r={};return t.forEach(t=>{T(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=M(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===j&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#v.clear(),this.#m.clear()}},en=e.i(33856),ei=en.createContext(void 0),es=({client:e,children:t})=>(en.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,k.jsx)(ei.Provider,{value:e,children:t}));class ea extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class eo extends ea{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class eu extends ea{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}}e.s(["InvalidDomainManifest",()=>eo,"RejectedByUser",()=>eu],65847),e.s([],9474),e.s([],13900),e.s([],35217),e.s(["DEFAULT_READY_OPTIONS",0,{disableNativeGestures:!1}],94903),e.s([],78548),e.s([],20481);class el extends ea{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}e.s(["RejectedByUser",()=>el],81831);class ec extends ea{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}}class ef extends ea{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}}class ed extends ea{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}}e.s(["GenericError",()=>ed,"InvalidDomain",()=>ef,"RejectedByUser",()=>ec],310),e.s([],1240),e.s([],70981),e.s([],62941),e.s([],86884),e.s([],84035),e.s([],67218),e.i(67218),(h=b||(b={})).assertEqual=e=>{},h.assertIs=function(e){},h.assertNever=function(e){throw Error()},h.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},h.getValidEnumValues=e=>{let t=h.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return h.objectValues(r)},h.objectValues=e=>h.objectKeys(e).map(function(t){return e[t]}),h.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},h.find=(e,t)=>{for(let r of e)if(t(r))return r},h.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,h.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},h.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(v||(v={})).mergeShapes=(e,t)=>({...e,...t});let eh=b.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ep=e=>{switch(typeof e){case"undefined":return eh.undefined;case"string":return eh.string;case"number":return Number.isNaN(e)?eh.nan:eh.number;case"boolean":return eh.boolean;case"function":return eh.function;case"bigint":return eh.bigint;case"symbol":return eh.symbol;case"object":if(Array.isArray(e))return eh.array;if(null===e)return eh.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eh.promise;if("undefined"!=typeof Map&&e instanceof Map)return eh.map;if("undefined"!=typeof Set&&e instanceof Set)return eh.set;if("undefined"!=typeof Date&&e instanceof Date)return eh.date;return eh.object;default:return eh.unknown}};e.s(["ZodParsedType",0,eh,"getParsedType",0,ep,"objectUtil",()=>v,"util",()=>b],58921);let em=b.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eg=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ey extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof ey))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,b.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ey.create=e=>new ey(e),e.s(["ZodError",()=>ey,"ZodIssueCode",0,em,"quotelessJson",0,eg],2856);let eb=(e,t)=>{let r;switch(e.code){case em.invalid_type:r=e.received===eh.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case em.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,b.jsonStringifyReplacer)}`;break;case em.unrecognized_keys:r=`Unrecognized key(s) in object: ${b.joinValues(e.keys,", ")}`;break;case em.invalid_union:r="Invalid input";break;case em.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${b.joinValues(e.options)}`;break;case em.invalid_enum_value:r=`Invalid enum value. Expected ${b.joinValues(e.options)}, received '${e.received}'`;break;case em.invalid_arguments:r="Invalid function arguments";break;case em.invalid_return_type:r="Invalid function return type";break;case em.invalid_date:r="Invalid date";break;case em.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:b.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case em.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case em.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case em.custom:r="Invalid input";break;case em.invalid_intersection_types:r="Intersection results could not be merged";break;case em.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case em.not_finite:r="Number must be finite";break;default:r=t.defaultError,b.assertNever(e)}return{message:r}},ev=eb;function ew(e){ev=e}function ex(){return ev}e.s(["getErrorMap",()=>ex,"setErrorMap",()=>ew],85001),e.i(85001),e.s(["defaultErrorMap",0,eb,"getErrorMap",()=>ex,"setErrorMap",()=>ew],99333),e.i(99333);let eE=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},ek=[];function e_(e,t){let r=ev,n=eE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===eb?void 0:eb].filter(e=>!!e)});e.common.issues.push(n)}class eS{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return eA;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return eS.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return eA;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let eA=Object.freeze({status:"aborted"}),eB=e=>({status:"dirty",value:e}),eI=e=>({status:"valid",value:e}),eM=e=>"aborted"===e.status,eO=e=>"dirty"===e.status,eT=e=>"valid"===e.status,eP=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,eB,"EMPTY_PATH",0,ek,"INVALID",0,eA,"OK",0,eI,"ParseStatus",()=>eS,"addIssueToContext",()=>e_,"isAborted",0,eM,"isAsync",0,eP,"isDirty",0,eO,"isValid",0,eT,"makeIssue",0,eE],40053),e.i(40053),e.s([],94815),e.i(94815),e.i(58921),(p=w||(w={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},p.toString=e=>"string"==typeof e?e:e?.message;class eR{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let eC=(e,t)=>{if(eT(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ey(e.common.issues);return this._error=t,this._error}}};function eU(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class eL{get description(){return this._def.description}_getType(e){return ep(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ep(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eS,ctx:{common:e.parent.common,data:e.data,parsedType:ep(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(eP(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ep(e)},n=this._parseSync({data:e,path:r.path,parent:r});return eC(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ep(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return eT(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>eT(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ep(e)},n=this._parse({data:e,path:r.path,parent:r});return eC(r,await (eP(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:em.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new tw({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return tx.create(this,this._def)}nullable(){return tE.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tn.create(this)}promise(){return tv.create(this,this._def)}or(e){return ts.create([this,e],this._def)}and(e){return tu.create(this,e,this._def)}transform(e){return new tw({...eU(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tk({...eU(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:x.ZodDefault})}brand(){return new tB({typeName:x.ZodBranded,type:this,...eU(this._def)})}catch(e){return new t_({...eU(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:x.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tI.create(this,e)}readonly(){return tM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let ej=/^c[^\s-]{8,}$/i,eN=/^[0-9a-z]+$/,ez=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eD=/^[a-z0-9_-]{21}$/i,eF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eQ=RegExp(`^${eJ}$`);function eX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function e0(e){let t=`${eJ}T${eX(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class e1 extends eL{_parse(e){var r,n,i,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eh.string){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.string,received:t.parsedType}),eA}let o=new eS;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(e_(a=this._getOrReturnCtx(e,a),{code:em.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(e_(a=this._getOrReturnCtx(e,a),{code:em.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?e_(a,{code:em.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&e_(a,{code:em.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)e$.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"email",code:em.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:em.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)eZ.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:em.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)eD.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:em.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)ej.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:em.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)eN.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:em.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)ez.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:em.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{e_(a=this._getOrReturnCtx(e,a),{validation:"url",code:em.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"regex",code:em.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?e0(u).test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?eQ.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${eX(u)}$`).test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:em.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?eq.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"duration",code:em.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(r=e.data,!(("v4"===(n=u.version)||!n)&&eK.test(r)||("v6"===n||!n)&&eV.test(r))&&1&&(e_(a=this._getOrReturnCtx(e,a),{validation:"ip",code:em.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!eF.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(e_(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:em.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(i=e.data,!(("v4"===(s=u.version)||!s)&&eW.test(i)||("v6"===s||!s)&&eH.test(i))&&1&&(e_(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:em.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?eY.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"base64",code:em.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?eG.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:em.invalid_string,message:u.message}),o.dirty()):b.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:em.invalid_string,...w.errToObj(r)})}_addCheck(e){return new e1({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...w.errToObj(e)})}url(e){return this._addCheck({kind:"url",...w.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...w.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...w.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...w.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...w.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...w.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...w.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...w.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...w.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...w.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...w.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...w.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...w.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...w.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...w.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...w.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...w.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...w.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...w.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...w.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...w.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...w.errToObj(t)})}nonempty(e){return this.min(1,w.errToObj(e))}trim(){return new e1({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e1({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e1({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}e1.create=e=>new e1({checks:[],typeName:x.ZodString,coerce:e?.coerce??!1,...eU(e)});class e2 extends eL{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eh.number){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.number,received:t.parsedType}),eA}let r=new eS;for(let n of this._def.checks)"int"===n.kind?b.isInteger(e.data)||(e_(t=this._getOrReturnCtx(e,t),{code:em.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(e_(t=this._getOrReturnCtx(e,t),{code:em.not_finite,message:n.message}),r.dirty()):b.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,r,n){return new e2({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w.toString(n)}]})}_addCheck(e){return new e2({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:w.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:w.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&b.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}e2.create=e=>new e2({checks:[],typeName:x.ZodNumber,coerce:e?.coerce||!1,...eU(e)});class e6 extends eL{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==eh.bigint)return this._getInvalidInput(e);let r=new eS;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(e_(t=this._getOrReturnCtx(e,t),{code:em.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):b.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.bigint,received:t.parsedType}),eA}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,r,n){return new e6({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:w.toString(n)}]})}_addCheck(e){return new e6({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}e6.create=e=>new e6({checks:[],typeName:x.ZodBigInt,coerce:e?.coerce??!1,...eU(e)});class e3 extends eL{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eh.boolean){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.boolean,received:t.parsedType}),eA}return eI(e.data)}}e3.create=e=>new e3({typeName:x.ZodBoolean,coerce:e?.coerce||!1,...eU(e)});class e5 extends eL{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eh.date){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.date,received:t.parsedType}),eA}if(Number.isNaN(e.data.getTime()))return e_(this._getOrReturnCtx(e),{code:em.invalid_date}),eA;let r=new eS;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(e_(t=this._getOrReturnCtx(e,t),{code:em.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):b.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new e5({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:w.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:w.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}e5.create=e=>new e5({checks:[],coerce:e?.coerce||!1,typeName:x.ZodDate,...eU(e)});class e8 extends eL{_parse(e){if(this._getType(e)!==eh.symbol){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.symbol,received:t.parsedType}),eA}return eI(e.data)}}e8.create=e=>new e8({typeName:x.ZodSymbol,...eU(e)});class e4 extends eL{_parse(e){if(this._getType(e)!==eh.undefined){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.undefined,received:t.parsedType}),eA}return eI(e.data)}}e4.create=e=>new e4({typeName:x.ZodUndefined,...eU(e)});class e9 extends eL{_parse(e){if(this._getType(e)!==eh.null){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.null,received:t.parsedType}),eA}return eI(e.data)}}e9.create=e=>new e9({typeName:x.ZodNull,...eU(e)});class e7 extends eL{constructor(){super(...arguments),this._any=!0}_parse(e){return eI(e.data)}}e7.create=e=>new e7({typeName:x.ZodAny,...eU(e)});class te extends eL{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eI(e.data)}}te.create=e=>new te({typeName:x.ZodUnknown,...eU(e)});class tt extends eL{_parse(e){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.never,received:t.parsedType}),eA}}tt.create=e=>new tt({typeName:x.ZodNever,...eU(e)});class tr extends eL{_parse(e){if(this._getType(e)!==eh.undefined){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.void,received:t.parsedType}),eA}return eI(e.data)}}tr.create=e=>new tr({typeName:x.ZodVoid,...eU(e)});class tn extends eL{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==eh.array)return e_(t,{code:em.invalid_type,expected:eh.array,received:t.parsedType}),eA;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(e_(t,{code:e?em.too_big:em.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(e_(t,{code:em.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(e_(t,{code:em.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new eR(t,e,t.path,r)))).then(e=>eS.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new eR(t,e,t.path,r)));return eS.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new tn({...this._def,minLength:{value:e,message:w.toString(t)}})}max(e,t){return new tn({...this._def,maxLength:{value:e,message:w.toString(t)}})}length(e,t){return new tn({...this._def,exactLength:{value:e,message:w.toString(t)}})}nonempty(e){return this.min(1,e)}}tn.create=(e,t)=>new tn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...eU(t)});class ti extends eL{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=b.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==eh.object){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.object,received:t.parsedType}),eA}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof tt&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new eR(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tt){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(e_(r,{code:em.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new eR(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>eS.mergeObjectSync(t,e)):eS.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return w.errToObj,new ti({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:w.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new ti({...this._def,unknownKeys:"strip"})}passthrough(){return new ti({...this._def,unknownKeys:"passthrough"})}extend(e){return new ti({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ti({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ti({...this._def,catchall:e})}pick(e){let t={};for(let r of b.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ti({...this._def,shape:()=>t})}omit(e){let t={};for(let r of b.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ti({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ti){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=tx.create(e(i))}return new ti({...t._def,shape:()=>r})}if(t instanceof tn)return new tn({...t._def,type:e(t.element)});if(t instanceof tx)return tx.create(e(t.unwrap()));if(t instanceof tE)return tE.create(e(t.unwrap()));if(t instanceof tl)return tl.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of b.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new ti({...this._def,shape:()=>t})}required(e){let t={};for(let r of b.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof tx;)e=e._def.innerType;t[r]=e}return new ti({...this._def,shape:()=>t})}keyof(){return tg(b.objectKeys(this.shape))}}ti.create=(e,t)=>new ti({shape:()=>e,unknownKeys:"strip",catchall:tt.create(),typeName:x.ZodObject,...eU(t)}),ti.strictCreate=(e,t)=>new ti({shape:()=>e,unknownKeys:"strict",catchall:tt.create(),typeName:x.ZodObject,...eU(t)}),ti.lazycreate=(e,t)=>new ti({shape:e,unknownKeys:"strip",catchall:tt.create(),typeName:x.ZodObject,...eU(t)});class ts extends eL{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new ey(e.ctx.common.issues));return e_(t,{code:em.invalid_union,unionErrors:r}),eA});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new ey(e));return e_(t,{code:em.invalid_union,unionErrors:i}),eA}}get options(){return this._def.options}}ts.create=(e,t)=>new ts({options:e,typeName:x.ZodUnion,...eU(t)});let ta=e=>{if(e instanceof tp)return ta(e.schema);if(e instanceof tw)return ta(e.innerType());if(e instanceof tm)return[e.value];if(e instanceof ty)return e.options;if(e instanceof tb)return b.objectValues(e.enum);else if(e instanceof tk)return ta(e._def.innerType);else if(e instanceof e4)return[void 0];else if(e instanceof e9)return[null];else if(e instanceof tx)return[void 0,...ta(e.unwrap())];else if(e instanceof tE)return[null,...ta(e.unwrap())];else if(e instanceof tB)return ta(e.unwrap());else if(e instanceof tM)return ta(e.unwrap());else if(e instanceof t_)return ta(e._def.innerType);else return[]};class to extends eL{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eh.object)return e_(t,{code:em.invalid_type,expected:eh.object,received:t.parsedType}),eA;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(e_(t,{code:em.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),eA)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ta(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new to({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...eU(r)})}}class tu extends eL{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(eM(e)||eM(n))return eA;let i=function e(t,r){let n=ep(t),i=ep(r);if(t===r)return{valid:!0,data:t};if(n===eh.object&&i===eh.object){let n=b.objectKeys(r),i=b.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===eh.array&&i===eh.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===eh.date&&i===eh.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((eO(e)||eO(n))&&t.dirty(),{status:t.value,value:i.data}):(e_(r,{code:em.invalid_intersection_types}),eA)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tu.create=(e,t,r)=>new tu({left:e,right:t,typeName:x.ZodIntersection,...eU(r)});class tl extends eL{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eh.array)return e_(r,{code:em.invalid_type,expected:eh.array,received:r.parsedType}),eA;if(r.data.length<this._def.items.length)return e_(r,{code:em.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),eA;!this._def.rest&&r.data.length>this._def.items.length&&(e_(r,{code:em.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new eR(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>eS.mergeArray(t,e)):eS.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tl({...this._def,rest:e})}}tl.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tl({items:e,typeName:x.ZodTuple,rest:null,...eU(t)})};class tc extends eL{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eh.object)return e_(r,{code:em.invalid_type,expected:eh.object,received:r.parsedType}),eA;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new eR(r,e,r.path,e)),value:s._parse(new eR(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?eS.mergeObjectAsync(t,n):eS.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tc(t instanceof eL?{keyType:e,valueType:t,typeName:x.ZodRecord,...eU(r)}:{keyType:e1.create(),valueType:e,typeName:x.ZodRecord,...eU(t)})}}class tf extends eL{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eh.map)return e_(r,{code:em.invalid_type,expected:eh.map,received:r.parsedType}),eA;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new eR(r,e,r.path,[s,"key"])),value:i._parse(new eR(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return eA;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return eA;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}tf.create=(e,t,r)=>new tf({valueType:t,keyType:e,typeName:x.ZodMap,...eU(r)});class td extends eL{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eh.set)return e_(r,{code:em.invalid_type,expected:eh.set,received:r.parsedType}),eA;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(e_(r,{code:em.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(e_(r,{code:em.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return eA;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new eR(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new td({...this._def,minSize:{value:e,message:w.toString(t)}})}max(e,t){return new td({...this._def,maxSize:{value:e,message:w.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}td.create=(e,t)=>new td({valueType:e,minSize:null,maxSize:null,typeName:x.ZodSet,...eU(t)});class th extends eL{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eh.function)return e_(t,{code:em.invalid_type,expected:eh.function,received:t.parsedType}),eA;function r(e,r){return eE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ev,eb].filter(e=>!!e),issueData:{code:em.invalid_arguments,argumentsError:r}})}function n(e,r){return eE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ev,eb].filter(e=>!!e),issueData:{code:em.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof tv){let e=this;return eI(async function(...t){let a=new ey([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw a.addIssue(n(u,e)),a})})}{let e=this;return eI(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new ey([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new ey([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new th({...this._def,args:tl.create(e).rest(te.create())})}returns(e){return new th({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new th({args:e||tl.create([]).rest(te.create()),returns:t||te.create(),typeName:x.ZodFunction,...eU(r)})}}class tp extends eL{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tp.create=(e,t)=>new tp({getter:e,typeName:x.ZodLazy,...eU(t)});class tm extends eL{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e_(t,{received:t.data,code:em.invalid_literal,expected:this._def.value}),eA}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tg(e,t){return new ty({values:e,typeName:x.ZodEnum,...eU(t)})}tm.create=(e,t)=>new tm({value:e,typeName:x.ZodLiteral,...eU(t)});class ty extends eL{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return e_(t,{expected:b.joinValues(r),received:t.parsedType,code:em.invalid_type}),eA}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return e_(t,{received:t.data,code:em.invalid_enum_value,options:r}),eA}return eI(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ty.create(e,{...this._def,...t})}exclude(e,t=this._def){return ty.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ty.create=tg;class tb extends eL{_parse(e){let t=b.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==eh.string&&r.parsedType!==eh.number){let e=b.objectValues(t);return e_(r,{expected:b.joinValues(e),received:r.parsedType,code:em.invalid_type}),eA}if(this._cache||(this._cache=new Set(b.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=b.objectValues(t);return e_(r,{received:r.data,code:em.invalid_enum_value,options:e}),eA}return eI(e.data)}get enum(){return this._def.values}}tb.create=(e,t)=>new tb({values:e,typeName:x.ZodNativeEnum,...eU(t)});class tv extends eL{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eh.promise&&!1===t.common.async?(e_(t,{code:em.invalid_type,expected:eh.promise,received:t.parsedType}),eA):eI((t.parsedType===eh.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tv.create=(e,t)=>new tv({type:e,typeName:x.ZodPromise,...eU(t)});class tw extends eL{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{e_(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return eA;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?eA:"dirty"===n.status||"dirty"===t.value?eB(n.value):n});{if("aborted"===t.value)return eA;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?eA:"dirty"===n.status||"dirty"===t.value?eB(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?eA:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?eA:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>eT(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):eA);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eT(e))return eA;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}b.assertNever(n)}}tw.create=(e,t,r)=>new tw({schema:e,typeName:x.ZodEffects,effect:t,...eU(r)}),tw.createWithPreprocess=(e,t,r)=>new tw({schema:t,effect:{type:"preprocess",transform:e},typeName:x.ZodEffects,...eU(r)});class tx extends eL{_parse(e){return this._getType(e)===eh.undefined?eI(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tx.create=(e,t)=>new tx({innerType:e,typeName:x.ZodOptional,...eU(t)});class tE extends eL{_parse(e){return this._getType(e)===eh.null?eI(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tE.create=(e,t)=>new tE({innerType:e,typeName:x.ZodNullable,...eU(t)});class tk extends eL{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===eh.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tk.create=(e,t)=>new tk({innerType:e,typeName:x.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eU(t)});class t_ extends eL{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eP(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ey(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new ey(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t_.create=(e,t)=>new t_({innerType:e,typeName:x.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eU(t)});class tS extends eL{_parse(e){if(this._getType(e)!==eh.nan){let t=this._getOrReturnCtx(e);return e_(t,{code:em.invalid_type,expected:eh.nan,received:t.parsedType}),eA}return{status:"valid",value:e.data}}}tS.create=e=>new tS({typeName:x.ZodNaN,...eU(e)});let tA=Symbol("zod_brand");class tB extends eL{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class tI extends eL{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eA:"dirty"===e.status?(t.dirty(),eB(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eA:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new tI({in:e,out:t,typeName:x.ZodPipeline})}}class tM extends eL{_parse(e){let t=this._def.innerType._parse(e),r=e=>(eT(e)&&(e.value=Object.freeze(e.value)),e);return eP(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function tO(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function tT(e,t={},r){return e?e7.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(e=>{if(!e){let e=tO(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=tO(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}}):e7.create()}tM.create=(e,t)=>new tM({innerType:e,typeName:x.ZodReadonly,...eU(t)});let tP={object:ti.lazycreate};(m=x||(x={})).ZodString="ZodString",m.ZodNumber="ZodNumber",m.ZodNaN="ZodNaN",m.ZodBigInt="ZodBigInt",m.ZodBoolean="ZodBoolean",m.ZodDate="ZodDate",m.ZodSymbol="ZodSymbol",m.ZodUndefined="ZodUndefined",m.ZodNull="ZodNull",m.ZodAny="ZodAny",m.ZodUnknown="ZodUnknown",m.ZodNever="ZodNever",m.ZodVoid="ZodVoid",m.ZodArray="ZodArray",m.ZodObject="ZodObject",m.ZodUnion="ZodUnion",m.ZodDiscriminatedUnion="ZodDiscriminatedUnion",m.ZodIntersection="ZodIntersection",m.ZodTuple="ZodTuple",m.ZodRecord="ZodRecord",m.ZodMap="ZodMap",m.ZodSet="ZodSet",m.ZodFunction="ZodFunction",m.ZodLazy="ZodLazy",m.ZodLiteral="ZodLiteral",m.ZodEnum="ZodEnum",m.ZodEffects="ZodEffects",m.ZodNativeEnum="ZodNativeEnum",m.ZodOptional="ZodOptional",m.ZodNullable="ZodNullable",m.ZodDefault="ZodDefault",m.ZodCatch="ZodCatch",m.ZodPromise="ZodPromise",m.ZodBranded="ZodBranded",m.ZodPipeline="ZodPipeline",m.ZodReadonly="ZodReadonly";let tR=(e,t={message:`Input not instance of ${e.name}`})=>tT(t=>t instanceof e,t),tC=e1.create,tU=e2.create,tL=tS.create,tj=e6.create,tN=e3.create,tz=e5.create,tZ=e8.create,tD=e4.create,tF=e9.create,tq=e7.create,t$=te.create,tK=tt.create,tW=tr.create,tV=tn.create,tH=ti.create,tY=ti.strictCreate,tG=ts.create,tJ=to.create,tQ=tu.create,tX=tl.create,t0=tc.create,t1=tf.create,t2=td.create,t6=th.create,t3=tp.create,t5=tm.create,t8=ty.create,t4=tb.create,t9=tv.create,t7=tw.create,re=tx.create,rt=tE.create,rr=tw.createWithPreprocess,rn=tI.create,ri=()=>tC().optional(),rs=()=>tU().optional(),ra=()=>tN().optional(),ro={string:e=>e1.create({...e,coerce:!0}),number:e=>e2.create({...e,coerce:!0}),boolean:e=>e3.create({...e,coerce:!0}),bigint:e=>e6.create({...e,coerce:!0}),date:e=>e5.create({...e,coerce:!0})};e.s(["BRAND",0,tA,"NEVER",0,eA,"Schema",()=>eL,"ZodAny",()=>e7,"ZodArray",()=>tn,"ZodBigInt",()=>e6,"ZodBoolean",()=>e3,"ZodBranded",()=>tB,"ZodCatch",()=>t_,"ZodDate",()=>e5,"ZodDefault",()=>tk,"ZodDiscriminatedUnion",()=>to,"ZodEffects",()=>tw,"ZodEnum",()=>ty,"ZodFirstPartyTypeKind",()=>x,"ZodFunction",()=>th,"ZodIntersection",()=>tu,"ZodLazy",()=>tp,"ZodLiteral",()=>tm,"ZodMap",()=>tf,"ZodNaN",()=>tS,"ZodNativeEnum",()=>tb,"ZodNever",()=>tt,"ZodNull",()=>e9,"ZodNullable",()=>tE,"ZodNumber",()=>e2,"ZodObject",()=>ti,"ZodOptional",()=>tx,"ZodPipeline",()=>tI,"ZodPromise",()=>tv,"ZodReadonly",()=>tM,"ZodRecord",()=>tc,"ZodSchema",()=>eL,"ZodSet",()=>td,"ZodString",()=>e1,"ZodSymbol",()=>e8,"ZodTransformer",()=>tw,"ZodTuple",()=>tl,"ZodType",()=>eL,"ZodUndefined",()=>e4,"ZodUnion",()=>ts,"ZodUnknown",()=>te,"ZodVoid",()=>tr,"any",()=>tq,"array",()=>tV,"bigint",()=>tj,"boolean",()=>tN,"coerce",0,ro,"custom",()=>tT,"date",()=>tz,"datetimeRegex",()=>e0,"discriminatedUnion",()=>tJ,"effect",()=>t7,"enum",()=>t8,"function",()=>t6,"instanceof",()=>tR,"intersection",()=>tQ,"late",0,tP,"lazy",()=>t3,"literal",()=>t5,"map",()=>t1,"nan",()=>tL,"nativeEnum",()=>t4,"never",()=>tK,"null",()=>tF,"nullable",()=>rt,"number",()=>tU,"object",()=>tH,"oboolean",()=>ra,"onumber",()=>rs,"optional",()=>re,"ostring",()=>ri,"pipeline",()=>rn,"preprocess",()=>rr,"promise",()=>t9,"record",()=>t0,"set",()=>t2,"strictObject",()=>tY,"string",()=>tC,"symbol",()=>tZ,"transformer",()=>t7,"tuple",()=>tX,"undefined",()=>tD,"union",()=>tG,"unknown",()=>t$,"void",()=>tW],29293),e.i(29293),e.i(2856),e.s(["BRAND",0,tA,"DIRTY",0,eB,"EMPTY_PATH",0,ek,"INVALID",0,eA,"NEVER",0,eA,"OK",0,eI,"ParseStatus",()=>eS,"Schema",()=>eL,"ZodAny",()=>e7,"ZodArray",()=>tn,"ZodBigInt",()=>e6,"ZodBoolean",()=>e3,"ZodBranded",()=>tB,"ZodCatch",()=>t_,"ZodDate",()=>e5,"ZodDefault",()=>tk,"ZodDiscriminatedUnion",()=>to,"ZodEffects",()=>tw,"ZodEnum",()=>ty,"ZodError",()=>ey,"ZodFirstPartyTypeKind",()=>x,"ZodFunction",()=>th,"ZodIntersection",()=>tu,"ZodIssueCode",0,em,"ZodLazy",()=>tp,"ZodLiteral",()=>tm,"ZodMap",()=>tf,"ZodNaN",()=>tS,"ZodNativeEnum",()=>tb,"ZodNever",()=>tt,"ZodNull",()=>e9,"ZodNullable",()=>tE,"ZodNumber",()=>e2,"ZodObject",()=>ti,"ZodOptional",()=>tx,"ZodParsedType",0,eh,"ZodPipeline",()=>tI,"ZodPromise",()=>tv,"ZodReadonly",()=>tM,"ZodRecord",()=>tc,"ZodSchema",()=>eL,"ZodSet",()=>td,"ZodString",()=>e1,"ZodSymbol",()=>e8,"ZodTransformer",()=>tw,"ZodTuple",()=>tl,"ZodType",()=>eL,"ZodUndefined",()=>e4,"ZodUnion",()=>ts,"ZodUnknown",()=>te,"ZodVoid",()=>tr,"addIssueToContext",()=>e_,"any",()=>tq,"array",()=>tV,"bigint",()=>tj,"boolean",()=>tN,"coerce",0,ro,"custom",()=>tT,"date",()=>tz,"datetimeRegex",()=>e0,"defaultErrorMap",0,eb,"discriminatedUnion",()=>tJ,"effect",()=>t7,"enum",()=>t8,"function",()=>t6,"getErrorMap",()=>ex,"getParsedType",0,ep,"instanceof",()=>tR,"intersection",()=>tQ,"isAborted",0,eM,"isAsync",0,eP,"isDirty",0,eO,"isValid",0,eT,"late",0,tP,"lazy",()=>t3,"literal",()=>t5,"makeIssue",0,eE,"map",()=>t1,"nan",()=>tL,"nativeEnum",()=>t4,"never",()=>tK,"null",()=>tF,"nullable",()=>rt,"number",()=>tU,"object",()=>tH,"objectUtil",()=>v,"oboolean",()=>ra,"onumber",()=>rs,"optional",()=>re,"ostring",()=>ri,"pipeline",()=>rn,"preprocess",()=>rr,"promise",()=>t9,"quotelessJson",0,eg,"record",()=>t0,"set",()=>t2,"setErrorMap",()=>ew,"strictObject",()=>tY,"string",()=>tC,"symbol",()=>tZ,"transformer",()=>t7,"tuple",()=>tX,"undefined",()=>tD,"union",()=>tG,"unknown",()=>t$,"util",()=>b,"void",()=>tW],64428);var ru=e.i(64428),ru=ru,ru=ru;let rl=/[@#$%^&*+=/\\|~]/,rc=/(!{2,}|\?{2,}|-{2,})/,rf=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,rd=({max:e,noSpaces:t}={})=>(t?ru.string().max(e??1/0).regex(/^\S*$/,"Spaces are not allowed"):ru.string().max(e??1/0)).refine(e=>!rf.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!rl.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(e=>!rc.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),rh=ru.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(e=>!e.includes(" "),{message:"URL must not contain spaces"}).refine(e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(t)||t.startsWith("[")&&t.endsWith("]"))return!1;return!0}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),rp=ru.string().max(32),rm=ru.string().max(32),rg=ru.string().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),ry=ru.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),rb=ru.string().max(1024).regex(/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(e=>!e.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(e=>!e.includes("/"),{message:"Domain must not include path separators"}).refine(e=>!e.includes("@"),{message:"Domain must not include @ symbol"}).refine(e=>!e.includes(":"),{message:"Domain must not include port numbers"}),rv=ru.union([ru.literal("1:1"),ru.literal("3:2")]),rw=ru.object({header:ru.string(),payload:ru.string(),signature:ru.string()});ru.object({fid:ru.number(),type:ru.literal("app_key"),key:ru.string().startsWith("0x")});let rx=ru.object({type:ru.literal("launch_frame"),name:rp,url:rh.optional(),splashImageUrl:rh.optional(),splashBackgroundColor:ry.optional()}),rE=ru.object({type:ru.literal("launch_miniapp"),name:rp,url:rh.optional(),splashImageUrl:rh.optional(),splashBackgroundColor:ry.optional()}),rk=ru.object({type:ru.literal("view_token"),token:rg}),r_=ru.discriminatedUnion("type",[rE,rk,rx]),rS=ru.object({title:rm,action:r_});ru.object({version:ru.union([ru.string(),ru.number()]).transform(e=>String(e)).pipe(ru.union([ru.literal("next"),ru.literal("1")])),imageUrl:rh,aspectRatio:rv.optional(),button:rS});var ru=ru,ru=ru;let rA=ru.object({url:ru.string(),token:ru.string()});ru.object({notificationId:ru.string().max(128),title:ru.string().max(32),body:ru.string().max(128),targetUrl:rh,tokens:ru.string().array().max(100)}),ru.object({result:ru.object({successfulTokens:ru.array(ru.string()),invalidTokens:ru.array(ru.string()),rateLimitedTokens:ru.array(ru.string())})});let rB=ru.object({event:ru.literal("miniapp_added"),notificationDetails:rA.optional()}),rI=ru.object({event:ru.literal("miniapp_removed")}),rM=ru.object({event:ru.literal("notifications_enabled"),notificationDetails:rA.required()}),rO=ru.object({event:ru.literal("notifications_disabled")});ru.discriminatedUnion("event",[rB,rI,rM,rO]);var ru=ru;let rT=ru.enum(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),rP=ru.union([ru.literal("0.0.0"),ru.literal("0.0.1"),ru.literal("1"),ru.literal("next")]),rR=rd({max:30}),rC=rd({max:170}),rU=ru.array(rh).max(3),rL=ru.array(rd({max:20,noSpaces:!0})).max(5),rj=rd({max:30}),rN=rd({max:30}),rz=rd({max:100}),rZ=ru.boolean();function rD(e){return Array.from(new Set(e))}let rF=ru.array(ru.enum(["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"])).transform(rD),rq=ru.array(ru.enum(["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"])).transform(rD),r$=ru.object({version:rP,name:rp,iconUrl:rh,homeUrl:rh,imageUrl:rh.optional(),buttonTitle:rm.optional(),splashImageUrl:rh.optional(),splashBackgroundColor:ry.optional(),webhookUrl:rh.optional(),subtitle:rR.optional(),description:rC.optional(),screenshotUrls:rU.optional(),primaryCategory:rT.optional(),tags:rL.optional(),heroImageUrl:rh.optional(),tagline:rj.optional(),ogTitle:rN.optional(),ogDescription:rz.optional(),ogImageUrl:rh.optional(),noindex:rZ.optional(),requiredChains:rF.optional(),requiredCapabilities:rq.optional(),castShareUrl:rh.optional(),canonicalDomain:rb.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});ru.object({accountAssociation:rw,miniapp:r$.optional(),frame:r$.optional()}).refine(e=>!e.frame||!e.miniapp||JSON.stringify(e.frame)===JSON.stringify(e.miniapp),{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(e=>({...e,frame:e.frame??e.miniapp}));var rK=e.i(95095);let rW="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function rV(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function rH(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function rY(e,...t){if(!rV(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function rG(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");rH(e.outputLen),rH(e.blockLen)}function rJ(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function rQ(e,t){rY(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function rX(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function r0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function r1(e,t){return e<<32-t|e>>>t}let r2=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},r6="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,r3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function r5(e){if(rY(e),r6)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=r3[e[r]];return t}function r8(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function r4(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(r6)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=r8(e.charCodeAt(i)),s=r8(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function r9(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function r7(e){return"string"==typeof e&&(e=r9(e)),rY(e),e}function ne(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];rY(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class nt{}function nr(e){let t=t=>e().update(r7(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function nn(e=32){if(rW&&"function"==typeof rW.getRandomValues)return rW.getRandomValues(new Uint8Array(e));if(rW&&"function"==typeof rW.randomBytes)return Uint8Array.from(rW.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}class ni extends nt{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=r0(this.buffer)}update(e){rJ(this),rY(e=r7(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=r0(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rJ(this),rQ(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,rX(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),u=4*!!n,l=4*!n;e.setUint32(t+u,a,n),e.setUint32(t+l,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=r0(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=o/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)a.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let ns=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),na=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),no=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),nu=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),nl=BigInt(0x100000000-1),nc=BigInt(32);function nf(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&nl),l:Number(e>>nc&nl)}:{h:0|Number(e>>nc&nl),l:0|Number(e&nl)}}(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}let nd=(e,t,r)=>e>>>r,nh=(e,t,r)=>e<<32-r|t>>>r,np=(e,t,r)=>e>>>r|t<<32-r,nm=(e,t,r)=>e<<32-r|t>>>r,ng=(e,t,r)=>e<<64-r|t>>>r-32,ny=(e,t,r)=>e>>>r-32|t<<64-r;function nb(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let nv=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),nw=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,nx=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),nE=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,nk=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),n_=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,nS=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),nA=new Uint32Array(64);class nB extends ni{constructor(e=32){super(64,e,8,!1),this.A=0|ns[0],this.B=0|ns[1],this.C=0|ns[2],this.D=0|ns[3],this.E=0|ns[4],this.F=0|ns[5],this.G=0|ns[6],this.H=0|ns[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)nA[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=nA[e-15],r=nA[e-2],n=r1(t,7)^r1(t,18)^t>>>3,i=r1(r,17)^r1(r,19)^r>>>10;nA[e]=i+nA[e-7]+n+nA[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:u,H:l}=this;for(let e=0;e<64;e++){var c,f,d,h;let t=l+(r1(a,6)^r1(a,11)^r1(a,25))+((c=a)&o^~c&u)+nS[e]+nA[e]|0,p=(r1(r,2)^r1(r,13)^r1(r,22))+((f=r)&(d=n)^f&(h=i)^d&h)|0;l=u,u=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,s,a,o,u,l)}roundClean(){rX(nA)}destroy(){this.set(0,0,0,0,0,0,0,0),rX(this.buffer)}}let nI=nf(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nM=nI[0],nO=nI[1],nT=new Uint32Array(80),nP=new Uint32Array(80);class nR extends ni{constructor(e=64){super(128,e,16,!1),this.Ah=0|nu[0],this.Al=0|nu[1],this.Bh=0|nu[2],this.Bl=0|nu[3],this.Ch=0|nu[4],this.Cl=0|nu[5],this.Dh=0|nu[6],this.Dl=0|nu[7],this.Eh=0|nu[8],this.El=0|nu[9],this.Fh=0|nu[10],this.Fl=0|nu[11],this.Gh=0|nu[12],this.Gl=0|nu[13],this.Hh=0|nu[14],this.Hl=0|nu[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:u,El:l,Fh:c,Fl:f,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,a,o,u,l,c,f,d,h,p,m]}set(e,t,r,n,i,s,a,o,u,l,c,f,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)nT[r]=e.getUint32(t),nP[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|nT[e-15],r=0|nP[e-15],n=np(t,r,1)^np(t,r,8)^nd(t,r,7),i=nm(t,r,1)^nm(t,r,8)^nh(t,r,7),s=0|nT[e-2],a=0|nP[e-2],o=np(s,a,19)^ng(s,a,61)^nd(s,a,6),u=nx(i,nm(s,a,19)^ny(s,a,61)^nh(s,a,6),nP[e-7],nP[e-16]),l=nE(u,n,o,nT[e-7],nT[e-16]);nT[e]=0|l,nP[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:u,Dl:l,Eh:c,El:f,Fh:d,Fl:h,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let e=0;e<80;e++){let t=np(c,f,14)^np(c,f,18)^ng(c,f,41),b=nm(c,f,14)^nm(c,f,18)^ny(c,f,41),v=c&d^~c&p,w=nk(y,b,f&h^~f&m,nO[e],nP[e]),x=n_(w,g,t,v,nM[e],nT[e]),E=0|w,k=np(r,n,28)^ng(r,n,34)^ng(r,n,39),_=nm(r,n,28)^ny(r,n,34)^ny(r,n,39),S=r&i^r&a^i&a,A=n&s^n&o^s&o;g=0|p,y=0|m,p=0|d,m=0|h,d=0|c,h=0|f,({h:c,l:f}=nb(0|u,0|l,0|x,0|E)),u=0|a,l=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let B=nv(E,_,A);r=nw(B,x,k,S),n=0|B}({h:r,l:n}=nb(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=nb(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=nb(0|this.Ch,0|this.Cl,0|a,0|o)),({h:u,l:l}=nb(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:f}=nb(0|this.Eh,0|this.El,0|c,0|f)),({h:d,l:h}=nb(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:m}=nb(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=nb(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,a,o,u,l,c,f,d,h,p,m,g,y)}roundClean(){rX(nT,nP)}destroy(){rX(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let nC=nr(()=>new nB),nU=nr(()=>new nR),nL=BigInt(0),nj=BigInt(1);function nN(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function nz(e,t,r=""){let n=rV(e),i=e?.length,s=void 0!==t;if(!n||s&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function nZ(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function nD(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?nL:BigInt("0x"+e)}function nF(e){return nD(r5(e))}function nq(e){return rY(e),nD(r5(Uint8Array.from(e).reverse()))}function n$(e,t){return r4(e.toString(16).padStart(2*t,"0"))}function nK(e,t){return n$(e,t).reverse()}function nW(e,t,r){let n;if("string"==typeof t)try{n=r4(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(rV(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function nV(e){return Uint8Array.from(e)}let nH=e=>"bigint"==typeof e&&nL<=e;function nY(e,t,r,n){var i,s,a;if(i=t,s=r,a=n,!(nH(i)&&nH(s)&&nH(a))||!(s<=i)||!(i<a))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function nG(e){let t;for(t=0;e>nL;e>>=nj,t+=1);return t}let nJ=e=>(nj<<BigInt(e))-nj;function nQ(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}let nX=()=>{throw Error("not implemented")};function n0(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let n1=BigInt(0),n2=BigInt(1),n6=BigInt(2),n3=BigInt(3),n5=BigInt(4),n8=BigInt(5),n4=BigInt(7),n9=BigInt(8),n7=BigInt(9),ie=BigInt(16);function it(e,t){let r=e%t;return r>=n1?r:t+r}function ir(e,t,r){let n=e;for(;t-- >n1;)n*=n,n%=r;return n}function ii(e,t){if(e===n1)throw Error("invert: expected non-zero number");if(t<=n1)throw Error("invert: expected positive modulus, got "+t);let r=it(e,t),n=t,i=n1,s=n2,a=n2,o=n1;for(;r!==n1;){let e=n/r,t=n%r,u=i-a*e,l=s-o*e;n=r,r=t,i=a,s=o,a=u,o=l}if(n!==n2)throw Error("invert: does not exist");return it(i,t)}function is(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function ia(e,t){let r=(e.ORDER+n2)/n5,n=e.pow(t,r);return is(e,n,t),n}function io(e,t){let r=(e.ORDER-n8)/n9,n=e.mul(t,n6),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,n6),i),o=e.mul(s,e.sub(a,e.ONE));return is(e,o,t),o}function iu(e){if(e<n3)throw Error("sqrt is not defined for small field");let t=e-n2,r=0;for(;t%n6===n1;)t/=n6,r++;let n=n6,i=ig(e);for(;1===ip(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return ia;let s=i.pow(n,t),a=(t+n2)/n6;return function(e,n){if(e.is0(n))return n;if(1!==ip(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),u=e.pow(n,t),l=e.pow(n,a);for(;!e.eql(u,e.ONE);){if(e.is0(u))return e.ZERO;let t=1,r=e.sqr(u);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=n2<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),u=e.mul(u,o),l=e.mul(l,s)}return l}}let il=(e,t)=>(it(e,t)&n2)===n2,ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function id(e){return nQ(e,ic.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),e}function ih(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function ip(e,t){let r=(e.ORDER-n2)/n6,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function im(e,t){void 0!==t&&rH(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ig(e,t,r=!1,n={}){let i,s,a,o;if(e<=n1)throw Error("invalid field: expected ORDER > 0, got "+e);let u=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(s=t.BITS),t.sqrt&&(a=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(u=t.modFromBytes),o=t.allowedLengths}else"number"==typeof t&&(s=t),n.sqrt&&(a=n.sqrt);let{nBitLength:l,nByteLength:c}=im(e,s);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let f=Object.freeze({ORDER:e,isLE:r,BITS:l,BYTES:c,MASK:nJ(l),ZERO:n1,ONE:n2,allowedLengths:o,create:t=>it(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return n1<=t&&t<e},is0:e=>e===n1,isValidNot0:e=>!f.is0(e)&&f.isValid(e),isOdd:e=>(e&n2)===n2,neg:t=>it(-t,e),eql:(e,t)=>e===t,sqr:t=>it(t*t,e),add:(t,r)=>it(t+r,e),sub:(t,r)=>it(t-r,e),mul:(t,r)=>it(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<n1)throw Error("invalid exponent, negatives unsupported");if(r===n1)return e.ONE;if(r===n2)return t;let n=e.ONE,i=t;for(;r>n1;)r&n2&&(n=e.mul(n,i)),i=e.sqr(i),r>>=n2;return n})(f,e,t),div:(t,r)=>it(t*ii(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ii(t,e),sqrt:a||(t=>(i||(i=function(e){if(e%n5===n3)return ia;if(e%n9===n8)return io;if(e%ie===n7){let t,r,n,i,s,a;return t=ig(e),n=(r=iu(e))(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),a=(e+n4)/ie,(e,t)=>{let r=e.pow(t,a),o=e.mul(r,n),u=e.mul(r,i),l=e.mul(r,s),c=e.eql(e.sqr(o),t),f=e.eql(e.sqr(u),t);r=e.cmov(r,o,c),o=e.cmov(l,u,f);let d=e.eql(e.sqr(o),t),h=e.cmov(r,o,d);return is(e,h,t),h}}return iu(e)}(e)),i(f,t))),toBytes:e=>r?nK(e,c):n$(e,c),fromBytes:(t,n=!0)=>{if(o){if(!o.includes(t.length)||t.length>c)throw Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);let e=new Uint8Array(c);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let i=r?nq(t):nF(t);if(u&&(i=it(i,e)),!n&&!f.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ih(f,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(f)}function iy(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ib(e){let t=iy(e);return t+Math.ceil(t/2)}let iv=BigInt(0),iw=BigInt(1);function ix(e,t){let r=t.negate();return e?r:t}function iE(e,t){let r=ih(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function ik(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function i_(e,t){ik(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:nJ(e),maxNumber:i,shiftBy:BigInt(e)}}function iS(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),u=e>>a;o>n&&(o-=s,u+=iw);let l=t*n,c=l+Math.abs(o)-1,f=0===o;return{nextN:u,offset:c,isZero:f,isNeg:o<0,isNegF:t%2!=0,offsetF:l}}let iA=new WeakMap,iB=new WeakMap;function iI(e){return iB.get(e)||1}function iM(e){if(e!==iv)throw Error("invalid wNAF")}class iO{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>iv;)t&iw&&(r=r.add(n)),n=n.double(),t>>=iw;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=i_(t,this.bits),i=[],s=e,a=s;for(let e=0;e<r;e++){a=s,i.push(a);for(let e=1;e<n;e++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,i=this.BASE,s=i_(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:a,offset:o,isZero:u,isNeg:l,isNegF:c,offsetF:f}=iS(r,e,s);r=a,u?i=i.add(ix(c,t[f])):n=n.add(ix(l,t[o]))}return iM(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){let i=i_(e,this.bits);for(let e=0;e<i.windows&&r!==iv;e++){let{nextN:s,offset:a,isZero:o,isNeg:u}=iS(r,e,i);if(r=s,!o){let e=t[a];n=n.add(u?e.negate():e)}}return iM(r),n}getPrecomputes(e,t,r){let n=iA.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),iA.set(t,n))),n}cached(e,t,r){let n=iI(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let i=iI(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){ik(t,this.bits),iB.set(e,t),iA.delete(e)}hasCache(e){return 1!==iI(e)}}function iT(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=nG(BigInt(i)),u=1;o>12?u=o-3:o>4?u=o-2:o>0&&(u=2);let l=nJ(u),c=Array(Number(l)+1).fill(a),f=Math.floor((t.BITS-1)/u)*u,d=a;for(let e=f;e>=0;e-=u){c.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&l);c[i]=c[i].add(r[t])}let t=a;for(let e=c.length-1,r=a;e>0;e--)r=r.add(c[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<u;e++)d=d.double()}return d}function iP(e,t,r){if(!t)return ig(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return id(t),t}function iR(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>iv))throw Error(`CURVE.${e} must be positive bigint`)}let i=iP(t.p,r.Fp,n),s=iP(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}let iC=BigInt(0),iU=BigInt(1),iL=BigInt(2),ij=BigInt(8);class iN{constructor(e){this.ep=e}static fromBytes(e){nX()}static fromHex(e){nX()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return r5(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function iz(e,t){if(iZ(e),iZ(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function iZ(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function iD(e){if(!rV(e)&&"string"!=typeof e)throw Error("DST must be Uint8Array or string");return"string"==typeof e?r9(e):e}function iF(e,t,r){var n;let i;nQ(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:s,k:a,m:o,hash:u,expand:l,DST:c}=r;if(!("function"==typeof(n=r.hash)&&Number.isSafeInteger(n.outputLen)))throw Error("expected valid hash");rY(e),iZ(t);let f=Math.ceil((s.toString(2).length+a)/8),d=t*o*f;if("xmd"===l)i=function(e,t,r,n){rY(e),iZ(r),(t=iD(t)).length>255&&(t=n(ne(r9("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw Error("expand_message_xmd: invalid lenInBytes");let o=ne(t,iz(t.length,1)),u=iz(0,s),l=iz(r,2),c=Array(a),f=n(ne(u,e,l,iz(0,1),o));c[0]=n(ne(f,iz(1,1),o));for(let e=1;e<=a;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(f,c[e-1]),iz(e+1,1),o];c[e]=n(ne(...t))}return ne(...c).slice(0,r)}(e,c,d,u);else if("xof"===l)i=function(e,t,r,n,i){if(rY(e),iZ(r),(t=iD(t)).length>255){let e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update(r9("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(iz(r,2)).update(t).update(iz(t.length,1)).digest()}(e,c,d,a,u);else if("_internal_pass"===l)i=e;else throw Error('expand must be "xmd" or "xof"');let h=Array(t);for(let e=0;e<t;e++){let t=Array(o);for(let r=0;r<o;r++){let n=f*(r+e*o),a=i.subarray(n,n+f);t[r]=it(nF(a),s)}h[e]=t}return h}let iq=r9("HashToScalar-");function i$(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let s=iF(e,2,Object.assign({},r,t)),a=n(s[0]),o=n(s[1]);return i(a.add(o))},encodeToCurve(e,t){let s=r.encodeDST?{DST:r.encodeDST}:{};return i(n(iF(e,1,Object.assign({},r,s,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return i(n(e))},hashToScalar:(t,n)=>iF(t,1,Object.assign({},r,{p:e.Fn.ORDER,m:1,DST:iq},n))[0][0]}}BigInt(0),BigInt(1),BigInt(2);let iK=BigInt(0),iW=BigInt(1),iV=BigInt(2),iH=BigInt(3),iY=BigInt(5),iG=BigInt(8),iJ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),iQ={p:iJ,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:iG,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},iX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function i0(e,t){var r;let n,i,s,a,o,u,l,c,f,d,h,p,m,g,y=it(t*t*t,iJ),b=(r=e*it(y*y*t,iJ),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),u=ir(o=r*r%iJ*r%iJ,iV,iJ)*o%iJ,l=ir(u,iW,iJ)*r%iJ,c=ir(l,iY,iJ)*l%iJ,f=ir(c,n,iJ)*c%iJ,d=ir(f,i,iJ)*f%iJ,h=ir(d,s,iJ)*d%iJ,p=ir(h,a,iJ)*h%iJ,m=ir(p,a,iJ)*h%iJ,g=ir(m,n,iJ)*c%iJ,{pow_p_5_8:ir(g,iV,iJ)*r%iJ,b2:o}).pow_p_5_8,v=it(e*y*b,iJ),w=it(t*v*v,iJ),x=v,E=it(v*iX,iJ),k=w===e,_=w===it(-e,iJ),S=w===it(-e*iX,iJ);return k&&(v=x),(_||S)&&(v=E),il(v,iJ)&&(v=it(-v,iJ)),{isValid:k||_,value:v}}let i1=ig(iQ.p,{isLE:!0}),i2=ig(iQ.n,{isLE:!0}),i6=function(e){let t,r,n,i,{CURVE:s,curveOpts:a,hash:o,eddsaOpts:u}=(t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:ig(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},n={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve},{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:n}),l=function(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');nQ(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:s,Fn:a}=e,o=r.randomBytes||nn,u=r.adjustScalarBytes||(e=>e),l=r.domain||((e,t,r)=>{if(nN(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function c(e){return a.create(nq(e))}function f(e){var r;let n,s,a,o,l,{head:f,prefix:d,scalar:h}=(r=nW("private key",r=e,n=g.secretKey),a=u((s=nW("hashed private key",t(r),2*n)).slice(0,n)),o=s.slice(n,2*n),l=c(a),{head:a,prefix:o,scalar:l}),p=i.multiply(h),m=p.toBytes();return{head:f,prefix:d,scalar:h,point:p,pointBytes:m}}function d(e){return f(e).pointBytes}function h(e=Uint8Array.of(),...r){return c(t(l(ne(...r),nW("context",e),!!n)))}let p={zip215:!0},m=s.BYTES,g={secretKey:m,publicKey:m,signature:2*m,seed:m};function y(e=o(g.seed)){return nz(e,g.seed,"seed")}let b={getExtendedPublicKey:f,randomSecretKey:y,isValidSecretKey:function(e){return rV(e)&&e.length===a.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),n=g.publicKey,i=32===n;if(!i&&57!==n)throw Error("only defined for 25519 and 448");let a=i?s.div(iU+r,iU-r):s.div(r-iU,r+iU);return s.toBytes(a)},toMontgomerySecret(e){let r=g.secretKey;return nz(e,r),u(t(e.subarray(0,r))).subarray(0,r)},randomPrivateKey:y,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){let t=b.randomSecretKey(e);return{secretKey:t,publicKey:d(t)}},getPublicKey:d,sign:function(e,t,r={}){e=nW("message",e),n&&(e=n(e));let{prefix:s,scalar:o,pointBytes:u}=f(t),l=h(r.context,s,e),c=i.multiply(l).toBytes(),d=h(r.context,c,u,e),p=a.create(l+d*o);if(!a.isValid(p))throw Error("sign failed: invalid s");return nz(ne(c,a.toBytes(p)),g.signature,"result")},verify:function(t,r,s,a=p){let o,u,l,{context:c,zip215:f}=a,d=g.signature;t=nW("signature",t,d),r=nW("message",r),s=nW("publicKey",s,g.publicKey),void 0!==f&&nN(f,"zip215"),n&&(r=n(r));let m=d/2,y=t.subarray(0,m),b=nq(t.subarray(m,d));try{o=e.fromBytes(s,f),u=e.fromBytes(y,f),l=i.multiplyUnsafe(b)}catch(e){return!1}if(!f&&o.isSmallOrder())return!1;let v=h(c,u.toBytes(),o.toBytes(),r);return u.add(o.multiplyUnsafe(v)).subtract(l).clearCofactor().is0()},utils:b,Point:e,lengths:g})}(function(e,t={}){var r,n;let i,s,a,o,u,l=iR("edwards",e,t,t.FpFnLE),{Fp:c,Fn:f}=l,d=l.CURVE,{h:h}=d;nQ(t,{},{uvRatio:"function"});let p=iL<<BigInt(8*f.BYTES)-iU,m=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:c.sqrt(c.div(e,t))}}catch(e){return{isValid:!1,value:iC}}});if(r=d.Gx,n=d.Gy,i=c.sqr(r),s=c.sqr(n),a=c.add(c.mul(d.a,i),s),o=c.add(c.ONE,c.mul(d.d,c.mul(i,s))),!c.eql(a,o))throw Error("bad curve params: generator point");function g(e,t,r=!1){return nY("coordinate "+e,t,r?iU:iC,p),t}function y(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=n0((e,t)=>{let r,n,{X:i,Y:s,Z:a}=e,o=e.is0();null==t&&(t=o?ij:c.inv(a));let u=(r=i*t,c.create(r)),l=(n=s*t,c.create(n)),f=c.mul(a,t);if(o)return{x:iC,y:iU};if(f!==iU)throw Error("invZ was invalid");return{x:u,y:l}}),v=n0(e=>{let t,r,n,i,s,a,o,u,l,f,h,p,{a:m,d:g}=d;if(e.is0())throw Error("bad point: ZERO");let{X:y,Y:b,Z:v,T:w}=e,x=(t=y*y,c.create(t)),E=(r=b*b,c.create(r)),k=(n=v*v,c.create(n)),_=(i=k*k,c.create(i));if(o=k*(s=x*m,a=c.create(s)+E,c.create(a)),c.create(o)!==(f=_+(l=g*(u=x*E,c.create(u)),c.create(l)),c.create(f)))throw Error("bad point: equation left != right (1)");if(h=y*b,c.create(h)!==(p=v*w,c.create(p)))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,n){this.X=g("x",e),this.Y=g("y",t),this.Z=g("z",r,!0),this.T=g("t",n),Object.freeze(this)}static CURVE(){return d}static fromAffine(e){let t;if(e instanceof w)throw Error("extended point not allowed");let{x:r,y:n}=e||{};return g("x",r),g("y",n),new w(r,n,iU,(t=r*n,c.create(t)))}static fromBytes(e,t=!1){let r,n,i,s,a=c.BYTES,{a:o,d:u}=d;e=nV(nz(e,a,"point")),nN(t,"zip215");let l=nV(e),f=e[a-1];l[a-1]=-129&f;let h=nq(l);nY("point.y",h,iC,t?p:c.ORDER);let g=(r=h*h,c.create(r)),{isValid:y,value:b}=m((n=g-iU,c.create(n)),(i=u*g-o,c.create(i)));if(!y)throw Error("bad point: invalid y coordinate");let v=(b&iU)===iU,x=(128&f)!=0;if(!t&&b===iC&&x)throw Error("bad point: x=0 and x_0=1");return x!==v&&(s=-b,b=c.create(s)),w.fromAffine({x:b,y:h})}static fromHex(e,t=!1){return w.fromBytes(nW("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return x.createCache(this,e),t||this.multiply(iL),this}assertValidity(){v(this)}equals(e){let t,r,n,i;y(e);let{X:s,Y:a,Z:o}=this,{X:u,Y:l,Z:f}=e,d=(t=s*f,c.create(t)),h=(r=u*o,c.create(r)),p=(n=a*f,c.create(n)),m=(i=l*o,c.create(i));return d===h&&p===m}is0(){return this.equals(w.ZERO)}negate(){let e,t;return new w((e=-this.X,c.create(e)),this.Y,this.Z,(t=-this.T,c.create(t)))}double(){let e,t,r,n,i,s,a,o,u,l,f,{a:h}=d,{X:p,Y:m,Z:g}=this,y=(e=p*p,c.create(e)),b=(t=m*m,c.create(t)),v=(n=iL*(r=g*g,c.create(r)),c.create(n)),x=(i=h*y,c.create(i)),E=p+m,k=(s=E*E,a=c.create(s)-y-b,c.create(a)),_=x+b,S=_-v,A=x-b,B=(o=k*S,c.create(o)),I=(u=_*A,c.create(u)),M=(l=k*A,c.create(l));return new w(B,I,(f=S*_,c.create(f)),M)}add(e){let t,r,n,i,s,a,o,u,l,f;y(e);let{a:h,d:p}=d,{X:m,Y:g,Z:b,T:v}=this,{X:x,Y:E,Z:k,T:_}=e,S=(t=m*x,c.create(t)),A=(r=g*E,c.create(r)),B=(n=v*p*_,c.create(n)),I=(i=b*k,c.create(i)),M=(s=(m+g)*(x+E)-S-A,c.create(s)),O=I-B,T=I+B,P=(a=A-h*S,c.create(a)),R=(o=M*O,c.create(o)),C=(u=T*P,c.create(u)),U=(l=M*P,c.create(l));return new w(R,C,(f=O*T,c.create(f)),U)}subtract(e){return this.add(e.negate())}multiply(e){if(!f.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=x.cached(this,e,e=>iE(w,e));return iE(w,[t,r])[0]}multiplyUnsafe(e,t=w.ZERO){if(!f.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===iC?w.ZERO:this.is0()||e===iU?this:x.unsafe(this,e,e=>iE(w,e),t)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return x.unsafe(this,d.n).is0()}toAffine(e){return b(this,e)}clearCofactor(){return h===iU?this:this.multiplyUnsafe(h)}toBytes(){let{x:e,y:t}=this.toAffine(),r=c.toBytes(t);return r[r.length-1]|=e&iU?128:0,r}toHex(){return r5(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return iE(w,e)}static msm(e,t){return iT(w,f,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}w.BASE=new w(d.Gx,d.Gy,iU,(u=d.Gx*d.Gy,c.create(u))),w.ZERO=new w(iC,iU,iU,iC),w.Fp=c,w.Fn=f;let x=new iO(w,f.BITS);return w.BASE.precompute(8),w}(s,a),o,u);return i=l.Point,Object.assign({},l,{ExtendedPoint:i,CURVE:e,nBitLength:i.Fn.BITS,nByteLength:i.Fn.BYTES})}({...iQ,Fp:i1,hash:nU,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:i0}),i3=(iJ+iH)/iG,i5=i1.pow(iV,i3),i8=i1.sqrt(i1.neg(i1.ONE)),i4=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}(i1,i1.neg(BigInt(486664)));i$(i6.Point,e=>(function(e){let t,r,n,i,s,a,o,u,l,c,f,d,h,p,m,g,y,b,v,w,x,E,k,{xMn:_,xMd:S,yMn:A,yMd:B}=(t=(iJ-iY)/iG,r=BigInt(486662),n=i1.sqr(e),n=i1.mul(n,iV),i=i1.add(n,i1.ONE),s=i1.neg(r),a=i1.sqr(i),o=i1.mul(a,i),u=i1.mul(n,r),u=i1.mul(u,s),u=i1.add(u,a),u=i1.mul(u,s),l=i1.sqr(o),a=i1.sqr(l),l=i1.mul(l,o),l=i1.mul(l,u),a=i1.mul(a,l),c=i1.pow(a,t),c=i1.mul(c,l),f=i1.mul(c,i8),a=i1.sqr(c),a=i1.mul(a,o),d=i1.eql(a,u),h=i1.cmov(f,c,d),p=i1.mul(s,n),m=i1.mul(c,e),m=i1.mul(m,i5),g=i1.mul(m,i8),y=i1.mul(u,n),a=i1.sqr(m),a=i1.mul(a,o),b=i1.eql(a,y),v=i1.cmov(g,m,b),a=i1.sqr(h),a=i1.mul(a,o),w=i1.eql(a,u),x=i1.cmov(p,s,w),E=i1.cmov(v,h,w),k=i1.isOdd(E),{xMn:x,xMd:i,yMn:E=i1.cmov(E,i1.neg(E),w!==k),yMd:iW}),I=i1.mul(_,B);I=i1.mul(I,i4);let M=i1.mul(S,A),O=i1.sub(_,S),T=i1.add(_,S),P=i1.mul(M,T),R=i1.eql(P,i1.ZERO);I=i1.cmov(I,i1.ZERO,R),M=i1.cmov(M,i1.ONE,R),O=i1.cmov(O,i1.ONE,R),T=i1.cmov(T,i1.ONE,R);let[C,U]=ih(i1,[M,T],!0);return{x:i1.mul(I,C),y:i1.mul(O,U)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:iJ,m:1,k:128,expand:"xmd",hash:nU});let i9=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),i7=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),se=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),st=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),sr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sn=e=>i6.Point.Fp.create(nq(e)&sr);function si(e){let t,r,n,i,s,a,o,u,l,c,f,d,h,p,m,{d:g}=iQ,y=(t=iX*e*e,i1.create(t)),b=(r=(y+iW)*se,i1.create(r)),v=BigInt(-1),w=(i=(v-g*y)*(n=y+g,i1.create(n)),i1.create(i)),{isValid:x,value:E}=i0(b,w),k=(s=E*e,i1.create(s));il(k,iJ)||(a=-k,k=i1.create(a)),x||(E=k),x||(v=y);let _=(o=v*(y-iW)*st-w,i1.create(o)),S=E*E,A=(u=(E+E)*w,i1.create(u)),B=(l=_*i9,i1.create(l)),I=(c=iW-S,i1.create(c)),M=(f=iW+S,i1.create(f));return new i6.Point((d=A*M,i1.create(d)),(h=I*B,i1.create(h)),(p=B*M,i1.create(p)),(m=A*I,i1.create(m)))}class ss extends iN{constructor(e){super(e)}static fromAffine(e){return new ss(i6.Point.fromAffine(e))}assertSame(e){if(!(e instanceof ss))throw Error("RistrettoPoint expected")}init(e){return new ss(e)}static hashToCurve(e){var t;let r,n;return rY(t=nW("ristrettoHash",e,64),64),r=si(sn(t.subarray(0,32))),n=si(sn(t.subarray(32,64))),new ss(r.add(n))}static fromBytes(e){let t,r,n,i,s,a,o,u,l,c,f,d,h;rY(e,32);let{a:p,d:m}=iQ,g=sn(e);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(i1.toBytes(g),e)||il(g,iJ))throw Error("invalid ristretto255 encoding 1");let y=(t=g*g,i1.create(t)),b=(r=iW+p*y,i1.create(r)),v=(n=iW-p*y,i1.create(n)),w=(i=b*b,i1.create(i)),x=(s=v*v,i1.create(s)),E=(a=p*m*w-x,i1.create(a)),{isValid:k,value:_}=(o=E*x,i0(iW,i1.create(o))),S=(u=_*v,i1.create(u)),A=(l=_*S*E,i1.create(l)),B=(c=(g+g)*S,i1.create(c));il(B,iJ)&&(f=-B,B=i1.create(f));let I=(d=b*A,i1.create(d)),M=(h=B*I,i1.create(h));if(!k||il(M,iJ)||I===iK)throw Error("invalid ristretto255 encoding 2");return new ss(new i6.Point(B,I,iW,M))}static fromHex(e){return ss.fromBytes(nW("ristrettoHex",e,32))}static msm(e,t){return iT(ss,i6.Point.Fn,e,t)}toBytes(){let e,t,r,n,i,s,a,o,u,l,c,f,d,{X:h,Y:p,Z:m,T:g}=this.ep,y=(e=m+p,r=i1.create(e)*(t=m-p,i1.create(t)),i1.create(r)),b=(n=h*p,i1.create(n)),{value:v}=(s=y*(i=b*b,i1.create(i)),i0(iW,i1.create(s))),w=(a=v*y,i1.create(a)),x=(o=v*b,i1.create(o)),E=(u=w*x*g,i1.create(u));if(il(g*E,iJ)){let e,t,r=(e=p*iX,i1.create(e)),n=(t=h*iX,i1.create(t));h=r,p=n,d=i1.create(w*i7)}else d=x;il(h*E,iJ)&&(l=-p,p=i1.create(l));let k=(c=(m-p)*d,i1.create(c));return il(k,iJ)&&(f=-k,k=i1.create(f)),i1.toBytes(k)}equals(e){let t,r,n,i;this.assertSame(e);let{X:s,Y:a}=this.ep,{X:o,Y:u}=e.ep,l=(t=s*u,i1.create(t)===(r=a*o,i1.create(r))),c=(n=a*u,i1.create(n)===(i=s*o,i1.create(i)));return l||c}is0(){return this.equals(ss.ZERO)}}ss.BASE=new ss(i6.Point.BASE),ss.ZERO=new ss(i6.Point.ZERO),ss.Fp=i1,ss.Fn=i2;var sa=e.i(45480),so=e.i(78458),su=e.i(7596),sl=e.i(66393);function sc([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var sf=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(sc).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function sd(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var sh=((g=sh||{})[g.Little=0]="Little",g[g.Big=1]="Big",g);function sp(e){return e?.endian!==1}class sm extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...s}=e,{path:a}=e,o=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function sg(e){return"object"==typeof e&&null!=e}function sy(e){return sg(e)&&!Array.isArray(e)}function sb(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*sv(e,t,r,n){var i;for(let s of(sg(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:a}=r,{refinement:o,message:u=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${sb(n)}\``}=e;return{value:n,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...e,message:u}}(s,t,r,n);e&&(yield e)}}function*sw(e,t,r={}){let{path:n=[],branch:i=[e],coerce:s=!1,mask:a=!1}=r,o={path:n,branch:i,mask:a};s&&(e=t.coercer(e,o));let u="valid";for(let n of t.validator(e,o))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[l,c,f]of t.entries(e,o))for(let t of sw(c,f,{path:void 0===l?n:[...n,l],branch:void 0===l?i:[...i,c],coerce:s,mask:a,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(c=t[1],void 0===l?e=c:e instanceof Map?e.set(l,c):e instanceof Set?e.add(c):sg(e)&&(void 0!==c||l in e)&&(e[l]=c));if("not_valid"!==u)for(let n of t.refiner(e,o))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class sx{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,n?this.validator=(e,t)=>sv(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>sv(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,n=this,i=t;let s=sk(r,n,{message:i});if(s[0])throw s[0]}create(e,t){return sE(e,this,t)}is(e){var t,r;return t=e,r=this,!sk(t,r)[0]}mask(e,t){var r=e,n=this,i=t;let s=sk(r,n,{coerce:!0,mask:!0,message:i});if(!s[0])return s[1];throw s[0]}validate(e,t={}){return sk(e,this,t)}}function sE(e,t,r){let n=sk(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function sk(e,t,r={}){let n=sw(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new sm(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function s_(e,t){return new sx({type:e,schema:null,validator:t})}function sS(e){return new sx({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${sb(e)}`})}function sA(){return s_("boolean",e=>"boolean"==typeof e)}function sB(e){return s_("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${sb(t)}`)}function sI(e){let t=sb(e),r=typeof e;return new sx({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${sb(r)}`})}function sM(e){return new sx({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function sO(){return s_("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${sb(e)}`)}function sT(e){return new sx({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function sP(e,t){return new sx({type:"record",schema:null,*entries(r){if(sg(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>sy(e)||`Expected an object, but received: ${sb(e)}`,coercer:e=>sy(e)?{...e}:e})}function sR(){return s_("string",e=>"string"==typeof e||`Expected a string, but received: ${sb(e)}`)}function sC(e){let t=s_("never",()=>!1);return new sx({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${sb(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function sU(e){let t=Object.keys(e);return new sx({type:"type",schema:e,*entries(r){if(sg(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>sy(e)||`Expected an object, but received: ${sb(e)}`,coercer:e=>sy(e)?{...e}:e})}function sL(e){let t=e.map(e=>e.type).join(" | ");return new sx({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=sw(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${sb(r)}`,...i]}})}function sj(){return s_("unknown",()=>!0)}function sN(e,t,r){return new sx({...e,coercer:(n,i)=>sk(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}e.i(79113);var sz=e.i(82425);sz.default;sz.default;sz.default;let sZ=BigInt(0),sD=BigInt(1),sF=BigInt(2),sq=BigInt(7),s$=BigInt(256),sK=BigInt(113),sW=[],sV=[],sH=[];for(let e=0,t=sD,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],sW.push(2*(5*n+r)),sV.push((e+1)*(e+2)/2%64);let i=sZ;for(let e=0;e<7;e++)(t=(t<<sD^(t>>sq)*sK)%s$)&sF&&(i^=sD<<(sD<<BigInt(e))-sD);sH.push(i)}let sY=nf(sH,!0),sG=sY[0],sJ=sY[1],sQ=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,sX=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class s0 extends nt{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,rH(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}clone(){return this._cloneInto()}keccak(){r2(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=sQ(s,a,1)^r[n],u=sX(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=sV[r],s=sQ(t,i,n),a=sX(t,i,n),o=sW[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=sG[n],e[1]^=sJ[n]}rX(r)}(this.state32,this.rounds),r2(this.state32),this.posOut=0,this.pos=0}update(e){rJ(this),rY(e=r7(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){rJ(this,!1),rY(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return rH(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rQ(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rX(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new s0(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let s1=nr(()=>new s0(136,1,32));class s2 extends nt{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rG(e);const r=r7(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),rX(i)}update(e){return rJ(this),this.iHash.update(e),this}digestInto(e){rJ(this),rY(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s6=(e,t,r)=>new s2(e,t).update(r).digest();s6.create=(e,t)=>new s2(e,t);let s3=(e,t)=>(e+(e>=0?t:-t)/ae)/t;function s5(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function s8(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return nN(r.lowS,"lowS"),nN(r.prehash,"prehash"),void 0!==r.format&&s5(r.format),r}let s4={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=s4;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=nZ(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?nZ(i.length/2|128):"";return nZ(e)+s+i+t},decode(e,t){let{Err:r}=s4,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=s4;if(e<s9)throw new t("integer: negative integers are not allowed");let r=nZ(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=s4;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return nF(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=s4,i=nW("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:u}=n.decode(2,s),{v:l,l:c}=n.decode(2,u);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=s4,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},s9=BigInt(0),s7=BigInt(1),ae=BigInt(2),at=BigInt(3),ar=BigInt(4);function an(e,t){let r,{BYTES:n}=e;if("bigint"==typeof t)r=t;else{let i=nW("private key",t);try{r=e.fromBytes(i)}catch(e){throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function ai(e){return Uint8Array.of(e?2:3)}function as(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}let aa={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ao={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},au=BigInt(0),al=BigInt(2),ac=ig(aa.p,{sqrt:function(e){let t=aa.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),u=BigInt(88),l=e*e*e%t,c=l*l*e%t,f=ir(c,r,t)*c%t,d=ir(f,r,t)*c%t,h=ir(d,al,t)*l%t,p=ir(h,i,t)*h%t,m=ir(p,s,t)*p%t,g=ir(m,o,t)*m%t,y=ir(g,u,t)*g%t,b=ir(y,o,t)*m%t,v=ir(b,r,t)*c%t,w=ir(v,a,t)*p%t,x=ir(w,n,t)*l%t,E=ir(x,al,t);if(!ac.eql(ac.sqr(E),e))throw Error("Cannot find square root");return E}}),af=(y={...aa,Fp:ac,lowS:!0,endo:ao},{...(l=e=>(function(e){let t,{CURVE:r,curveOpts:n,hash:i,ecdsaOpts:s}=function(e){let t,r,n,i,{CURVE:s,curveOpts:a}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:r,Fn:ig(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:i}),o={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:s,curveOpts:a,hash:e.hash,ecdsaOpts:o}}(e),a=function(e,t,r={}){rG(t),nQ(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||nn,i=r.hmac||((e,...r)=>s6(t,e,ne(...r))),{Fp:s,Fn:a}=e,{ORDER:o,BITS:u}=a,{keygen:l,getPublicKey:c,getSharedSecret:f,utils:d,lengths:h}=function(e,t={}){let{Fn:r}=e,n=t.randomBytes||nn,i=Object.assign(as(e.Fp,r),{seed:ib(r.ORDER)});function s(e){try{return!!an(r,e)}catch(e){return!1}}function a(e=n(i.seed)){return function(e,t,r=!1){let n=e.length,i=iy(t),s=ib(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=it(r?nq(e):nF(e),t-n2)+n2;return r?nK(a,i):n$(a,i)}(nz(e,i.seed,"seed"),r.ORDER)}function o(t,n=!0){return e.BASE.multiply(an(r,t)).toBytes(n)}function u(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:n,publicKey:s,publicKeyUncompressed:a}=i;if(r.allowedLengths||n===s)return;let o=nW("key",t).length;return o===s||o===a}return Object.freeze({getPublicKey:o,getSharedSecret:function(t,n,i=!0){if(!0===u(t))throw Error("first arg must be private key");if(!1===u(n))throw Error("second arg must be public key");let s=an(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){let t=a(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:s}=i;try{let i=t.length;if(!0===r&&i!==n||!1===r&&i!==s)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:e=>an(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},m="compact";function g(e,t){if(!a.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class y{constructor(e,t,r){this.r=g("r",e),this.s=g("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=m){var r,n;let i,s;if(r=e,s5(n=t),s=h.signature,nz(r,"compact"===n?s:"recovered"===n?s+1:void 0,`${n} signature`),"der"===t){let{r:t,s:r}=s4.toSig(nz(e));return new y(t,r)}"recovered"===t&&(i=e[0],t="compact",e=e.subarray(1));let o=a.BYTES,u=e.subarray(0,o),l=e.subarray(o,2*o);return new y(a.fromBytes(u),a.fromBytes(l),i)}static fromHex(e,t){return this.fromBytes(r4(e),t)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:n,s:i,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw Error("recovery id invalid");if(o*ae<r&&u>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===u||3===u?n+o:n;if(!s.isValid(l))throw Error("recovery id 2 or 3 invalid");let c=s.toBytes(l),f=e.fromBytes(ne(ai((1&u)==0),c)),d=a.inv(l),h=v(nW("msgHash",t)),p=a.create(-h*d),m=a.create(i*d),g=e.BASE.multiplyUnsafe(p).add(f.multiplyUnsafe(m));if(g.is0())throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>o>>s7}toBytes(e=m){if(s5(e),"der"===e)return r4(s4.hexFromSig(this));let t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return ne(Uint8Array.of(this.recovery),t,r)}return ne(t,r)}toHex(e){return r5(this.toBytes(e))}assertValidity(){}static fromCompact(e){return y.fromBytes(nW("sig",e),"compact")}static fromDER(e){return y.fromBytes(nW("sig",e),"der")}normalizeS(){return this.hasHighS()?new y(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return r5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return r5(this.toBytes("compact"))}}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=nF(e),r=8*e.length-u;return r>0?t>>BigInt(r):t},v=r.bits2int_modN||function(e){return a.create(b(e))},w=nJ(u);function x(e){return nY("num < 2^"+u,e,s9,w),a.toBytes(e)}function E(e,r){return nz(e,void 0,"message"),r?nz(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:c,getSharedSecret:f,utils:d,lengths:h,Point:e,sign:function(r,s,u={}){let{seed:l,k2sig:c}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:s,prehash:u,extraEntropy:l}=s8(i,p),c=v(t=E(t,u)),f=an(a,r),d=[x(f),x(c)];if(null!=l&&!1!==l){let e=!0===l?n(h.secretKey):l;d.push(nW("extraEntropy",e))}return{seed:ne(...d),k2sig:function(t){let r=b(t);if(!a.isValidNot0(r))return;let n=a.inv(r),i=e.BASE.multiply(r).toAffine(),u=a.create(i.x);if(u===s9)return;let l=a.create(n*a.create(c+u*f));if(l===s9)return;let d=2*(i.x!==u)|Number(i.y&s7),h=l;return s&&l>o>>s7&&(h=a.neg(l),d^=1),new y(u,h,d)}}}(r=nW("message",r),s,u);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=n(e),s=n(e),a=0,o=()=>{i.fill(1),s.fill(0),a=0},u=(...e)=>r(s,i,...e),l=(e=n(0))=>{(s=u(Uint8Array.of(0),e),i=u(),0!==e.length)&&(s=u(Uint8Array.of(1),e),i=u())},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=u()).slice();r.push(t),e+=i.length}return ne(...r)};return(e,t)=>{let r;for(o(),l(e);!(r=t(c()));)l();return o(),r}})(t.outputLen,a.BYTES,i)(l,c)},verify:function(t,r,n,i={}){let{lowS:s,prehash:o,format:u}=s8(i,p);if(n=nW("publicKey",n),r=E(nW("message",r),o),"strict"in i)throw Error("options.strict was renamed to lowS");let l=void 0===u?function(e){let t,r="string"==typeof e||rV(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new y(e.r,e.s);else if(r){try{t=y.fromBytes(nW("sig",e),"der")}catch(e){if(!(e instanceof s4.Err))throw e}if(!t)try{t=y.fromBytes(nW("sig",e),"compact")}catch(e){return!1}}return!!t&&t}(t):y.fromBytes(nW("sig",t),u);if(!1===l)return!1;try{let t=e.fromBytes(n);if(s&&l.hasHighS())return!1;let{r:i,s:o}=l,u=v(r),c=a.inv(o),f=a.create(u*c),d=a.create(i*c),h=e.BASE.multiplyUnsafe(f).add(t.multiplyUnsafe(d));if(h.is0())return!1;return a.create(h.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:n}=s8(r,p);return t=E(t,n),y.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:y,hash:t})}(function(e,t={}){let r=iR("weierstrass",e,t),{Fp:n,Fn:i}=r,s=r.CURVE,{h:a,n:o}=s;nQ(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:u}=t;if(u&&(!n.is0(s.a)||"bigint"!=typeof u.beta||!Array.isArray(u.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let l=as(n,i);function c(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let f=t.toBytes||function(e,t,r){let{x:i,y:s}=t.toAffine(),a=n.toBytes(i);return(nN(r,"isCompressed"),r)?(c(),ne(ai(!n.isOdd(s)),a)):ne(Uint8Array.of(4),a,n.toBytes(s))},d=t.fromBytes||function(e){nz(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=l,i=e.length,s=e[0],a=e.subarray(1);if(i===t&&(2===s||3===s)){let e,t=n.fromBytes(a);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=h(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return c(),(1&s)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(i===r&&4===s){let e=n.BYTES,t=n.fromBytes(a.subarray(0,e)),r=n.fromBytes(a.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function h(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function p(e,t){let r=n.sqr(t),i=h(e);return n.eql(r,i)}if(!p(s.Gx,s.Gy))throw Error("bad curve params: generator point");let m=n.mul(n.pow(s.a,at),ar),g=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(m,g)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof k))throw Error("ProjectivePoint expected")}function v(e){if(!u||!u.basises)throw Error("no endo");return function(e,t,r){let[[n,i],[s,a]]=t,o=s3(a*e,r),u=s3(-i*e,r),l=e-o*n-u*s,c=-o*i-u*a,f=l<s9,d=c<s9;f&&(l=-l),d&&(c=-c);let h=nJ(Math.ceil(nG(r)/2))+s7;if(l<s9||l>=h||c<s9||c>=h)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:c}}(e,u.basises,i.ORDER)}let w=n0((e,t)=>{let{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),u=n.mul(i,t),l=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:o,y:u}}),x=n0(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not field elements");if(!p(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,i,s){return r=new k(n.mul(r.X,e),r.Y,r.Z),t=ix(i,t),r=ix(s,r),t.add(r)}class k{constructor(e,t,r){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof k)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?k.ZERO:new k(t,r,n.ONE)}static fromBytes(e){let t=k.fromAffine(d(nz(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return k.fromBytes(nW("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(at),this}assertValidity(){x(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){b(e);let{X:t,Y:r,Z:i}=this,{X:s,Y:a,Z:o}=e,u=n.eql(n.mul(t,o),n.mul(s,i)),l=n.eql(n.mul(r,o),n.mul(a,i));return u&&l}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=s,r=n.mul(t,at),{X:i,Y:a,Z:o}=this,u=n.ZERO,l=n.ZERO,c=n.ZERO,f=n.mul(i,i),d=n.mul(a,a),h=n.mul(o,o),p=n.mul(i,a);return p=n.add(p,p),c=n.mul(i,o),c=n.add(c,c),u=n.mul(e,c),l=n.mul(r,h),l=n.add(u,l),u=n.sub(d,l),l=n.add(d,l),l=n.mul(u,l),u=n.mul(p,u),c=n.mul(r,c),h=n.mul(e,h),p=n.sub(f,h),p=n.mul(e,p),p=n.add(p,c),c=n.add(f,f),f=n.add(c,f),f=n.add(f,h),f=n.mul(f,p),l=n.add(l,f),h=n.mul(a,o),h=n.add(h,h),f=n.mul(h,p),u=n.sub(u,f),c=n.mul(h,d),c=n.add(c,c),new k(u,l,c=n.add(c,c))}add(e){b(e);let{X:t,Y:r,Z:i}=this,{X:a,Y:o,Z:u}=e,l=n.ZERO,c=n.ZERO,f=n.ZERO,d=s.a,h=n.mul(s.b,at),p=n.mul(t,a),m=n.mul(r,o),g=n.mul(i,u),y=n.add(t,r),v=n.add(a,o);y=n.mul(y,v),v=n.add(p,m),y=n.sub(y,v),v=n.add(t,i);let w=n.add(a,u);return v=n.mul(v,w),w=n.add(p,g),v=n.sub(v,w),w=n.add(r,i),l=n.add(o,u),w=n.mul(w,l),l=n.add(m,g),w=n.sub(w,l),f=n.mul(d,v),l=n.mul(h,g),f=n.add(l,f),l=n.sub(m,f),f=n.add(m,f),c=n.mul(l,f),m=n.add(p,p),m=n.add(m,p),g=n.mul(d,g),v=n.mul(h,v),m=n.add(m,g),g=n.sub(p,g),g=n.mul(d,g),v=n.add(v,g),p=n.mul(m,v),c=n.add(c,p),p=n.mul(w,v),l=n.mul(y,l),l=n.sub(l,p),p=n.mul(y,m),f=n.mul(w,f),new k(l,c,f=n.add(f,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}multiply(e){let r,n,{endo:s}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>S.cached(this,e,e=>iE(k,e));if(s){let{k1neg:t,k1:i,k2neg:o,k2:u}=v(e),{p:l,f:c}=a(i),{p:f,f:d}=a(u);n=c.add(d),r=E(s.beta,l,f,t,o)}else{let{p:t,f:i}=a(e);r=t,n=i}return iE(k,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===s9||this.is0())return k.ZERO;if(e===s7)return this;if(S.hasCache(this))return this.multiply(e);if(!r)return S.unsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=v(e),{p1:a,p2:o}=function(e,t,r,n){let i=t,s=e.ZERO,a=e.ZERO;for(;r>iv||n>iv;)r&iw&&(s=s.add(i)),n&iw&&(a=a.add(i)),i=i.double(),r>>=iw,n>>=iw;return{p1:s,p2:a}}(k,this,n,s);return E(r.beta,a,o,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return w(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===s7||(e?e(k,this):S.unsafe(this,o).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===s7?this:e?e(k,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(e=!0){return nN(e,"isCompressed"),this.assertValidity(),f(k,this,e)}toHex(e=!0){return r5(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return iE(k,e)}static msm(e,t){return iT(k,i,e,t)}static fromPrivateKey(e){return k.BASE.multiply(an(i,e))}}k.BASE=new k(s.Gx,s.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=i;let _=i.BITS,S=new iO(k,t.endo?Math.ceil(_/2):_);return k.BASE.precompute(8),k}(r,n),i,s);return t=a.Point,Object.assign({},a,{ProjectivePoint:t,CURVE:Object.assign({},e,im(t.Fn.ORDER,t.Fn.BITS))})})({...y,hash:e}))(nC),create:l});af.Point;let ad=(c=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[r,n,i,s]=c.map(t=>t.reduce((t,r)=>ac.add(ac.mul(t,e),r))),[a,o]=ih(ac,[n,s],!0);return e=ac.mul(r,a),t=ac.mul(t,ac.mul(i,o)),{x:e,y:t}}),ah=function(e,t){id(e);let{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw Error("mapToCurveSimpleSWU: invalid opts");let s=function(e,t){let r=e.ORDER,n=s9;for(let e=r-s7;e%ae===s9;e/=ae)n+=s7;let i=n,s=ae<<i-s7-s7,a=s*ae,o=(r-s7)/a,u=(o-s7)/ae,l=a-s7,c=e.pow(t,o),f=e.pow(t,(o+s7)/ae),d=(t,r)=>{let n=c,a=e.pow(r,l),o=e.sqr(a);o=e.mul(o,r);let d=e.mul(t,o);d=e.pow(d,u),d=e.mul(d,a),a=e.mul(d,r),o=e.mul(d,t);let h=e.mul(o,a);d=e.pow(h,s);let p=e.eql(d,e.ONE);a=e.mul(o,f),d=e.mul(h,n),o=e.cmov(a,o,p),h=e.cmov(d,h,p);for(let t=i;t>s7;t--){let r=t-ae;r=ae<<r-s7;let i=e.pow(h,r),s=e.eql(i,e.ONE);a=e.mul(o,n),n=e.mul(n,n),i=e.mul(h,n),o=e.cmov(a,o,s),h=e.cmov(i,h,s)}return{isValid:p,value:o}};if(e.ORDER%ar===at){let r=(e.ORDER-at)/ar,n=e.sqrt(e.neg(t));d=(t,i)=>{let s=e.sqr(i),a=e.mul(t,i);s=e.mul(s,a);let o=e.pow(s,r);o=e.mul(o,a);let u=e.mul(o,n),l=e.mul(e.sqr(o),i),c=e.eql(l,t),f=e.cmov(u,o,c);return{isValid:c,value:f}}}return d}(e,i);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let a,o,u,l,c,f,d,h;a=e.sqr(t),a=e.mul(a,i),o=e.sqr(a),o=e.add(o,a),u=e.add(o,e.ONE),u=e.mul(u,n),l=e.cmov(i,e.neg(o),!e.eql(o,e.ZERO)),l=e.mul(l,r),o=e.sqr(u),f=e.sqr(l),c=e.mul(f,r),o=e.add(o,c),o=e.mul(o,u),f=e.mul(f,l),c=e.mul(f,n),o=e.add(o,c),d=e.mul(a,u);let{isValid:p,value:m}=s(o,f);h=e.mul(a,t),h=e.mul(h,m),d=e.cmov(d,u,p),h=e.cmov(h,m,p);let g=e.isOdd(t)===e.isOdd(h);h=e.cmov(e.neg(h),h,g);let y=ih(e,[l],!0)[0];return{x:d=e.mul(d,y),y:h}}}(ac,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ac.create(BigInt("-11"))});i$(af.Point,e=>{let{x:t,y:r}=ah(ac.create(e[0]));return ad(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ac.ORDER,m:1,k:128,expand:"xmd",hash:nC}),i6.utils.randomPrivateKey;let ap=()=>{let e=i6.utils.randomPrivateKey(),t=am(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},am=i6.getPublicKey;function ag(e){try{return i6.ExtendedPoint.fromHex(e),!0}catch{return!1}}let ay=(e,t)=>i6.sign(e,t.slice(0,32)),ab=i6.verify,av=e=>rK.Buffer.isBuffer(e)?e:e instanceof Uint8Array?rK.Buffer.from(e.buffer,e.byteOffset,e.byteLength):rK.Buffer.from(e);class aw{constructor(e){Object.assign(this,e)}encode(){return rK.Buffer.from((0,su.serialize)(ax,this))}static decode(e){return(0,su.deserialize)(ax,this,e)}static decodeUnchecked(e){return(0,su.deserializeUnchecked)(ax,this,e)}}let ax=new Map,aE=1;class ak extends aw{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){const t=so.default.decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new sa.default(t)}else this._bn=new sa.default(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new ak(aE);return aE+=1,new ak(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return so.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(rK.Buffer);if(32===e.length)return e;let t=rK.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){return new ak(nC(rK.Buffer.concat([e.toBuffer(),rK.Buffer.from(t),r.toBuffer()])))}static createProgramAddressSync(e,t){let r=rK.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=rK.Buffer.concat([r,av(e)])});let n=nC(r=rK.Buffer.concat([r,t.toBuffer(),rK.Buffer.from("ProgramDerivedAddress")]));if(ag(n))throw Error("Invalid seeds, address must fall off the curve");return new ak(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{let i=e.concat(rK.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return ag(new ak(e).toBytes())}}ak.default=new ak("11111111111111111111111111111111"),ax.set(ak,{kind:"struct",fields:[["_bn","u256"]]}),new ak("BPFLoader1111111111111111111111111111111111"),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredBlockheightExceededError"}),Object.defineProperty((class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredTimeoutError"}),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class a_{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments())if(e<t.length)return t[e];else e-=t.length}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let aS=(e="publicKey")=>sl.blob(32,e),aA=(e="string")=>{let t=sl.struct([sl.u32("length"),sl.u32("lengthPadding"),sl.blob(sl.offset(sl.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString(),t.encode=(e,t,r)=>n({chars:rK.Buffer.from(e,"utf8")},t,r),t.alloc=e=>sl.u32().span+sl.u32().span+rK.Buffer.from(e,"utf8").length,t};function aB(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function aI(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function aM(e,t){if(!e)throw Error(t||"Assertion failed")}class aO{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,n=e=>{let t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);for(let t of(i.isSigner=!0,i.isWritable=!0,e))for(let e of(n(t.programId).isInvoked=!0,t.keys)){let t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new aO(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];aM(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{aM(t.length>0,"Expected at least one writable signer key");let[e]=t[0];aM(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new ak(e)),...r.map(([e])=>new ak(e)),...n.map(([e])=>new ak(e)),...i.map(([e])=>new ak(e))]]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=[],n=[];for(let[i,s]of this.keyMetaMap.entries())if(t(s)){let t=new ak(i),s=e.findIndex(e=>e.equals(t));s>=0&&(aM(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}let aT="Reached end of buffer unexpectedly";function aP(e){if(0===e.length)throw Error(aT);return e.shift()}function aR(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(aT);return e.splice(...t)}class aC{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new ak(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:so.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new a_(this.staticAccountKeys)}static compile(e){let[t,r]=aO.compile(e.instructions,e.payerKey).getMessageComponents(),n=new a_(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:so.default.encode(e.data)}));return new aC({header:t,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:n})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];aI(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,n=Array.from(so.default.decode(e.data)),i=[];aI(i,t.length);let s=[];return aI(s,n.length),{programIdIndex:r,keyIndicesCount:rK.Buffer.from(i),keyIndices:t,dataLength:rK.Buffer.from(s),data:n}}),n=[];aI(n,r.length);let i=rK.Buffer.alloc(1232);rK.Buffer.from(n).copy(i);let s=n.length;r.forEach(e=>{let t=sl.struct([sl.u8("programIdIndex"),sl.blob(e.keyIndicesCount.length,"keyIndicesCount"),sl.seq(sl.u8("keyIndex"),e.keyIndices.length,"keyIndices"),sl.blob(e.dataLength.length,"dataLength"),sl.seq(sl.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t}),i=i.slice(0,s);let a=sl.struct([sl.blob(1,"numRequiredSignatures"),sl.blob(1,"numReadonlySignedAccounts"),sl.blob(1,"numReadonlyUnsignedAccounts"),sl.blob(t.length,"keyCount"),sl.seq(aS("key"),e,"keys"),aS("recentBlockhash")]),o={numRequiredSignatures:rK.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:rK.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:rK.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:rK.Buffer.from(t),keys:this.accountKeys.map(e=>av(e.toBytes())),recentBlockhash:so.default.decode(this.recentBlockhash)},u=rK.Buffer.alloc(2048),l=a.encode(o,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e],r=aP(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=aP(t),i=aP(t),s=aB(t),a=[];for(let e=0;e<s;e++){let e=aR(t,0,32);a.push(new ak(rK.Buffer.from(e)))}let o=aR(t,0,32),u=aB(t),l=[];for(let e=0;e<u;e++){let e=aP(t),r=aB(t),n=aR(t,0,r),i=aB(t),s=aR(t,0,i),a=so.default.encode(rK.Buffer.from(s));l.push({programIdIndex:e,accounts:n,data:a})}return new aC({header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:so.default.encode(rK.Buffer.from(o)),accountKeys:a,instructions:l})}}class aU{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new a_(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r)return e-r<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let n=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<n}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<n.state.addresses.length)t.writable.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<n.state.addresses.length)t.readonly.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=aO.compile(e.instructions,e.payerKey),r=[],n={writable:[],readonly:[]};for(let i of e.addressLookupTableAccounts||[]){let e=t.extractTableLookup(i);if(void 0!==e){let[t,{writable:i,readonly:s}]=e;r.push(t),n.writable.push(...i),n.readonly.push(...s)}}let[i,s]=t.getMessageComponents(),a=new a_(s,n).compileInstructions(e.instructions);return new aU({header:i,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){let e=[];aI(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];aI(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];aI(i,this.addressTableLookups.length);let s=sl.struct([sl.u8("prefix"),sl.struct([sl.u8("numRequiredSignatures"),sl.u8("numReadonlySignedAccounts"),sl.u8("numReadonlyUnsignedAccounts")],"header"),sl.blob(e.length,"staticAccountKeysLength"),sl.seq(aS(),this.staticAccountKeys.length,"staticAccountKeys"),aS("recentBlockhash"),sl.blob(r.length,"instructionsLength"),sl.blob(t.length,"serializedInstructions"),sl.blob(i.length,"addressTableLookupsLength"),sl.blob(n.length,"serializedAddressTableLookups")]),a=new Uint8Array(1232),o=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:so.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},a);return a.slice(0,o)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let n=[];aI(n,r.accountKeyIndexes.length);let i=[];aI(i,r.data.length);let s=sl.struct([sl.u8("programIdIndex"),sl.blob(n.length,"encodedAccountKeyIndexesLength"),sl.seq(sl.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),sl.blob(i.length,"encodedDataLength"),sl.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let n=[];aI(n,r.writableIndexes.length);let i=[];aI(i,r.readonlyIndexes.length);let s=sl.struct([aS("accountKey"),sl.blob(n.length,"encodedWritableIndexesLength"),sl.seq(sl.u8(),r.writableIndexes.length,"writableIndexes"),sl.blob(i.length,"encodedReadonlyIndexesLength"),sl.seq(sl.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=aP(t),n=127&r;aM(r!==n,"Expected versioned message but received legacy message"),aM(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:aP(t),numReadonlySignedAccounts:aP(t),numReadonlyUnsignedAccounts:aP(t)},s=[],a=aB(t);for(let e=0;e<a;e++)s.push(new ak(aR(t,0,32)));let o=so.default.encode(aR(t,0,32)),u=aB(t),l=[];for(let e=0;e<u;e++){let e=aP(t),r=aB(t),n=aR(t,0,r),i=aB(t),s=new Uint8Array(aR(t,0,i));l.push({programIdIndex:e,accountKeyIndexes:n,data:s})}let c=aB(t),f=[];for(let e=0;e<c;e++){let e=new ak(aR(t,0,32)),r=aB(t),n=aR(t,0,r),i=aB(t),s=aR(t,0,i);f.push({accountKey:e,writableIndexes:n,readonlyIndexes:s})}return new aU({header:i,staticAccountKeys:s,recentBlockhash:o,compiledInstructions:l,addressTableLookups:f})}}let aL={deserializeMessageVersion(e){let t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{let t=aL.deserializeMessageVersion(e);if("legacy"===t)return aC.from(e);if(0===t)return aU.deserialize(e);throw Error(`Transaction message version ${t} deserialization is not supported`)}},aj=rK.Buffer.alloc(64).fill(0);class aN{constructor(e){this.keys=void 0,this.programId=void 0,this.data=rK.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class az{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new aN(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});let t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new ak(e),isSigner:!1,isWritable:!1})});let s=[];i.forEach(e=>{let t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let a=s.findIndex(e=>e.pubkey.equals(r));if(a>-1){let[e]=s.splice(a,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let o=0,u=0,l=0,c=[],f=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(c.push(e.toString()),o+=1,r||(u+=1)):(f.push(e.toString()),r||(l+=1))});let d=c.concat(f),h=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:d.indexOf(r.toString()),accounts:e.keys.map(e=>d.indexOf(e.pubkey.toString())),data:so.default.encode(t)}});return h.forEach(e=>{aM(e.programIdIndex>=0),e.accounts.forEach(e=>aM(e>=0))}),new aC({header:{numRequiredSignatures:o,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))?e:(this.signatures=t.map(e=>({signature:null,publicKey:e})),e)}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=ay(r,e.secretKey);this._addSignature(e.publicKey,av(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){aM(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=rK.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):ab(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(n)}_serialize(e){let{signatures:t}=this,r=[];aI(r,t.length);let n=r.length+64*t.length+e.length,i=rK.Buffer.alloc(n);return aM(t.length<256),rK.Buffer.from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(aM(64===e.length,"signature has invalid length"),rK.Buffer.from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),aM(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return aM(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return aM(1===this.instructions.length),this.instructions[0].programId}get data(){return aM(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=aB(t),n=[];for(let e=0;e<r;e++){let e=aR(t,0,64);n.push(so.default.encode(rK.Buffer.from(e)))}return az.populate(aC.from(t),n)}static populate(e,t=[]){let r=new az;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{let i={signature:t==so.default.encode(aj)?null:so.default.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{let n=t.accounts.map(t=>{let n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new aN({keys:n,programId:e.accountKeys[t.programIdIndex],data:so.default.decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class aZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)aM(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){let e=this.message.serialize(),t=[];aI(t,this.signatures.length);let r=sl.struct([sl.blob(t.length,"encodedSignaturesLength"),sl.seq(((e="signature")=>sl.blob(64,e))(),this.signatures.length,"signatures"),sl.blob(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e],r=[],n=aB(t);for(let e=0;e<n;e++)r.push(new Uint8Array(aR(t,0,64)));return new aZ(aL.deserialize(new Uint8Array(t)),r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let n of e){let e=r.findIndex(e=>e.equals(n.publicKey));aM(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=ay(t,n.secretKey)}}addSignature(e,t){aM(64===t.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));aM(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}let aD=new ak("SysvarC1ock11111111111111111111111111111111");new ak("SysvarEpochSchedu1e111111111111111111111111"),new ak("Sysvar1nstructions1111111111111111111111111");let aF=new ak("SysvarRecentB1ockHashes11111111111111111111"),aq=new ak("SysvarRent111111111111111111111111111111111");new ak("SysvarRewards111111111111111111111111111111"),new ak("SysvarS1otHashes111111111111111111111111111"),new ak("SysvarS1otHistory11111111111111111111111111");let a$=new ak("SysvarStakeHistory1111111111111111111111111");class aK extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){let i;const s=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":i=`Transaction ${t} resulted in an error. 
${r}. `+s+a;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+s+a;break;default:i=`Unknown action '${e}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}async function aW(e,t,r,n){let i,s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await e.sendTransaction(t,r,s);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)i=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:a,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(a,n&&n.commitment)).value;if(i.err){if(null!=a)throw new aK({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${a} failed (${JSON.stringify(i)})`)}return a}function aV(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*n(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},i=0;return t.layout.fields.forEach(e=>{i+=n(e)}),i}(e,t),n=rK.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}let aH=sl.nu64("lamportsPerSignature"),aY=sl.struct([sl.u32("version"),sl.u32("state"),aS("authorizedPubkey"),aS("nonce"),sl.struct([aH],"feeCalculator")]).span;function aG(e){let t=(0,sl.blob)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=((e={})=>(function(e,t){if(sd(e)!==sd(t))throw new sf(8078004);if(sd(e)&&sd(t)&&e.fixedSize!==t.fixedSize)throw new sf(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!sd(e)&&!sd(t)&&e.maxSize!==t.maxSize)throw new sf(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new sf(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,sp(t.config)),r.set(new Uint8Array(i),n),n+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})})(e),((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){var n,i,s;let a,o;!function(e,t,r=0){if(t.length-r<=0)throw new sf(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,n=0){let i=r.length-n;if(i<t)throw new sf(8078001,{bytesLength:i,codecDescription:e,expected:t})}(t.name,t.size,e,r);let u=new DataView((n=e,i=r,s=t.size,a=n.byteOffset+(i??0),o=s??n.byteLength,n.buffer.slice(a,a+o)));return[t.get(u,sp(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})})(e)))();return t.decode=(e,t)=>{let n=r(e,t);return i.decode(n)},t.encode=(e,t,r)=>n(i.encode(e),t,r),t}let aJ=Object.freeze({Create:{index:0,layout:sl.struct([sl.u32("instruction"),sl.ns64("lamports"),sl.ns64("space"),aS("programId")])},Assign:{index:1,layout:sl.struct([sl.u32("instruction"),aS("programId")])},Transfer:{index:2,layout:sl.struct([sl.u32("instruction"),aG("lamports")])},CreateWithSeed:{index:3,layout:sl.struct([sl.u32("instruction"),aS("base"),aA("seed"),sl.ns64("lamports"),sl.ns64("space"),aS("programId")])},AdvanceNonceAccount:{index:4,layout:sl.struct([sl.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:sl.struct([sl.u32("instruction"),sl.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:sl.struct([sl.u32("instruction"),aS("authorized")])},AuthorizeNonceAccount:{index:7,layout:sl.struct([sl.u32("instruction"),aS("authorized")])},Allocate:{index:8,layout:sl.struct([sl.u32("instruction"),sl.ns64("space")])},AllocateWithSeed:{index:9,layout:sl.struct([sl.u32("instruction"),aS("base"),aA("seed"),sl.ns64("space"),aS("programId")])},AssignWithSeed:{index:10,layout:sl.struct([sl.u32("instruction"),aS("base"),aA("seed"),aS("programId")])},TransferWithSeed:{index:11,layout:sl.struct([sl.u32("instruction"),aG("lamports"),aA("seed"),aS("programId")])},UpgradeNonceAccount:{index:12,layout:sl.struct([sl.u32("instruction")])}});class aQ{constructor(){}static createAccount(e){let t=aV(aJ.Create,{lamports:e.lamports,space:e.space,programId:av(e.programId.toBuffer())});return new aN({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=aV(aJ.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:av(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=aV(aJ.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new aN({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=aV(aJ.AssignWithSeed,{base:av(e.basePubkey.toBuffer()),seed:e.seed,programId:av(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=aV(aJ.Assign,{programId:av(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new aN({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=aV(aJ.CreateWithSeed,{base:av(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:av(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new aN({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){let t=new az;"basePubkey"in e&&"seed"in e?t.add(aQ.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:aY,programId:this.programId})):t.add(aQ.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:aY,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=aV(aJ.InitializeNonceAccount,{authorized:av(e.authorizedPubkey.toBuffer())});return new aN({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:aF,isSigner:!1,isWritable:!1},{pubkey:aq,isSigner:!1,isWritable:!1}],programId:this.programId,data:t})}static nonceAdvance(e){let t=aV(aJ.AdvanceNonceAccount);return new aN({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:aF,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceWithdraw(e){let t=aV(aJ.WithdrawNonceAccount,{lamports:e.lamports});return new aN({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:aF,isSigner:!1,isWritable:!1},{pubkey:aq,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){let t=aV(aJ.AuthorizeNonceAccount,{authorized:av(e.newAuthorizedPubkey.toBuffer())});return new aN({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=aV(aJ.AllocateWithSeed,{base:av(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:av(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=aV(aJ.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new aN({keys:r,programId:this.programId,data:t})}}aQ.programId=new ak("11111111111111111111111111111111");class aX{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/aX.chunkSize)+1+1)}static async load(e,t,r,n,i){{let s=await e.getMinimumBalanceForRentExemption(i.length),a=await e.getAccountInfo(r.publicKey,"confirmed"),o=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==i.length&&(o=o||new az).add(aQ.allocate({accountPubkey:r.publicKey,space:i.length})),a.owner.equals(n)||(o=o||new az).add(aQ.assign({accountPubkey:r.publicKey,programId:n})),a.lamports<s&&(o=o||new az).add(aQ.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-a.lamports}))}else o=new az().add(aQ.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==o&&await aW(e,o,[t,r],{commitment:"confirmed"})}let s=sl.struct([sl.u32("instruction"),sl.u32("offset"),sl.u32("bytesLength"),sl.u32("bytesLengthPadding"),sl.seq(sl.u8("byte"),sl.offset(sl.u32(),-8),"bytes")]),a=aX.chunkSize,o=0,u=i,l=[];for(;u.length>0;){let i=u.slice(0,a),c=rK.Buffer.alloc(a+16);s.encode({instruction:0,offset:o,bytes:i,bytesLength:0,bytesLengthPadding:0},c);let f=new az().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:c});l.push(aW(e,f,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await new Promise(e=>setTimeout(e,250)),o+=a,u=u.slice(a)}await Promise.all(l);{let i=sl.struct([sl.u32("instruction")]),s=rK.Buffer.alloc(i.span);i.encode({instruction:1},s);let a=new az().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:aq,isSigner:!1,isWritable:!1}],programId:n,data:s}),o="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:o}),{context:l,value:c}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},o);if(c.err)throw Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{if(await e.getSlot({commitment:o})>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}aX.chunkSize=932,new ak("BPFLoader2111111111111111111111111111111111"),sl.struct([sl.u32("typeIndex"),aG("deactivationSlot"),sl.nu64("lastExtendedSlot"),sl.u8("lastExtendedStartIndex"),sl.u8(),sl.seq(aS(),sl.offset(sl.u8(),-1),"authority")]);let a0=sN(sB(ak),sR(),e=>new ak(e)),a1=sC([sR(),sI("base64")]),a2=sN(sB(rK.Buffer),a1,e=>rK.Buffer.from(e[0],"base64"));function a6(e){return sL([sU({jsonrpc:sI("2.0"),id:sR(),result:e}),sU({jsonrpc:sI("2.0"),id:sR(),error:sU({code:sj(),message:sR(),data:sT(s_("any",()=>!0))})})])}let a3=a6(sj());function a5(e){return sN(a6(e),a3,t=>"error"in t?t:{...t,result:sE(t.result,e)})}function a8(e){return a5(sU({context:sU({slot:sO()}),value:e}))}function a4(e){return sU({context:sU({slot:sO()}),value:e})}let a9=sU({foundation:sO(),foundationTerm:sO(),initial:sO(),taper:sO(),terminal:sO()});a5(sS(sM(sU({epoch:sO(),effectiveSlot:sO(),amount:sO(),postBalance:sO(),commission:sT(sM(sO()))}))));let a7=sS(sU({slot:sO(),prioritizationFee:sO()})),oe=sU({total:sO(),validator:sO(),foundation:sO(),epoch:sO()}),ot=sU({epoch:sO(),slotIndex:sO(),slotsInEpoch:sO(),absoluteSlot:sO(),blockHeight:sT(sO()),transactionCount:sT(sO())}),or=sU({slotsPerEpoch:sO(),leaderScheduleSlotOffset:sO(),warmup:sA(),firstNormalEpoch:sO(),firstNormalSlot:sO()}),on=sP(sR(),sS(sO())),oi=sM(sL([sU({}),sR()])),os=sU({err:oi}),oa=sI("receivedSignature");sU({"solana-core":sR(),"feature-set":sT(sO())});let oo=sU({program:sR(),programId:a0,parsed:sj()}),ou=sU({programId:a0,accounts:sS(a0),data:sR()});a8(sU({err:sM(sL([sU({}),sR()])),logs:sM(sS(sR())),accounts:sT(sM(sS(sM(sU({executable:sA(),owner:sR(),lamports:sO(),data:sS(sR()),rentEpoch:sT(sO())}))))),unitsConsumed:sT(sO()),returnData:sT(sM(sU({programId:sR(),data:sC([sR(),sI("base64")])}))),innerInstructions:sT(sM(sS(sU({index:sO(),instructions:sS(sL([oo,ou]))}))))})),a8(sU({byIdentity:sP(sR(),sS(sO())),range:sU({firstSlot:sO(),lastSlot:sO()})})),a5(a9),a5(oe),a5(a7),a5(ot),a5(or),a5(on),a5(sO()),a8(sU({total:sO(),circulating:sO(),nonCirculating:sO(),nonCirculatingAccounts:sS(a0)}));let ol=sU({amount:sR(),uiAmount:sM(sO()),decimals:sO(),uiAmountString:sT(sR())});a8(sS(sU({address:a0,amount:sR(),uiAmount:sM(sO()),decimals:sO(),uiAmountString:sT(sR())}))),a8(sS(sU({pubkey:a0,account:sU({executable:sA(),owner:a0,lamports:sO(),data:a2,rentEpoch:sO()})})));let oc=sU({program:sR(),parsed:sj(),space:sO()});a8(sS(sU({pubkey:a0,account:sU({executable:sA(),owner:a0,lamports:sO(),data:oc,rentEpoch:sO()})}))),a8(sS(sU({lamports:sO(),address:a0})));let of=sU({executable:sA(),owner:a0,lamports:sO(),data:a2,rentEpoch:sO()});sU({pubkey:a0,account:of});let od=sN(sL([sB(rK.Buffer),oc]),sL([a1,oc]),e=>Array.isArray(e)?sE(e,a2):e),oh=sU({executable:sA(),owner:a0,lamports:sO(),data:od,rentEpoch:sO()});sU({pubkey:a0,account:oh}),sU({state:sL([sI("active"),sI("inactive"),sI("activating"),sI("deactivating")]),active:sO(),inactive:sO()}),a5(sS(sU({signature:sR(),slot:sO(),err:oi,memo:sM(sR()),blockTime:sT(sM(sO()))}))),a5(sS(sU({signature:sR(),slot:sO(),err:oi,memo:sM(sR()),blockTime:sT(sM(sO()))}))),sU({subscription:sO(),result:a4(of)});let op=sU({pubkey:a0,account:of});sU({subscription:sO(),result:a4(op)});let om=sU({parent:sO(),slot:sO(),root:sO()});sU({subscription:sO(),result:om});let og=sL([sU({type:sL([sI("firstShredReceived"),sI("completed"),sI("optimisticConfirmation"),sI("root")]),slot:sO(),timestamp:sO()}),sU({type:sI("createdBank"),parent:sO(),slot:sO(),timestamp:sO()}),sU({type:sI("frozen"),slot:sO(),timestamp:sO(),stats:sU({numTransactionEntries:sO(),numSuccessfulTransactions:sO(),numFailedTransactions:sO(),maxTransactionsPerEntry:sO()})}),sU({type:sI("dead"),slot:sO(),timestamp:sO(),err:sR()})]);sU({subscription:sO(),result:og}),sU({subscription:sO(),result:a4(sL([os,oa]))}),sU({subscription:sO(),result:sO()}),sU({pubkey:sR(),gossip:sM(sR()),tpu:sM(sR()),rpc:sM(sR()),version:sM(sR())});let oy=sU({votePubkey:sR(),nodePubkey:sR(),activatedStake:sO(),epochVoteAccount:sA(),epochCredits:sS(sC([sO(),sO(),sO()])),commission:sO(),lastVote:sO(),rootSlot:sM(sO())});a5(sU({current:sS(oy),delinquent:sS(oy)}));let ob=sL([sI("processed"),sI("confirmed"),sI("finalized")]),ov=sU({slot:sO(),confirmations:sM(sO()),err:oi,confirmationStatus:sT(ob)});a8(sS(sM(ov))),a5(sO());let ow=sU({accountKey:a0,writableIndexes:sS(sO()),readonlyIndexes:sS(sO())}),ox=sU({signatures:sS(sR()),message:sU({accountKeys:sS(sR()),header:sU({numRequiredSignatures:sO(),numReadonlySignedAccounts:sO(),numReadonlyUnsignedAccounts:sO()}),instructions:sS(sU({accounts:sS(sO()),data:sR(),programIdIndex:sO()})),recentBlockhash:sR(),addressTableLookups:sT(sS(ow))})}),oE=sU({pubkey:a0,signer:sA(),writable:sA(),source:sT(sL([sI("transaction"),sI("lookupTable")]))}),ok=sU({accountKeys:sS(oE),signatures:sS(sR())}),o_=sU({parsed:sj(),program:sR(),programId:a0}),oS=sU({accounts:sS(a0),data:sR(),programId:a0}),oA=sN(sL([oS,o_]),sL([sU({parsed:sj(),program:sR(),programId:sR()}),sU({accounts:sS(sR()),data:sR(),programId:sR()})]),e=>"accounts"in e?sE(e,oS):sE(e,o_)),oB=sU({signatures:sS(sR()),message:sU({accountKeys:sS(oE),instructions:sS(oA),recentBlockhash:sR(),addressTableLookups:sT(sM(sS(ow)))})}),oI=sU({accountIndex:sO(),mint:sR(),owner:sT(sR()),programId:sT(sR()),uiTokenAmount:ol}),oM=sU({writable:sS(a0),readonly:sS(a0)}),oO=sU({err:oi,fee:sO(),innerInstructions:sT(sM(sS(sU({index:sO(),instructions:sS(sU({accounts:sS(sO()),data:sR(),programIdIndex:sO()}))})))),preBalances:sS(sO()),postBalances:sS(sO()),logMessages:sT(sM(sS(sR()))),preTokenBalances:sT(sM(sS(oI))),postTokenBalances:sT(sM(sS(oI))),loadedAddresses:sT(oM),computeUnitsConsumed:sT(sO()),costUnits:sT(sO())}),oT=sU({err:oi,fee:sO(),innerInstructions:sT(sM(sS(sU({index:sO(),instructions:sS(oA)})))),preBalances:sS(sO()),postBalances:sS(sO()),logMessages:sT(sM(sS(sR()))),preTokenBalances:sT(sM(sS(oI))),postTokenBalances:sT(sM(sS(oI))),loadedAddresses:sT(oM),computeUnitsConsumed:sT(sO()),costUnits:sT(sO())}),oP=sL([sI(0),sI("legacy")]),oR=sU({pubkey:sR(),lamports:sO(),postBalance:sM(sO()),rewardType:sM(sR()),commission:sT(sM(sO()))});a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),transactions:sS(sU({transaction:ox,meta:sM(oO),version:sT(oP)})),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),transactions:sS(sU({transaction:ok,meta:sM(oO),version:sT(oP)})),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),transactions:sS(sU({transaction:oB,meta:sM(oT),version:sT(oP)})),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),transactions:sS(sU({transaction:ok,meta:sM(oT),version:sT(oP)})),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),rewards:sT(sS(oR)),blockTime:sM(sO()),blockHeight:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),transactions:sS(sU({transaction:ox,meta:sM(oO)})),rewards:sT(sS(oR)),blockTime:sM(sO())}))),a5(sM(sU({blockhash:sR(),previousBlockhash:sR(),parentSlot:sO(),signatures:sS(sR()),blockTime:sM(sO())}))),a5(sM(sU({slot:sO(),meta:sM(oO),blockTime:sT(sM(sO())),transaction:ox,version:sT(oP)}))),a5(sM(sU({slot:sO(),transaction:oB,meta:sM(oT),blockTime:sT(sM(sO())),version:sT(oP)}))),a8(sU({blockhash:sR(),lastValidBlockHeight:sO()})),a8(sA()),a5(sS(sU({slot:sO(),numTransactions:sO(),numSlots:sO(),samplePeriodSecs:sO()}))),a8(sM(sU({feeCalculator:sU({lamportsPerSignature:sO()})}))),a5(sR()),a5(sR());let oC=sU({err:oi,logs:sS(sR()),signature:sR()});sU({result:a4(oC),subscription:sO()});class oU{constructor(e){this._keypair=void 0,this._keypair=e??ap()}static generate(){return new oU(ap())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=am(e.slice(0,32));for(let e=0;e<32;e++)if(r[e]!==t[e])throw Error("provided secretKey is invalid")}return new oU({publicKey:r,secretKey:e})}static fromSeed(e){let t=am(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new oU({publicKey:t,secretKey:r})}get publicKey(){return new ak(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:sl.struct([sl.u32("instruction"),aG("recentSlot"),sl.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:sl.struct([sl.u32("instruction")])},ExtendLookupTable:{index:2,layout:sl.struct([sl.u32("instruction"),aG(),sl.seq(aS(),sl.offset(sl.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:sl.struct([sl.u32("instruction")])},CloseLookupTable:{index:4,layout:sl.struct([sl.u32("instruction")])}}),new ak("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:sl.struct([sl.u8("instruction"),sl.u32("units"),sl.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:sl.struct([sl.u8("instruction"),sl.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:sl.struct([sl.u8("instruction"),sl.u32("units")])},SetComputeUnitPrice:{index:3,layout:sl.struct([sl.u8("instruction"),aG("microLamports")])}}),new ak("ComputeBudget111111111111111111111111111111");let oL=sl.struct([sl.u8("numSignatures"),sl.u8("padding"),sl.u16("signatureOffset"),sl.u16("signatureInstructionIndex"),sl.u16("publicKeyOffset"),sl.u16("publicKeyInstructionIndex"),sl.u16("messageDataOffset"),sl.u16("messageDataSize"),sl.u16("messageInstructionIndex")]);class oj{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,instructionIndex:i}=e;aM(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),aM(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let s=oL.span,a=s+t.length,o=a+n.length,u=rK.Buffer.alloc(o+r.length),l=null==i?65535:i;return oL.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:o,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(n,a),u.fill(r,o),new aN({keys:[],programId:oj.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;aM(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=oU.fromSecretKey(t),i=e.publicKey.toBytes(),s=ay(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}oj.programId=new ak("Ed25519SigVerify111111111111111111111111111"),af.utils.isValidPrivateKey;let oN=af.getPublicKey,oz=sl.struct([sl.u8("numSignatures"),sl.u16("signatureOffset"),sl.u8("signatureInstructionIndex"),sl.u16("ethAddressOffset"),sl.u8("ethAddressInstructionIndex"),sl.u16("messageDataOffset"),sl.u16("messageDataSize"),sl.u8("messageInstructionIndex"),sl.blob(20,"ethAddress"),sl.blob(64,"signature"),sl.u8("recoveryId")]);class oZ{constructor(){}static publicKeyToEthAddress(e){aM(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return rK.Buffer.from(s1(av(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return oZ.createInstructionWithEthAddress({ethAddress:oZ.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let t,{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e;aM(20===(t="string"==typeof r?r.startsWith("0x")?rK.Buffer.from(r.substr(2),"hex"):rK.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let o=12+t.length,u=o+i.length+1,l=rK.Buffer.alloc(oz.span+n.length);return oz.encode({numSignatures:1,signatureOffset:o,signatureInstructionIndex:a,ethAddressOffset:12,ethAddressInstructionIndex:a,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:a,signature:av(i),ethAddress:av(t),recoveryId:s},l),l.fill(av(n),oz.span),new aN({keys:[],programId:oZ.programId,data:l})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;aM(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{var i;let e,s=av(t),a=oN(s,!1).slice(1),[o,u]=(i=rK.Buffer.from(s1(av(r))),[(e=af.sign(i,s)).toCompactRawBytes(),e.recovery]);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,recoveryId:u,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}oZ.programId=new ak("KeccakSecp256k11111111111111111111111111111");let oD=new ak("StakeConfig11111111111111111111111111111111");class oF{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}oF.default=new oF(0,0,ak.default);let oq=Object.freeze({Initialize:{index:0,layout:sl.struct([sl.u32("instruction"),((e="authorized")=>sl.struct([aS("staker"),aS("withdrawer")],e))(),((e="lockup")=>sl.struct([sl.ns64("unixTimestamp"),sl.ns64("epoch"),aS("custodian")],e))()])},Authorize:{index:1,layout:sl.struct([sl.u32("instruction"),aS("newAuthorized"),sl.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:sl.struct([sl.u32("instruction")])},Split:{index:3,layout:sl.struct([sl.u32("instruction"),sl.ns64("lamports")])},Withdraw:{index:4,layout:sl.struct([sl.u32("instruction"),sl.ns64("lamports")])},Deactivate:{index:5,layout:sl.struct([sl.u32("instruction")])},Merge:{index:7,layout:sl.struct([sl.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:sl.struct([sl.u32("instruction"),aS("newAuthorized"),sl.u32("stakeAuthorizationType"),aA("authoritySeed"),aS("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class o${constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:n}=e,i=n||oF.default,s=aV(oq.Initialize,{authorized:{staker:av(r.staker.toBuffer()),withdrawer:av(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:av(i.custodian.toBuffer())}});return new aN({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aq,isSigner:!1,isWritable:!1}],programId:this.programId,data:s})}static createAccountWithSeed(e){let t=new az;t.add(aQ.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){let t=new az;t.add(aQ.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=aV(oq.Delegate);return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:a$,isSigner:!1,isWritable:!1},{pubkey:oD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,a=aV(oq.Authorize,{newAuthorized:av(n.toBuffer()),stakeAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new az().add({keys:o,programId:this.programId,data:a})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:o}=e,u=aV(oq.AuthorizeWithSeed,{newAuthorized:av(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:av(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:aD,isSigner:!1,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new az().add({keys:l,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=aV(oq.Split,{lamports:i});return new aN({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){let r=new az;return r.add(aQ.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:a,lamports:o}=e,u=new az;return u.add(aQ.allocate({accountPubkey:i,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(aQ.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=aV(oq.Merge);return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:a$,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,a=aV(oq.Withdraw,{lamports:i}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:a$,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new az().add({keys:o,programId:this.programId,data:a})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,n=aV(oq.Deactivate);return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}o$.programId=new ak("Stake11111111111111111111111111111111111111"),o$.space=200;let oK=Object.freeze({InitializeAccount:{index:0,layout:sl.struct([sl.u32("instruction"),((e="voteInit")=>sl.struct([aS("nodePubkey"),aS("authorizedVoter"),aS("authorizedWithdrawer"),sl.u8("commission")],e))()])},Authorize:{index:1,layout:sl.struct([sl.u32("instruction"),aS("newAuthorized"),sl.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:sl.struct([sl.u32("instruction"),sl.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:sl.struct([sl.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:sl.struct([sl.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>sl.struct([sl.u32("voteAuthorizationType"),aS("currentAuthorityDerivedKeyOwnerPubkey"),aA("currentAuthorityDerivedKeySeed"),aS("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class oW{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=aV(oK.InitializeAccount,{voteInit:{nodePubkey:av(n.nodePubkey.toBuffer()),authorizedVoter:av(n.authorizedVoter.toBuffer()),authorizedWithdrawer:av(n.authorizedWithdrawer.toBuffer()),commission:n.commission}});return new aN({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aq,isSigner:!1,isWritable:!1},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static createAccount(e){let t=new az;return t.add(aQ.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=aV(oK.Authorize,{newAuthorized:av(n.toBuffer()),voteAuthorizationType:i.index});return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:a}=e,o=aV(oK.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:av(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:av(i.toBuffer()),voteAuthorizationType:s.index}});return new az().add({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:aD,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=aV(oK.Withdraw,{lamports:n});return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return oW.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=aV(oK.UpdateValidatorIdentity);return new az().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}oW.programId=new ak("Vote111111111111111111111111111111111111111"),oW.space=3762,new ak("Va1idator1nfo111111111111111111111111111111"),sU({name:sR(),website:sT(sR()),details:sT(sR()),iconUrl:sT(sR()),keybaseUsername:sT(sR())}),new ak("Vote111111111111111111111111111111111111111"),sl.struct([aS("nodePubkey"),aS("authorizedWithdrawer"),sl.u8("commission"),sl.nu64(),sl.seq(sl.struct([sl.nu64("slot"),sl.u32("confirmationCount")]),sl.offset(sl.u32(),-8),"votes"),sl.u8("rootSlotValid"),sl.nu64("rootSlot"),sl.nu64(),sl.seq(sl.struct([sl.nu64("epoch"),aS("authorizedVoter")]),sl.offset(sl.u32(),-8),"authorizedVoters"),sl.struct([sl.seq(sl.struct([aS("authorizedPubkey"),sl.nu64("epochOfLastAuthorizedSwitch"),sl.nu64("targetEpoch")]),32,"buf"),sl.nu64("idx"),sl.u8("isEmpty")],"priorVoters"),sl.nu64(),sl.seq(sl.struct([sl.nu64("epoch"),sl.nu64("credits"),sl.nu64("prevCredits")]),sl.offset(sl.u32(),-8),"epochCredits"),sl.struct([sl.nu64("slot"),sl.nu64("timestamp")],"lastTimestamp")]);let oV=e=>({request:e,signMessage:t=>e({method:"signMessage",params:{message:t}}),signTransaction:t=>e({method:"signTransaction",params:{transaction:t}}),signAndSendTransaction:t=>e({method:"signAndSendTransaction",params:t})});e.s(["createSolanaWalletProvider",0,oV],38597);var oH=e.i(90383);function oY(e){return oH.Buffer.from(e.serialize({verifySignatures:!1})).toString("base64")}e.i(84035);var oG=e.i(65847);e.i(9474),e.i(13900),e.i(35217),e.i(94903),e.i(78548),e.i(20481);var oJ=e.i(81831),oQ=e.i(310);e.i(1240),e.i(70981),e.i(62941),e.i(86884);var oG=oG,oX=e.i(61459);oX.default;class o0 extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof o0){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof o0&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function o1(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error){let{code:t}=e.error;throw new(t===un.code?un:t===o6.code?o6:t===ur.code?ur:t===ue.code?ue:t===o9.code?o9:t===ut.code?ut:t===o4.code?o4:t===ui.code?ui:t===o3.code?o3:t===o5.code?o5:t===o8.code?o8:t===o7.code?o7:o2)(e.error)}return e.result}class o2 extends Error{constructor(e){const{code:t,message:r,data:n}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=n}}class o6 extends o2{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:o6.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(o6,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class o3 extends o2{constructor(e={}){super({message:"Requested resource not found.",...e,code:o3.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(o3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class o5 extends o2{constructor(e={}){super({message:"Requested resource not available.",...e,code:o5.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(o5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class o8 extends o2{constructor(e={}){super({message:"Transaction creation failed.",...e,code:o8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(o8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class o4 extends o2{constructor(e={}){super({message:"Method is not implemented.",...e,code:o4.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(o4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class o9 extends o2{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:o9.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(o9,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class o7 extends o2{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:o7.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(o7,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ue extends o2{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:ue.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ut extends o2{constructor(e={}){super({message:"Method does not exist.",...e,code:ut.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ur extends o2{constructor(e={}){super({message:"Invalid method parameters.",...e,code:ur.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class un extends o2{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:un.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ui extends o2{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:ui.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(ui,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class us extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class ua extends us{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class uo extends us{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class uu extends us{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ul extends us{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class uc extends us{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(uc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class uf extends o0{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}let ud=Symbol("Comlink.proxy"),uh=Symbol("Comlink.endpoint"),up=Symbol("Comlink.releaseProxy"),um=Symbol("Comlink.finalizer"),ug=Symbol("Comlink.thrown"),uy=e=>"object"==typeof e&&null!==e||"function"==typeof e,ub=new Map([["proxy",{canHandle:e=>uy(e)&&e[ud],serialize(e){let{port1:t,port2:r}=new MessageChannel;return function e(t,r=globalThis,n=["*"]){r.addEventListener("message",function i(s){let a;if(!s||!s.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);let{id:o,type:u,path:l}=Object.assign({path:[]},s.data),c=(s.data.argumentList||[]).map(uI);try{var f,d,h;let r=l.slice(0,-1).reduce((e,t)=>e[t],t),n=l.reduce((e,t)=>e[t],t);switch(u){case"GET":a=n;break;case"SET":r[l.slice(-1)[0]]=uI(s.data.value),a=!0;break;case"APPLY":a=n.apply(r,c);break;case"CONSTRUCT":f=new n(...c),a=Object.assign(f,{[ud]:!0});break;case"ENDPOINT":{let{port1:r,port2:n}=new MessageChannel;e(t,n),d=r,h=[r],uA.set(d,h),a=d}break;case"RELEASE":a=void 0;break;default:return}}catch(e){a={value:e,[ug]:0}}Promise.resolve(a).catch(e=>({value:e,[ug]:0})).then(e=>{let[n,s]=uB(e);r.postMessage(Object.assign(Object.assign({},n),{id:o}),s),"RELEASE"===u&&(r.removeEventListener("message",i),uv(r),um in t&&"function"==typeof t[um]&&t[um]())}).catch(e=>{let[t,n]=uB({value:TypeError("Unserializable return value"),[ug]:0});r.postMessage(Object.assign(Object.assign({},t),{id:o}),n)})}),r.start&&r.start()}(e,t),[r,[r]]},deserialize:e=>(e.start(),uw(e))}],["throw",{canHandle:e=>uy(e)&&ug in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function uv(e){"MessagePort"===e.constructor.name&&e.close()}function uw(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}}),function e(t,r,n=[],i=function(){}){let s,a=!1,o=new Proxy(i,{get(i,s){if(ux(a),s===up)return()=>{u_&&u_.unregister(o),uE(t),r.clear(),a=!0};if("then"===s){if(0===n.length)return{then:()=>o};let e=uM(t,r,{type:"GET",path:n.map(e=>e.toString())}).then(uI);return e.then.bind(e)}return e(t,r,[...n,s])},set(e,i,s){ux(a);let[o,u]=uB(s);return uM(t,r,{type:"SET",path:[...n,i].map(e=>e.toString()),value:o},u).then(uI)},apply(i,s,o){ux(a);let u=n[n.length-1];if(u===uh)return uM(t,r,{type:"ENDPOINT"}).then(uI);if("bind"===u)return e(t,r,n.slice(0,-1));let[l,c]=uS(o);return uM(t,r,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:l},c).then(uI)},construct(e,i){ux(a);let[s,o]=uS(i);return uM(t,r,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:s},o).then(uI)}});return s=(uk.get(t)||0)+1,uk.set(t,s),u_&&u_.register(o,t,o),o}(e,r,[],t)}function ux(e){if(e)throw Error("Proxy has been released and is not useable")}function uE(e){return uM(e,new Map,{type:"RELEASE"}).then(()=>{uv(e)})}let uk=new WeakMap,u_="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(uk.get(e)||0)-1;uk.set(e,t),0===t&&uE(e)});function uS(e){var t;let r=e.map(uB);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let uA=new WeakMap;function uB(e){for(let[t,r]of ub)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},uA.get(e)||[]]}function uI(e){switch(e.type){case"HANDLER":return ub.get(e.name).deserialize(e.value);case"RAW":return e.value}}function uM(e,t,r,n){return new Promise(i=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,i),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),n)})}let uO=uw("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?{postMessage:e=>{window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}}:function(e,t=globalThis,r="*"){return{postMessage:(t,n)=>e.postMessage(t,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window)),uT={get eventNames(){return f.eventNames.bind(f)},get listenerCount(){return f.listenerCount.bind(f)},get listeners(){return f.listeners.bind(f)},addListener:(f=new oX.default).addListener.bind(f),emit:f.emit.bind(f),off:f.off.bind(f),on:f.on.bind(f),once:f.once.bind(f),removeAllListeners:f.removeAllListeners.bind(f),removeListener:f.removeListener.bind(f)},uP=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}(),uR=function(e,t={}){let{includeEvents:r=!0}=t;if(!e)throw new uf;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){let r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?o1(r):r}}}({...uT,async request(e){let t=uP.prepare(e);try{let e=await uO.ethProviderRequestV2(t).then(e=>o1(e,{request:t,raw:!0}));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new ua;case 4100:return new uo;case 4200:return new uu;case 4900:return new ul;case 4901:return new uc;default:return new us(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await uO.ethProviderRequest(t);if(e instanceof us||e instanceof o2)throw e;throw new un({message:e instanceof Error?e.message:void 0})}}});async function uC(){try{let e=await uO.getCapabilities();if(!e.includes("wallet.getEthereumProvider")&&!e.includes("wallet.getEvmProvider"))return;return uR}catch{return uR}}function uU(e){let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);let r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",()=>{uO.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",e=>{if(e instanceof MessageEvent){let t=e.data;uT.emit(t.event,...t.params)}}),document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"eip6963:announceProvider"===t.event&&uU({info:t.info,provider:uR})}})),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",()=>{uO.eip6963RequestProvider()}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){let t=e.data;uT.emit(t.event,...t.params)}}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"eip6963:announceProvider"===t.event&&uU({info:t.info,provider:uR})}}));var oJ=oJ;crypto,new TextEncoder;let uL=new TextDecoder;class uj extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}uj.code="ERR_JOSE_GENERIC";class uN extends uj{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}uN.code="ERR_JWT_INVALID";class uz extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof uz){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})();super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=r,this.shortMessage=e}}class uZ extends uz{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class uD extends uz{constructor(e){super(e),this.name="InvalidToken"}}async function uF({origin:e}){let t=await fetch(`${e}/nonce`,{method:"POST"});if(!t.ok)throw new uZ({status:t.status});return await t.json()}async function uq({origin:e},t){let r=await fetch(`${e}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)});if(!r.ok)throw new uZ({status:r.status});let n=await r.json();if(!1===n.valid)throw new uD(n.message??"unknown");return{token:n.token}}class u$ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}({checksum:new u$(8192)}).checksum;let uK=Uint32Array.from([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]),uW=new Uint32Array(80);(e,t)=>Math.floor(0x100000000*Math.abs(Math.sin(t+1)));let uV=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),uH=Uint8Array.from(Array(16).fill(0).map((e,t)=>t)),uY=uH.map(e=>(9*e+5)%16),uG=(()=>{let e=[[uH],[uY]];for(let t=0;t<4;t++)for(let r of e)r.push(r[t].map(e=>uV[e]));return e})(),uJ=uG[0],uQ=uG[1],uX=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),u0=uJ.map((e,t)=>e.map(e=>uX[t][e])),u1=uQ.map((e,t)=>e.map(e=>uX[t][e])),u2=Uint32Array.from([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),u6=Uint32Array.from([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),u3=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,u5=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/,u8=(()=>{let e,t;async function r(t){let r=function(e={}){let t=function(e={}){return{origin:e.origin??"https://auth.farcaster.xyz"}}(e);return{generateNonce:()=>uF(t),verifySiwf:e=>uq(t,e)}}({origin:t.quickAuthServerOrigin}),{nonce:n}=await r.generateNonce(),i=await uO.signIn({nonce:n,acceptAuthAddress:!0});if(i.result){let t=function(e){let{scheme:t,statement:r,...n}=e.match(u3)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:u,...l}=e.match(u5)?.groups??{},c=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...u?{requestId:u}:{},...c?{resources:c}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i.result.message);if(!t.domain)throw Error("Missing domain on SIWE message");let n=await r.verifySiwf({domain:t.domain,message:i.result.message,signature:i.result.signature});return e={token:n.token,payload:function(e){let t,r;if("string"!=typeof e)throw new uN("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new uN("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new uN("Invalid JWT");if(!n)throw new uN("JWTs must contain a payload");try{t=(e=>{let t=e;t instanceof Uint8Array&&(t=uL.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}})(n)}catch{throw new uN("Failed to base64url decode the payload")}try{r=JSON.parse(uL.decode(t))}catch{throw new uN("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new uN("Invalid JWT Claims Set");return r}(n.token)},n}if("rejected_by_user"===i.error.type)throw new oJ.RejectedByUser;throw Error("Unreachable")}return{get token(){if(e&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3))return e.token;return},async getToken(n={}){let i=n.force??!1;return e&&!i&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3)?{token:e.token}:(t||(t=r(n)),t.finally(()=>{t=void 0}),t)},async fetch(e,t){let{token:r}=await this.getToken(),n=new Headers(t?.headers);return n.set("Authorization",`Bearer ${r}`),fetch(e,{...t,headers:n})}}})(),u4={get eventNames(){return d.eventNames.bind(d)},get listenerCount(){return d.listenerCount.bind(d)},get listeners(){return d.listeners.bind(d)},addListener:(d=new(e.i(23505)).default).addListener.bind(d),emit:d.emit.bind(d),off:d.off.bind(d),on:d.on.bind(d),once:d.once.bind(d),removeAllListeners:d.removeAllListeners.bind(d),removeListener:d.removeListener.bind(d)};e.i(38597);let{solanaProviderRequest:u9}=uO;async function u7(){let e;try{e=await uO.getCapabilities()}catch{}if(e?.includes("wallet.getSolanaProvider"))return r}u9&&(r=oV(async e=>{if("connect"===e.method||"signMessage"===e.method)return await u9(e);if("signAndSendTransaction"===e.method){let{transaction:t}=e.params,r={transaction:oY(t)};return await u9({method:"signAndSendTransaction",params:r})}if("signTransaction"===e.method){let t,{transaction:r}=e.params,n={transaction:oY(r)},{signedTransaction:i}=await u9({method:"signTransaction",params:n});return{signedTransaction:(t=oH.Buffer.from(i,"base64"),"legacy"===aL.deserializeMessageVersion(t)?aZ.deserialize(t):az.from(t))}}}));let le=null;async function lt(e=1e3){if(!0===le)return!0;if("undefined"==typeof window||!window.ReactNativeWebView&&window===window.parent)return!1;let t=await Promise.race([uO.context.then(e=>!!e),new Promise(t=>{setTimeout(()=>t(!1),e)})]).catch(()=>!1);return t&&(le=!0),t}let lr=async()=>{let e=await uO.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new oG.InvalidDomainManifest;if("rejected_by_user"===e.error.type)throw new oG.RejectedByUser;throw Error("Unreachable")},ln={...u4,getCapabilities:uO.getCapabilities,getChains:uO.getChains,isInMiniApp:lt,context:uO.context,back:(({miniAppHost:e,emitter:t})=>{let r,n=null;return{visible:!1,get onback(){return n},set onback(cb){n&&t.removeListener("backNavigationTriggered",n),n=cb,cb&&t.addListener("backNavigationTriggered",cb)},async show(){await e.updateBackState({visible:!0}),this.visible=!0},async hide(){await e.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){r=function({emitter:e,back:t}){let r=function(){if("undefined"!=typeof window&&void 0!==window.navigation)return window.navigation}();return r?function({emitter:e,back:t,navigation:r}){function n(){r.canGoBack?t.show():t.hide()}function i(){t.visible&&r.canGoBack&&r.back()}return r.addEventListener("navigatesuccess",n),e.addListener("backNavigationTriggered",i),()=>{r.removeEventListener("navigatesuccess",n),e.removeListener("backNavigationTriggered",i)}}({emitter:e,back:t,navigation:r}):"undefined"!=typeof window?function({emitter:e,back:t,window:r}){function n(){t.visible&&r.history.back()}return t.show(),e.addListener("backNavigationTriggered",n),()=>{e.removeListener("backNavigationTriggered",n)}}({emitter:e,back:t,window}):void 0}({back:this,emitter:t})},async disableWebNavigation(){r?.(),r=void 0}}})({miniAppHost:uO,emitter:u4}),quickAuth:u8,actions:{setPrimaryButton:uO.setPrimaryButton.bind(uO),ready:async(e={})=>await uO.ready(e),close:uO.close.bind(uO),viewCast:uO.viewCast.bind(uO),viewProfile:uO.viewProfile.bind(uO),openMiniApp:uO.openMiniApp.bind(uO),signIn:async e=>{let t=await uO.signIn({...e,acceptAuthAddress:e.acceptAuthAddress??!0});if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new oJ.RejectedByUser;throw Error("Unreachable")},openUrl:e=>{let t="string"==typeof e?e:e.url;return uO.openUrl(t.trim())},addFrame:lr,addMiniApp:lr,composeCast:(e={})=>uO.composeCast(e),viewToken:uO.viewToken.bind(uO),sendToken:uO.sendToken.bind(uO),swapToken:uO.swapToken.bind(uO),requestCameraAndMicrophoneAccess:uO.requestCameraAndMicrophoneAccess.bind(uO)},experimental:{getSolanaProvider:u7,signManifest:async e=>{let t=await uO.signManifest(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new oQ.RejectedByUser;if("invalid_domain"===t.error.type)throw new oQ.InvalidDomain;if("generic_error"===t.error.type)throw new oQ.GenericError(t.error.message);throw Error("Unreachable")},quickAuth:e=>u8.getToken(e)},wallet:{ethProvider:uR,getEthereumProvider:uC,getSolanaProvider:u7},haptics:{impactOccurred:uO.impactOccurred.bind(uO),notificationOccurred:uO.notificationOccurred.bind(uO),selectionChanged:uO.selectionChanged.bind(uO)}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"primary_button_clicked"===t.event?u4.emit("primaryButtonClicked"):"miniapp_added"===t.event?u4.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?u4.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?u4.emit("miniAppRemoved"):"notifications_enabled"===t.event?u4.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?u4.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&u4.emit("backNavigationTriggered")}}),"undefined"!=typeof window&&window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"primary_button_clicked"===t.event?u4.emit("primaryButtonClicked"):"miniapp_added"===t.event?u4.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?u4.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?u4.emit("miniAppRemoved"):"notifications_enabled"===t.event?u4.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?u4.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&u4.emit("backNavigationTriggered")}});var li=e.i(95362),ls=(e,t,r,n,i,s,a,o)=>{let u=document.documentElement,l=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&s?i.map(e=>s[e]||e):i;r?(u.classList.remove(...n),u.classList.add(s&&s[t]?s[t]:t)):u.setAttribute(e,t)}),r=t,o&&l.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}},la=en.createContext(void 0),lo={setTheme:e=>{},themes:[]};en.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:u,scriptProps:l})=>{let c=JSON.stringify([r,t,s,e,o,a,n,i]).slice(1,-1);return en.createElement("script",{...l,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${ls.toString()})(${c})`}})});var lu=e.i(86751),ll=Array(12).fill(0),lc=({visible:e,className:t})=>en.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},en.default.createElement("div",{className:"sonner-spinner"},ll.map((e,t)=>en.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),lf=en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},en.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ld=en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},en.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lh=en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},en.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lp=en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},en.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lm=en.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},en.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),en.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lg=1,ly=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:lg++,s=this.toasts.find(e=>e.id===i),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(t=>t.id===i?(this.publish({...t,...e,id:i,title:r}),{...t,...e,id:i,dismissible:a,title:r}):t):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let r;if(!t)return;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let n=e instanceof Promise?e:e(),i=void 0!==r,s,a=n.then(async e=>{if(s=["resolve",e],en.default.isValidElement(e))i=!1,this.create({id:r,type:"default",message:e});else if(lb(e)&&!e.ok){i=!1;let n="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:r,type:"error",message:n,description:s})}else if(void 0!==t.success){i=!1;let n="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"success",message:n,description:s})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){i=!1;let n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"error",message:n,description:s})}}).finally(()=>{var e;i&&(this.dismiss(r),r=void 0),null==(e=t.finally)||e.call(t)}),o=()=>new Promise((e,t)=>a.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||lg++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lb=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status;function lv(e){return void 0!==e.label}function lw(...e){return e.filter(Boolean).join(" ")}Object.assign((e,t)=>{let r=(null==t?void 0:t.id)||lg++;return ly.addToast({title:e,...t,id:r}),r},{success:ly.success,info:ly.info,warning:ly.warning,error:ly.error,custom:ly.custom,message:ly.message,promise:ly.promise,dismiss:ly.dismiss,loading:ly.loading},{getHistory:()=>ly.toasts,getToasts:()=>ly.getActiveToasts()}),!function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);var lx=e=>{var t,r,n,i,s,a,o,u,l,c,f,d,h,p;let{invert:m,toast:g,unstyled:y,interacting:b,setHeights:v,visibleToasts:w,heights:x,index:E,toasts:k,expanded:_,removeToast:S,defaultRichColors:A,closeButton:B,style:I,cancelButtonStyle:M,actionButtonStyle:O,className:T="",descriptionClassName:P="",duration:R,position:C,gap:U,loadingIcon:L,expandByDefault:j,classNames:N,icons:z,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:D}=e,[F,q]=en.default.useState(null),[$,K]=en.default.useState(null),[W,V]=en.default.useState(!1),[H,Y]=en.default.useState(!1),[G,J]=en.default.useState(!1),[Q,X]=en.default.useState(!1),[ee,et]=en.default.useState(!1),[er,ei]=en.default.useState(0),[es,ea]=en.default.useState(0),eo=en.default.useRef(g.duration||R||4e3),eu=en.default.useRef(null),el=en.default.useRef(null),ec=0===E,ef=E+1<=w,ed=g.type,eh=!1!==g.dismissible,ep=g.className||"",em=g.descriptionClassName||"",eg=en.default.useMemo(()=>x.findIndex(e=>e.toastId===g.id)||0,[x,g.id]),ey=en.default.useMemo(()=>{var e;return null!=(e=g.closeButton)?e:B},[g.closeButton,B]),eb=en.default.useMemo(()=>g.duration||R||4e3,[g.duration,R]),ev=en.default.useRef(0),ew=en.default.useRef(0),ex=en.default.useRef(0),eE=en.default.useRef(null),[ek,e_]=C.split("-"),eS=en.default.useMemo(()=>x.reduce((e,t,r)=>r>=eg?e:e+t.height,0),[x,eg]),eA=(()=>{let[e,t]=en.default.useState(document.hidden);return en.default.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eB=g.invert||m,eI="loading"===ed;ew.current=en.default.useMemo(()=>eg*U+eS,[eg,eS]),en.default.useEffect(()=>{eo.current=eb},[eb]),en.default.useEffect(()=>{V(!0)},[]),en.default.useEffect(()=>{let e=el.current;if(e){let t=e.getBoundingClientRect().height;return ea(t),v(e=>[{toastId:g.id,height:t,position:g.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==g.id))}},[v,g.id]),en.default.useLayoutEffect(()=>{if(!W)return;let e=el.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,ea(r),v(e=>e.find(e=>e.toastId===g.id)?e.map(e=>e.toastId===g.id?{...e,height:r}:e):[{toastId:g.id,height:r,position:g.position},...e])},[W,g.title,g.description,v,g.id]);let eM=en.default.useCallback(()=>{Y(!0),ei(ew.current),v(e=>e.filter(e=>e.toastId!==g.id)),setTimeout(()=>{S(g)},200)},[g,S,v,ew]);return en.default.useEffect(()=>{let e;if((!g.promise||"loading"!==ed)&&g.duration!==1/0&&"loading"!==g.type)return _||b||D&&eA?(()=>{if(ex.current<ev.current){let e=new Date().getTime()-ev.current;eo.current=eo.current-e}ex.current=new Date().getTime()})():eo.current!==1/0&&(ev.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=g.onAutoClose)||e.call(g,g),eM()},eo.current)),()=>clearTimeout(e)},[_,b,g,ed,D,eA,eM]),en.default.useEffect(()=>{g.delete&&eM()},[eM,g.delete]),en.default.createElement("li",{tabIndex:0,ref:el,className:lw(T,ep,null==N?void 0:N.toast,null==(t=null==g?void 0:g.classNames)?void 0:t.toast,null==N?void 0:N.default,null==N?void 0:N[ed],null==(r=null==g?void 0:g.classNames)?void 0:r[ed]),"data-sonner-toast":"","data-rich-colors":null!=(n=g.richColors)?n:A,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":W,"data-promise":!!g.promise,"data-swiped":ee,"data-removed":H,"data-visible":ef,"data-y-position":ek,"data-x-position":e_,"data-index":E,"data-front":ec,"data-swiping":G,"data-dismissible":eh,"data-type":ed,"data-invert":eB,"data-swipe-out":Q,"data-swipe-direction":$,"data-expanded":!!(_||j&&W),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${H?er:ew.current}px`,"--initial-height":j?"auto":`${es}px`,...I,...g.style},onDragEnd:()=>{J(!1),q(null),eE.current=null},onPointerDown:e=>{eI||!eh||(eu.current=new Date,ei(ew.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),eE.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,n;if(Q||!eh)return;eE.current=null;let i=Number((null==(e=el.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=el.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=new Date().getTime()-(null==(r=eu.current)?void 0:r.getTime()),o="x"===F?i:s,u=Math.abs(o)/a;if(Math.abs(o)>=20||u>.11){ei(ew.current),null==(n=g.onDismiss)||n.call(g,g),K("x"===F?i>0?"right":"left":s>0?"down":"up"),eM(),X(!0),et(!1);return}J(!1),q(null)},onPointerMove:t=>{var r,n,i,s;if(!eE.current||!eh||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let a=t.clientY-eE.current.y,o=t.clientX-eE.current.x,u=null!=(n=e.swipeDirections)?n:function(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}(C);!F&&(Math.abs(o)>1||Math.abs(a)>1)&&q(Math.abs(o)>Math.abs(a)?"x":"y");let l={x:0,y:0};"y"===F?(u.includes("top")||u.includes("bottom"))&&(u.includes("top")&&a<0||u.includes("bottom")&&a>0)&&(l.y=a):"x"===F&&(u.includes("left")||u.includes("right"))&&(u.includes("left")&&o<0||u.includes("right")&&o>0)&&(l.x=o),(Math.abs(l.x)>0||Math.abs(l.y)>0)&&et(!0),null==(i=el.current)||i.style.setProperty("--swipe-amount-x",`${l.x}px`),null==(s=el.current)||s.style.setProperty("--swipe-amount-y",`${l.y}px`)}},ey&&!g.jsx?en.default.createElement("button",{"aria-label":Z,"data-disabled":eI,"data-close-button":!0,onClick:eI||!eh?()=>{}:()=>{var e;eM(),null==(e=g.onDismiss)||e.call(g,g)},className:lw(null==N?void 0:N.closeButton,null==(i=null==g?void 0:g.classNames)?void 0:i.closeButton)},null!=(s=null==z?void 0:z.close)?s:lm):null,g.jsx||(0,en.isValidElement)(g.title)?g.jsx?g.jsx:"function"==typeof g.title?g.title():g.title:en.default.createElement(en.default.Fragment,null,ed||g.icon||g.promise?en.default.createElement("div",{"data-icon":"",className:lw(null==N?void 0:N.icon,null==(a=null==g?void 0:g.classNames)?void 0:a.icon)},g.promise||"loading"===g.type&&!g.icon?g.icon||(null!=z&&z.loading?en.default.createElement("div",{className:lw(null==N?void 0:N.loader,null==(d=null==g?void 0:g.classNames)?void 0:d.loader,"sonner-loader"),"data-visible":"loading"===ed},z.loading):L?en.default.createElement("div",{className:lw(null==N?void 0:N.loader,null==(h=null==g?void 0:g.classNames)?void 0:h.loader,"sonner-loader"),"data-visible":"loading"===ed},L):en.default.createElement(lc,{className:lw(null==N?void 0:N.loader,null==(p=null==g?void 0:g.classNames)?void 0:p.loader),visible:"loading"===ed})):null,"loading"!==g.type?g.icon||(null==z?void 0:z[ed])||(e=>{switch(e){case"success":return lf;case"info":return lh;case"warning":return ld;case"error":return lp;default:return null}})(ed):null):null,en.default.createElement("div",{"data-content":"",className:lw(null==N?void 0:N.content,null==(o=null==g?void 0:g.classNames)?void 0:o.content)},en.default.createElement("div",{"data-title":"",className:lw(null==N?void 0:N.title,null==(u=null==g?void 0:g.classNames)?void 0:u.title)},"function"==typeof g.title?g.title():g.title),g.description?en.default.createElement("div",{"data-description":"",className:lw(P,em,null==N?void 0:N.description,null==(l=null==g?void 0:g.classNames)?void 0:l.description)},"function"==typeof g.description?g.description():g.description):null),(0,en.isValidElement)(g.cancel)?g.cancel:g.cancel&&lv(g.cancel)?en.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||M,onClick:e=>{var t,r;lv(g.cancel)&&eh&&(null==(r=(t=g.cancel).onClick)||r.call(t,e),eM())},className:lw(null==N?void 0:N.cancelButton,null==(c=null==g?void 0:g.classNames)?void 0:c.cancelButton)},g.cancel.label):null,(0,en.isValidElement)(g.action)?g.action:g.action&&lv(g.action)?en.default.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:e=>{var t,r;lv(g.action)&&(null==(r=(t=g.action).onClick)||r.call(t,e),e.defaultPrevented||eM())},className:lw(null==N?void 0:N.actionButton,null==(f=null==g?void 0:g.classNames)?void 0:f.actionButton)},g.action.label):null))};function lE(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var lk=(0,en.forwardRef)(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:u,mobileOffset:l,theme:c="light",richColors:f,duration:d,style:h,visibleToasts:p=3,toastOptions:m,dir:g=lE(),gap:y=14,loadingIcon:b,icons:v,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:x}=e,[E,k]=en.default.useState([]),_=en.default.useMemo(()=>Array.from(new Set([n].concat(E.filter(e=>e.position).map(e=>e.position)))),[E,n]),[S,A]=en.default.useState([]),[B,I]=en.default.useState(!1),[M,O]=en.default.useState(!1),[T,P]=en.default.useState("system"!==c?c:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=en.default.useRef(null),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=en.default.useRef(null),L=en.default.useRef(!1),j=en.default.useCallback(e=>{k(t=>{var r;return null!=(r=t.find(t=>t.id===e.id))&&r.delete||ly.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return en.default.useEffect(()=>ly.subscribe(e=>{e.dismiss?k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{lu.default.flushSync(()=>{k(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[]),en.default.useEffect(()=>{if("system"!==c)return void P(c);if("system"===c&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{P(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{P(e?"dark":"light")}catch(e){console.error(e)}})}},[c]),en.default.useEffect(()=>{E.length<=1&&I(!1)},[E]),en.default.useEffect(()=>{let e=e=>{var t,r;i.every(t=>e[t]||e.code===t)&&(I(!0),null==(t=R.current)||t.focus()),"Escape"===e.code&&(document.activeElement===R.current||null!=(r=R.current)&&r.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),en.default.useEffect(()=>{if(R.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,L.current=!1)}},[R.current]),en.default.createElement("section",{ref:t,"aria-label":`${w} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((t,n)=>{var i;let c,[w,k]=t.split("-");return E.length?en.default.createElement("ol",{key:t,dir:"auto"===g?lE():g,tabIndex:-1,ref:R,className:o,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":w,"data-lifted":B&&E.length>1&&!s,"data-x-position":k,style:{"--front-toast-height":`${(null==(i=S[0])?void 0:i.height)||0}px`,"--width":"356px","--gap":`${y}px`,...h,...(c={},[u,l].forEach((e,t)=>{let r=1===t,n=r?"--mobile-offset":"--offset",i=r?"16px":"32px";function s(e){["top","right","bottom","left"].forEach(t=>{c[`${n}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?s(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?c[`${n}-${t}`]=i:c[`${n}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):s(i)}),c)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,U.current=e.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O(!0)},onPointerUp:()=>O(!1)},E.filter(e=>!e.position&&0===n||e.position===t).map((n,i)=>{var o,u;return en.default.createElement(lx,{key:n.id,icons:v,index:i,toast:n,defaultRichColors:f,duration:null!=(o=null==m?void 0:m.duration)?o:d,className:null==m?void 0:m.className,descriptionClassName:null==m?void 0:m.descriptionClassName,invert:r,visibleToasts:p,closeButton:null!=(u=null==m?void 0:m.closeButton)?u:a,interacting:M,position:t,style:null==m?void 0:m.style,unstyled:null==m?void 0:m.unstyled,classNames:null==m?void 0:m.classNames,cancelButtonStyle:null==m?void 0:m.cancelButtonStyle,actionButtonStyle:null==m?void 0:m.actionButtonStyle,removeToast:j,toasts:E.filter(e=>e.position==n.position),heights:S.filter(e=>e.position==n.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:b,expanded:B,pauseWhenPageIsHidden:x,swipeDirections:e.swipeDirections})})):null}))});let l_=({...e})=>{var t;let{theme:r="system"}=null!=(t=en.useContext(la))?t:lo;return(0,k.jsx)(lk,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var lS=e.i(40934),lA=e.i(62268),lB=e.i(38336),lI=e.i(30068),lM=e.i(38766),lO=e.i(37846),lT="dismissableLayer.update",lP=en.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lR=en.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=e,l=en.useContext(lP),[c,f]=en.useState(null),d=c?.ownerDocument??globalThis?.document,[,h]=en.useState({}),p=(0,lA.useComposedRefs)(t,e=>f(e)),m=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=c?m.indexOf(c):-1,v=l.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,x=function(e,t=globalThis?.document){let r=(0,lM.useCallbackRef)(e),n=en.useRef(!1),i=en.useRef(()=>{});return en.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){lU("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...l.branches].some(e=>e.contains(t));w&&!r&&(i?.(e),a?.(e),e.defaultPrevented||o?.())},d),_=function(e,t=globalThis?.document){let r=(0,lM.useCallbackRef)(e),n=en.useRef(!1);return en.useEffect(()=>{let e=e=>{e.target&&!n.current&&lU("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...l.branches].some(e=>e.contains(t))&&(s?.(e),a?.(e),e.defaultPrevented||o?.())},d);return(0,lO.useEscapeKeydown)(e=>{b===l.layers.size-1&&(n?.(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))},d),en.useEffect(()=>{if(c)return r&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(E=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),lC(),()=>{r&&1===l.layersWithOutsidePointerEventsDisabled.size&&(d.body.style.pointerEvents=E)}},[c,d,r,l]),en.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),lC())},[c,l]),en.useEffect(()=>{let e=()=>h({});return document.addEventListener(lT,e),()=>document.removeEventListener(lT,e)},[]),(0,k.jsx)(lI.Primitive.div,{...u,ref:p,style:{pointerEvents:v?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,lS.composeEventHandlers)(e.onFocusCapture,_.onFocusCapture),onBlurCapture:(0,lS.composeEventHandlers)(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:(0,lS.composeEventHandlers)(e.onPointerDownCapture,x.onPointerDownCapture)})});function lC(){let e=new CustomEvent(lT);document.dispatchEvent(e)}function lU(e,t,r,{discrete:n}){let i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,lI.dispatchDiscreteCustomEvent)(i,s):i.dispatchEvent(s)}lR.displayName="DismissableLayer",en.forwardRef((e,t)=>{let r=en.useContext(lP),n=en.useRef(null),i=(0,lA.useComposedRefs)(t,n);return en.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,k.jsx)(lI.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch",e.i(43027);var lL=e.i(58086),lj=(e.i(36957),e.i(11963)),lN=e.i(34534),lz=(e.i(88612),e.i(63152)),[lZ,lD]=(0,lB.createContextScope)("Tooltip",[lL.createPopperScope]),lF=(0,lL.createPopperScope)(),lq="TooltipProvider",l$="tooltip.open",[lK,lW]=lZ(lq),lV=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,a=en.useRef(!0),o=en.useRef(!1),u=en.useRef(0);return en.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,k.jsx)(lK,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:en.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:en.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:en.useCallback(e=>{o.current=e},[]),disableHoverableContent:i,children:s})};lV.displayName=lq;var lH="Tooltip",[lY,lG]=lZ(lH),lJ="TooltipTrigger";en.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=lG(lJ,r),s=lW(lJ,r),a=lF(r),o=en.useRef(null),u=(0,lA.useComposedRefs)(t,o,i.onTriggerChange),l=en.useRef(!1),c=en.useRef(!1),f=en.useCallback(()=>l.current=!1,[]);return en.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,k.jsx)(lL.Anchor,{asChild:!0,...a,children:(0,k.jsx)(lI.Primitive.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:(0,lS.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(c.current||s.isPointerInTransitRef.current||(i.onTriggerEnter(),c.current=!0))}),onPointerLeave:(0,lS.composeEventHandlers)(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:(0,lS.composeEventHandlers)(e.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:(0,lS.composeEventHandlers)(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:(0,lS.composeEventHandlers)(e.onBlur,i.onClose),onClick:(0,lS.composeEventHandlers)(e.onClick,i.onClose)})})}).displayName=lJ;var[lQ,lX]=lZ("TooltipPortal",{forceMount:void 0}),l0="TooltipContent",l1=en.forwardRef((e,t)=>{let r=lX(l0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=lG(l0,e.__scopeTooltip);return(0,k.jsx)(lj.Presence,{present:n||a.open,children:a.disableHoverableContent?(0,k.jsx)(l8,{side:i,...s,ref:t}):(0,k.jsx)(l2,{side:i,...s,ref:t})})}),l2=en.forwardRef((e,t)=>{let r=lG(l0,e.__scopeTooltip),n=lW(l0,e.__scopeTooltip),i=en.useRef(null),s=(0,lA.useComposedRefs)(t,i),[a,o]=en.useState(null),{trigger:u,onClose:l}=r,c=i.current,{onPointerInTransitChange:f}=n,d=en.useCallback(()=>{o(null),f(!1)},[f]),h=en.useCallback((e,t)=>{let r,n=e.currentTarget,i={x:e.clientX,y:e.clientY},s=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());o(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(i,s),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),f(!0)},[f]);return en.useEffect(()=>()=>d(),[d]),en.useEffect(()=>{if(u&&c){let e=e=>h(e,c),t=e=>h(e,u);return u.addEventListener("pointerleave",e),c.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),c.removeEventListener("pointerleave",t)}}},[u,c,h,d]),en.useEffect(()=>{if(a){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=u?.contains(t)||c?.contains(t),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let a=t[e],o=t[s],u=a.x,l=a.y,c=o.x,f=o.y;l>n!=f>n&&r<(c-u)*(n-l)/(f-l)+u&&(i=!i)}return i}(r,a);n?d():i&&(d(),l())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,c,a,l,d]),(0,k.jsx)(l8,{...e,ref:s})}),[l6,l3]=lZ(lH,{isInside:!1}),l5=(0,lN.createSlottable)("TooltipContent"),l8=en.forwardRef((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,u=lG(l0,r),l=lF(r),{onClose:c}=u;return en.useEffect(()=>(document.addEventListener(l$,c),()=>document.removeEventListener(l$,c)),[c]),en.useEffect(()=>{if(u.trigger){let e=e=>{let t=e.target;t?.contains(u.trigger)&&c()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,c]),(0,k.jsx)(lR,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:c,children:(0,k.jsxs)(lL.Content,{"data-state":u.stateAttribute,...l,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,k.jsx)(l5,{children:n}),(0,k.jsx)(l6,{scope:r,isInside:!0,children:(0,k.jsx)(lz.Root,{id:u.contentId,role:"tooltip",children:i||n})})]})})});l1.displayName=l0;var l4="TooltipArrow";en.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=lF(r);return l3(l4,r).isInside?null:(0,k.jsx)(lL.Arrow,{...i,...n,ref:t})}).displayName=l4;var l9=e.i(71216);function l7({children:e}){let[t]=(0,en.useState)(()=>new er);return(0,en.useEffect)(()=>{ln.actions.ready()},[]),(0,k.jsx)(es,{client:t,children:(0,k.jsxs)(lV,{children:[e,(0,k.jsx)(li.Toaster,{}),(0,k.jsx)(l_,{})]})})}en.forwardRef(({className:e,sideOffset:t=4,...r},n)=>(0,k.jsx)(l1,{ref:n,sideOffset:t,className:(0,l9.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})).displayName=l1.displayName,e.s(["Providers",()=>l7],10786)}]);